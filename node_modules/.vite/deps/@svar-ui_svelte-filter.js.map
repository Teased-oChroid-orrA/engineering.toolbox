{
  "version": 3,
  "sources": ["../../@svar-ui/lib-dom/src/locate.ts", "../../@svar-ui/lib-dom/src/env.ts", "../../@svar-ui/lib-dom/src/delegateClick.ts", "../../@svar-ui/lib-dom/src/array.ts", "../../@svar-ui/lib-dom/src/clickOutside.ts", "../../@svar-ui/lib-dom/src/positioning.ts", "../../@svar-ui/lib-dom/src/common.ts", "../../@svar-ui/lib-dom/src/hotkeys.ts", "../../@svar-ui/lib-dom/src/dates.ts", "../../@svar-ui/lib-dom/src/locale.ts", "../../@svar-ui/lib-dom/src/salesforce.ts", "../../@svar-ui/svelte-core/src/components/helpers/getInputId.js", "../../@svar-ui/svelte-core/src/components/TextArea.svelte", "../../@svar-ui/svelte-core/src/components/Button.svelte", "../../@svar-ui/svelte-core/src/components/Checkbox.svelte", "../../@svar-ui/svelte-core/src/components/CheckboxGroup.svelte", "../../@svar-ui/svelte-core/src/components/Dropdown.svelte", "../../@svar-ui/svelte-core/src/components/ColorSelect.svelte", "../../@svar-ui/svelte-core/src/components/helpers/sliderMove.js", "../../@svar-ui/svelte-core/src/components/helpers/colorTransformator.js", "../../@svar-ui/svelte-core/src/components/helpers/colorValidation.js", "../../@svar-ui/core-locales/locales/en.js", "../../@svar-ui/svelte-core/src/components/helpers/locale.js", "../../@svar-ui/svelte-core/src/components/ColorBoard.svelte", "../../@svar-ui/svelte-core/src/components/ColorPicker.svelte", "../../@svar-ui/svelte-core/src/components/helpers/listnav.js", "../../@svar-ui/svelte-core/src/components/helpers/SuggestDropdown.svelte", "../../@svar-ui/svelte-core/src/components/Combo.svelte", "../../@svar-ui/svelte-core/src/components/Text.svelte", "../../@svar-ui/svelte-core/src/components/calendar/Header.svelte", "../../@svar-ui/svelte-core/src/components/calendar/Button.svelte", "../../@svar-ui/svelte-core/src/components/calendar/Month.svelte", "../../@svar-ui/svelte-core/src/components/calendar/Year.svelte", "../../@svar-ui/svelte-core/src/components/calendar/Duodecade.svelte", "../../@svar-ui/svelte-core/src/components/calendar/helpers.js", "../../@svar-ui/svelte-core/src/components/calendar/Panel.svelte", "../../@svar-ui/svelte-core/src/Locale.svelte", "../../@svar-ui/svelte-core/src/components/Calendar.svelte", "../../@svar-ui/svelte-core/src/components/DatePicker.svelte", "../../@svar-ui/svelte-core/src/components/RangeCalendar.svelte", "../../@svar-ui/svelte-core/src/components/DateRangePicker.svelte", "../../@svar-ui/svelte-core/src/components/Fullscreen.svelte", "../../@svar-ui/svelte-core/src/components/Icon.svelte", "../../@svar-ui/svelte-core/src/components/MultiCombo.svelte", "../../@svar-ui/svelte-core/src/components/Popup.svelte", "../../@svar-ui/svelte-core/src/components/Pager.svelte", "../../@svar-ui/svelte-core/src/components/RadioButton.svelte", "../../@svar-ui/svelte-core/src/components/RadioButtonGroup.svelte", "../../@svar-ui/svelte-core/src/components/RichSelect.svelte", "../../@svar-ui/svelte-core/src/components/Segmented.svelte", "../../@svar-ui/svelte-core/src/components/Select.svelte", "../../@svar-ui/svelte-core/src/components/Slider.svelte", "../../@svar-ui/svelte-core/src/components/Switch.svelte", "../../@svar-ui/svelte-core/src/components/Tabs.svelte", "../../@svar-ui/svelte-core/src/components/Counter.svelte", "../../@svar-ui/svelte-core/src/components/Notice.svelte", "../../@svar-ui/svelte-core/src/components/Notices.svelte", "../../@svar-ui/svelte-core/src/components/Modal.svelte", "../../@svar-ui/svelte-core/src/components/Globals.svelte", "../../@svar-ui/svelte-core/src/components/Field.svelte", "../../@svar-ui/svelte-core/src/components/TwoState.svelte", "../../@svar-ui/svelte-core/src/components/TimePicker.svelte", "../../@svar-ui/svelte-core/src/components/ModalArea.svelte", "../../@svar-ui/svelte-core/src/components/SideArea.svelte", "../../@svar-ui/svelte-core/src/components/Portal.svelte", "../../@svar-ui/svelte-core/src/themes/FonttRoboto.svelte", "../../@svar-ui/svelte-core/src/themes/Material.svelte", "../../@svar-ui/svelte-core/src/themes/FontOpenSans.svelte", "../../@svar-ui/svelte-core/src/themes/Willow.svelte", "../../@svar-ui/svelte-core/src/themes/WillowDark.svelte", "../../@svar-ui/lib-state/src/helpers.ts", "../../@svar-ui/lib-state/src/DataArray.ts", "../../@svar-ui/lib-state/src/DataTree.ts", "../../@svar-ui/lib-state/src/Store.ts", "../../@svar-ui/lib-state/src/DataRouter.ts", "../../@svar-ui/lib-state/src/EventBus.ts", "../../@svar-ui/lib-state/src/EventResolver.ts", "../../@svar-ui/lib-state/src/EventBusRouter.ts", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/shared/utils.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/client/reactivity/equality.js", "../../@svar-ui/lib-svelte/node_modules/esm-env/dev-fallback.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/client/errors.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/client/dom/task.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/internal/client/dom/elements/events.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/index-client.js", "../../@svar-ui/lib-svelte/node_modules/svelte/src/store/shared/index.js", "../../@svar-ui/lib-svelte/src/form.ts", "../../@svar-ui/lib-svelte/src/env.ts", "../../@svar-ui/svelte-core/src/index.js", "../../@svar-ui/svelte-menu/src/helpers/index.js", "../../@svar-ui/svelte-menu/src/components/MenuOption.svelte", "../../@svar-ui/svelte-menu/src/components/Menu.svelte", "../../@svar-ui/svelte-menu/src/components/ActionMenu.svelte", "../../@svar-ui/svelte-menu/src/components/MenuBar.svelte", "../../@svar-ui/svelte-menu/src/components/DropDownMenu.svelte", "../../@svar-ui/svelte-menu/src/components/ContextMenu.svelte", "../../@svar-ui/filter-locales/locales/en.js", "../../@svar-ui/filter-store/dist/index.js", "../../@svar-ui/svelte-filter/src/components/editor/Layout.svelte", "../../@svar-ui/svelte-filter/src/components/editor/FilterEditor.svelte", "../../@svar-ui/svelte-filter/src/components/editor/Panel.svelte", "../../@svar-ui/svelte-filter/src/components/editor/Rule.svelte", "../../@svar-ui/svelte-filter/src/components/editor/Glue.svelte", "../../@svar-ui/svelte-filter/src/components/editor/List.svelte", "../../@svar-ui/svelte-filter/src/components/Layout.svelte", "../../@svar-ui/svelte-filter/src/components/FilterBuilder.svelte", "../../@svar-ui/svelte-filter/src/components/bar/Layout.svelte", "../../@svar-ui/svelte-filter/src/components/bar/FilterBar.svelte", "../../@svar-ui/svelte-filter/src/themes/Material.svelte", "../../@svar-ui/svelte-filter/src/themes/Willow.svelte", "../../@svar-ui/svelte-filter/src/themes/WillowDark.svelte", "../../@svar-ui/svelte-filter/src/index.js"],
  "sourcesContent": ["export function locate(el: Element | Event, attr = \"data-id\"): HTMLElement {\n\tlet node = el as HTMLElement;\n\tif (!node.tagName && (el as Event).target)\n\t\tnode = (el as Event).target as HTMLElement;\n\n\twhile (node) {\n\t\tif (node.getAttribute) {\n\t\t\tconst id = node.getAttribute(attr);\n\t\t\tif (id) return node;\n\t\t}\n\n\t\tnode = node.parentNode as HTMLElement;\n\t}\n\n\treturn null;\n}\nexport function locateAttr(el: Element | Event, attr = \"data-id\"): string {\n\tconst node = locate(el, attr);\n\tif (node) return node.getAttribute(attr);\n\n\treturn null;\n}\nexport function locateID(\n\tel: Element | Event,\n\tattr = \"data-id\"\n): string | number {\n\tconst node = locate(el, attr);\n\n\tif (node) {\n\t\treturn id(node.getAttribute(attr));\n\t}\n\n\treturn null;\n}\n\nexport function locateNode(el: Element, node: Element): boolean {\n\tlet n = el;\n\twhile (n) {\n\t\tif (n === node) {\n\t\t\treturn true;\n\t\t}\n\t\tn = n?.parentNode as Element;\n\t}\n\n\treturn null;\n}\n\nexport function id(value: string | number): string | number {\n\tif (typeof value === \"string\") {\n\t\tconst t = (value as undefined as number) * 1;\n\t\tif (!isNaN(t)) return t;\n\t}\n\n\treturn value;\n}\n", "export interface Env {\n\tdetect: () => boolean;\n\taddEvent: (\n\t\tnode: HTMLElement,\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject\n\t) => RemoveEventListener;\n\taddGlobalEvent: (\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject,\n\t\trel: HTMLElement\n\t) => RemoveEventListener;\n\tgetTopNode: (rel: HTMLElement) => HTMLElement;\n}\n\nexport type RemoveEventListener = () => void;\n\nfunction getEnv(): Env {\n\treturn {\n\t\tdetect: () => true,\n\t\taddEvent: function (\n\t\t\tnode: Node,\n\t\t\tevent: string,\n\t\t\thandler: EventListenerOrEventListenerObject\n\t\t): RemoveEventListener {\n\t\t\tnode.addEventListener(event, handler);\n\t\t\treturn () => node.removeEventListener(event, handler);\n\t\t},\n\t\taddGlobalEvent: function (\n\t\t\tevent: string,\n\t\t\thandler: EventListenerOrEventListenerObject\n\t\t): RemoveEventListener {\n\t\t\tdocument.addEventListener(event, handler);\n\t\t\treturn () => document.removeEventListener(event, handler);\n\t\t},\n\t\tgetTopNode: function (): HTMLElement {\n\t\t\treturn window.document.body as HTMLElement;\n\t\t},\n\t};\n}\n\nexport const env = getEnv();\n\nexport function setEnv(update: Partial<Env>): void {\n\tObject.assign(env, update);\n}\n", "import type { ActionReturn } from \"./common\";\nimport { locate, id as parseId } from \"./locate\";\n\nexport type IHandlersHash = { [key: string]: CallableFunction };\nimport { env } from \"./env\";\n\nexport function delegateEvent(\n\tnode: HTMLElement,\n\thandlers: IHandlersHash | CallableFunction,\n\tevent: string\n): ActionReturn {\n\tfunction handleEvent(ev: Event) {\n\t\tconst node = locate(ev);\n\t\tif (!node) return;\n\t\tconst id = parseId(node.dataset.id);\n\n\t\tif (typeof handlers === \"function\") return handlers(id, ev);\n\n\t\tlet action;\n\t\tlet test = ev.target as HTMLElement;\n\t\twhile (test != node) {\n\t\t\taction = test.dataset ? test.dataset.action : null;\n\t\t\tif (action) {\n\t\t\t\tif (handlers[action]) {\n\t\t\t\t\thandlers[action](id, ev);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = test.parentNode as HTMLElement;\n\t\t}\n\t\tif (handlers[event]) handlers[event](id, ev);\n\t}\n\n\tenv.addEvent(node, event, handleEvent);\n}\n\nexport function delegateClick(\n\tnode: HTMLElement,\n\thandlers: IHandlersHash\n): ActionReturn {\n\tdelegateEvent(node, handlers, \"click\");\n\tif (handlers.dblclick) delegateEvent(node, handlers.dblclick, \"dblclick\");\n}\n", "export function remove<T>(items: T[], node: T): void {\n\tfor (let i = items.length - 1; i >= 0; i--) {\n\t\tif (items[i] === node) {\n\t\t\titems.splice(i, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n", "import { remove } from \"./array\";\nimport { env, RemoveEventListener } from \"./env\";\nimport type { ActionReturn } from \"./common\";\n\ntype OutsideListener = {\n\tnode: HTMLElement;\n\tdate: Date;\n\tprops?: OutsideListenerProps;\n};\n\ntype OutsideListenerProps = {\n\tcallback: CallableFunction;\n\tmodal?: boolean;\n};\n\nlet activationDate: Date = new Date();\nlet skipNext = false;\n\nlet outsideHandlers: RemoveEventListener[] = [];\nconst outsideListners: OutsideListener[] = [];\nconst handleOutsideClick: EventListener = (event: Event) => {\n\t// activation was inside of the elements, ignoring\n\tif (skipNext) {\n\t\tskipNext = false;\n\t\treturn;\n\t}\n\n\t// for each area check if event was outside of the element\n\tfor (let i = outsideListners.length - 1; i >= 0; i--) {\n\t\t// if event was already handled, we can skip the rest\n\t\t// it is used by menu and alike, where we want to close only one\n\t\t//if (event.defaultPrevented) return;\n\n\t\tconst { node, date, props } = outsideListners[i];\n\t\t// if element was opened after click event - ignore it\n\t\tif (date > activationDate) continue;\n\n\t\tif (!node.contains(event.target as Node) && node !== event.target) {\n\t\t\tif (props.callback) props.callback(event);\n\t\t\t// in case of modal we want to close only one\n\t\t\t// also we want to close only one if event was already handled\n\t\t\tif (props.modal || event.defaultPrevented) break;\n\t\t}\n\t}\n};\n\n// we are tracking mousedown for two reasons:\n// 1. to be sure that mouse action was started inside the element\n// 2. to ignore click event that was issued before new listener was added\n// this is important for popups, because they are usually added after click event\n// and we don't want to close them immediately\nconst handleMouseDown: EventListener = (event: Event) => {\n\tactivationDate = new Date();\n\tskipNext = true;\n\n\tfor (let i = outsideListners.length - 1; i >= 0; i--) {\n\t\tconst { node } = outsideListners[i];\n\t\tif (!node.contains(event.target as Node) && node !== event.target) {\n\t\t\t// activation outside of the elements\n\t\t\tskipNext = false;\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\nexport function clickOutside(\n\tnode: HTMLElement,\n\tprops: CallableFunction | OutsideListenerProps\n): ActionReturn {\n\t// set handler only once\n\tif (!outsideHandlers.length) {\n\t\toutsideHandlers = [\n\t\t\tenv.addGlobalEvent(\"click\", handleOutsideClick, node),\n\t\t\tenv.addGlobalEvent(\"contextmenu\", handleOutsideClick, node),\n\t\t\tenv.addGlobalEvent(\"mousedown\", handleMouseDown, node),\n\t\t];\n\t}\n\n\tif (typeof props !== \"object\") {\n\t\tprops = { callback: props };\n\t}\n\tconst pack = { node, date: new Date(), props };\n\toutsideListners.push(pack);\n\n\treturn {\n\t\tdestroy() {\n\t\t\tremove(outsideListners, pack);\n\t\t\tif (!outsideListners.length) {\n\t\t\t\toutsideHandlers.forEach(e => e());\n\t\t\t\toutsideHandlers = [];\n\t\t\t}\n\t\t},\n\t};\n}\n", "import { env } from \"./env\";\n\ntype positionResult = {\n\tx: number;\n\ty: number;\n\tz: number;\n\twidth: string;\n};\n\nexport type TPosition =\n\t| \"point\"\n\t| \"bottom\"\n\t| \"top\"\n\t| \"left\"\n\t| \"right\"\n\t| \"center\"\n\t| \"bottom-fit\"\n\t| \"top-fit\"\n\t| \"center-fit\"\n\t| \"bottom-right\"\n\t| \"bottom-left\"\n\t| \"bottom-start\"\n\t| \"bottom-center\"\n\t| \"bottom-end\"\n\t| \"top-right\"\n\t| \"top-left\"\n\t| \"top-start\"\n\t| \"top-center\"\n\t| \"top-end\"\n\t| \"left-start\"\n\t| \"left-center\"\n\t| \"left-end\"\n\t| \"right-start\"\n\t| \"right-center\"\n\t| \"right-end\";\n\nconst isBottom = (mode: string) => mode.indexOf(\"bottom\") !== -1;\nconst isLeft = (mode: string) => mode.indexOf(\"left\") !== -1;\nconst isRight = (mode: string) => mode.indexOf(\"right\") !== -1;\nconst isTop = (mode: string) => mode.indexOf(\"top\") !== -1;\nconst isFit = (mode: string) => mode.indexOf(\"fit\") !== -1;\nconst isOverlap = (mode: string) => mode.indexOf(\"overlap\") !== -1;\nconst isCenter = (mode: string) => {\n\treturn mode.split(\"-\").every(v => [\"center\", \"fit\"].indexOf(v) > -1);\n};\nconst getAlign = (mode: string) => {\n\tconst match = mode.match(/(start|center|end)/);\n\treturn match ? match[0] : null;\n};\n\nfunction getMaxIndex(p: HTMLElement, ap: HTMLElement): number {\n\tlet zi = 0;\n\tconst top = env.getTopNode(p);\n\n\twhile (p) {\n\t\tif (p === top) break;\n\t\tconst pos = getComputedStyle(p)[\"position\"];\n\t\tif (pos === \"absolute\" || pos === \"relative\" || pos === \"fixed\") {\n\t\t\tzi = parseInt(getComputedStyle(p)[\"zIndex\"]) || 0;\n\t\t}\n\t\tp = p.parentNode as HTMLElement;\n\t\tif (p === ap) break;\n\t}\n\n\treturn zi;\n}\n\nlet x: number,\n\ty: number,\n\twidth: string,\n\tpos: {\n\t\tleft: number;\n\t\tright: number;\n\t\ttop: number;\n\t\tbottom: number;\n\t\twidth?: number;\n\t\theight?: number;\n\t};\n\nexport function calculatePosition(\n\tself: HTMLElement,\n\tparent: HTMLElement,\n\tat: TPosition = \"bottom\",\n\tleft: number = 0,\n\ttop: number = 0\n): positionResult {\n\tif (!self) return null;\n\n\tx = left;\n\ty = top;\n\twidth = \"auto\";\n\tlet z = 0;\n\tlet fixLeft = 0;\n\n\tconst body = getAbsParent(self);\n\tconst cont = isOverlap(at) ? env.getTopNode(self) : body;\n\n\tif (!body) return null;\n\n\tconst bodyRect = body.getBoundingClientRect();\n\tconst selfRect = self.getBoundingClientRect();\n\tconst contRect = cont.getBoundingClientRect();\n\n\tconst contStyle = window.getComputedStyle(cont);\n\tconst border: { [key: string]: number } = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\tbottom: 0,\n\t\tright: 0,\n\t};\n\tfor (const key in border) {\n\t\tconst style = `border-${key}-width`;\n\t\tborder[key] = parseFloat(contStyle.getPropertyValue(style));\n\t}\n\n\t// correct z-index\n\tif (parent) {\n\t\tconst zi = getMaxIndex(parent, body);\n\t\tz = Math.max(zi + 1, 20);\n\t}\n\n\t// set position\n\tif (parent) {\n\t\tpos = parent.getBoundingClientRect();\n\t\tif (isFit(at)) width = pos.width + \"px\";\n\t\tif (at !== \"point\") {\n\t\t\tif (isCenter(at)) {\n\t\t\t\tif (isFit(at)) {\n\t\t\t\t\tx = 0;\n\t\t\t\t} else {\n\t\t\t\t\tx = contRect.width / 2;\n\t\t\t\t\tfixLeft = 1;\n\t\t\t\t}\n\t\t\t\ty = (contRect.height - selfRect.height) / 2;\n\t\t\t} else {\n\t\t\t\tconst fix = isOverlap(at) ? 0 : 1;\n\t\t\t\tx = isRight(at) ? pos.right + fix : pos.left - fix;\n\t\t\t\ty = isBottom(at) ? pos.bottom + 1 : pos.top;\n\t\t\t\t// correct x|y depending on align\n\t\t\t\tconst align = getAlign(at);\n\t\t\t\tif (align) {\n\t\t\t\t\tif (isRight(at) || isLeft(at)) {\n\t\t\t\t\t\tif (align === \"center\") y -= (selfRect.height - pos.height) / 2;\n\t\t\t\t\t\telse if (align === \"end\") y -= selfRect.height - pos.height;\n\t\t\t\t\t} else if (isBottom(at) || isTop(at)) {\n\t\t\t\t\t\tif (align === \"center\") x -= (selfRect.width - pos.width) / 2;\n\t\t\t\t\t\telse if (align === \"end\") x -= selfRect.width - pos.width;\n\t\t\t\t\t\tif (!isOverlap(at)) x += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else pos = { left: left, right: left, top: top, bottom: top };\n\n\tconst isCorner = (isLeft(at) || isRight(at)) && (isBottom(at) || isTop(at));\n\n\t/* horizontal positioning */\n\n\tif (isLeft(at)) {\n\t\tfixLeft = 2;\n\t}\n\n\tconst dxL = x - selfRect.width - contRect.left;\n\n\tif (parent && isLeft(at) && !isCorner && dxL < 0) {\n\t\t// swap to right if \"left\" / \"left-[align]\" does not fit\n\t\tx = pos.right;\n\t\tfixLeft = 0;\n\t}\n\n\tconst dxR = x + selfRect.width * (1 - fixLeft / 2) - contRect.right;\n\n\tif (dxR > 0) {\n\t\tif (!isRight(at)) {\n\t\t\tx = contRect.right - border.right - selfRect.width;\n\t\t} else {\n\t\t\tconst dx = pos.left - contRect.x - selfRect.width;\n\t\t\tif (parent && !isOverlap(at) && !isCorner && dx >= 0) {\n\t\t\t\t// change position to \"left\"\n\t\t\t\tx = pos.left - selfRect.width;\n\t\t\t} else {\n\t\t\t\tx -= dxR + border.right;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (fixLeft) {\n\t\t// apply \"left\" / \"center\" position\n\t\tx = Math.round(x - (selfRect.width * fixLeft) / 2);\n\t}\n\n\t/* vertical positioning*/\n\n\tconst needSwap = dxL < 0 || dxR > 0 || !isCorner;\n\n\tif (isTop(at)) {\n\t\ty = pos.top - selfRect.height;\n\t\tif (parent && y < contRect.y && needSwap) {\n\t\t\t// change position to \"bottom\"\n\t\t\ty = pos.bottom;\n\t\t}\n\t}\n\n\tconst dy = y + selfRect.height - contRect.bottom;\n\n\tif (dy > 0) {\n\t\tif (parent && isBottom(at) && needSwap) {\n\t\t\t// change position to \"top\"\n\t\t\ty -= selfRect.height + pos.height + 1;\n\t\t} else {\n\t\t\ty -= dy + border.bottom;\n\t\t}\n\t}\n\n\tx -= bodyRect.left + border.left;\n\ty -= bodyRect.top + border.top;\n\tx = Math.max(x, 0) + cont.scrollLeft;\n\ty = Math.max(y, 0) + cont.scrollTop;\n\twidth = width || \"auto\";\n\n\treturn { x, y, z, width };\n}\n\nexport function getAbsParent(el: HTMLElement): HTMLElement | null {\n\tconst top = env.getTopNode(el);\n\tif (el) el = el.parentElement;\n\twhile (el) {\n\t\tconst pos = getComputedStyle(el)[\"position\"];\n\t\tif (\n\t\t\tel === top ||\n\t\t\tpos === \"relative\" ||\n\t\t\tpos === \"absolute\" ||\n\t\t\tpos === \"fixed\"\n\t\t)\n\t\t\treturn el;\n\n\t\tel = el.parentNode as HTMLElement;\n\t}\n\treturn null;\n}\n", "export type ActionReturn = void | {\n    destroy: () => void;\n};\n\nlet id = new Date().valueOf();\n\nexport function uid(): number {\n\tid += 1;\n\treturn id;\n}\n", "type Handler = (ev?: KeyboardEvent, keys?: { key: string, evKey: string }) => void;\n\nclass ScreenKeys {\n\tstore: Map<string, Handler>;\n\tnode: Node;\n\tconstructor() {\n\t\tthis.store = new Map();\n\t}\n\n\tconfigure(hotkeys: { [key: string]: Handler | false }, node: Node) {\n\t\tthis.node = node;\n\t\tfor (const hotkey in hotkeys) {\n\t\t\tif (hotkeys[hotkey]) {\n\t\t\t\tconst hotkeyFormatted = hotkey.toLowerCase().replace(/[ ]/g, \"\");\n\t\t\t\tconst handler = hotkeys[hotkey];\n\t\t\t\tthis.store.set(hotkeyFormatted, handler);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst chain: ScreenKeys[] = [];\nexport const hotkeys = {\n\tsubscribe: (v: (t: ScreenKeys) => void) => {\n\t\tinit_once();\n\n\t\tconst t = new ScreenKeys();\n\t\tchain.push(t);\n\t\tv(t);\n\n\t\treturn () => {\n\t\t\tconst ind = chain.findIndex(a => a === t);\n\t\t\tif (ind >= 0) chain.splice(ind, 1);\n\t\t};\n\t},\n};\n\nvar ready = false;\nfunction init_once() {\n\tif (ready) return;\n\tready = true;\n\n\tdocument.addEventListener(\"keydown\", ev => {\n\t\tif (\n\t\t\tchain.length &&\n\t\t\t(ev.ctrlKey ||\n\t\t\t\tev.altKey ||\n\t\t\t\tev.metaKey ||\n\t\t\t\tev.shiftKey ||\n\t\t\t\tev.key.length > 1 ||\n\t\t\t\tev.key === \" \")\n\t\t) {\n\t\t\tconst code = [];\n\t\t\tif (ev.ctrlKey) code.push(\"ctrl\");\n\t\t\tif (ev.altKey) code.push(\"alt\");\n\t\t\tif (ev.metaKey) code.push(\"meta\");\n\t\t\tif (ev.shiftKey) code.push(\"shift\");\n\t\t\tlet evKey = ev.code.replace(\"Key\", \"\").toLocaleLowerCase();\n\t\t\tif (ev.key === \" \") {\n\t\t\t\tevKey = \"space\";\n\t\t\t}\n\t\t\tcode.push(evKey);\n\n\t\t\tconst key = code.join(\"+\");\n\n\t\t\tfor (let i = chain.length - 1; i >= 0; i--) {\n\t\t\t\tconst target = chain[i];\n\t\t\t\tconst handler =\n\t\t\t\t\ttarget.store.get(key) || target.store.get(evKey);\n\t\t\t\tif (handler && target.node.contains(ev.target as Node)) {\n\t\t\t\t\thandler(ev, { key, evKey });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n", "export interface ILocale {\n\tdayShort: string[];\n\tdayFull: string[];\n\tmonthShort: string[];\n\tmonthFull: string[];\n\n\tweekStart?: number;\n\n\tam?: string[];\n\tpm?: string[];\n}\n\nfunction toFixed(num: number): string {\n\tif (num < 10) return \"0\" + num;\n\treturn num.toString();\n}\nfunction toFixedMs(num: number): string {\n\tconst temp = toFixed(num);\n\treturn temp.length == 2 ? \"0\" + temp : temp;\n}\n\nexport function getDuodecade(year: number): { start: number; end: number } {\n\tconst start = Math.floor(year / 11) * 11;\n\treturn {\n\t\tstart,\n\t\tend: start + 11,\n\t};\n}\n\n// returns the number of the week by given date, by default with ISO week start as Monday\nfunction getWeekNumber(ndate: Date, weekStart: number = 1): number {\n\tlet nday = ndate.getDay();\n\tif (nday === 0) {\n\t\tnday = 7; // normalizing to ISO format\n\t}\n\n\tnday = (nday - weekStart + 7) % 7; // rotate week to make weekStart day 0\n\n\tconst first_thursday = new Date(ndate.valueOf());\n\tfirst_thursday.setDate(ndate.getDate() + (3 - nday));\n\tconst year_number = first_thursday.getFullYear(); // year of the first Thursday\n\tconst ordinal_date = Math.floor(\n\t\t(first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) /\n\t\t\t86400000\n\t); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\n\treturn 1 + Math.floor(ordinal_date / 7);\n}\n\nconst emptyAmPm = [\"\", \"\"];\nfunction date2str(mask: string, date: Date, locale: ILocale): number | string {\n\tswitch (mask) {\n\t\tcase \"%d\":\n\t\t\treturn toFixed(date.getDate());\n\t\tcase \"%m\":\n\t\t\treturn toFixed(date.getMonth() + 1);\n\t\tcase \"%j\":\n\t\t\treturn date.getDate();\n\t\tcase \"%n\":\n\t\t\treturn date.getMonth() + 1;\n\t\tcase \"%y\":\n\t\t\treturn toFixed(date.getFullYear() % 100);\n\t\tcase \"%Y\":\n\t\t\treturn date.getFullYear();\n\t\tcase \"%D\":\n\t\t\treturn locale.dayShort[date.getDay()];\n\t\tcase \"%l\":\n\t\t\treturn locale.dayFull[date.getDay()];\n\t\tcase \"%M\":\n\t\t\treturn locale.monthShort[date.getMonth()];\n\t\tcase \"%F\":\n\t\t\treturn locale.monthFull[date.getMonth()];\n\t\tcase \"%h\":\n\t\t\treturn toFixed(((date.getHours() + 11) % 12) + 1);\n\t\tcase \"%g\":\n\t\t\treturn ((date.getHours() + 11) % 12) + 1;\n\t\tcase \"%G\":\n\t\t\treturn date.getHours();\n\t\tcase \"%H\":\n\t\t\treturn toFixed(date.getHours());\n\t\tcase \"%i\":\n\t\t\treturn toFixed(date.getMinutes());\n\t\tcase \"%a\":\n\t\t\treturn ((date.getHours() > 11 ? locale.pm : locale.am) || emptyAmPm)[0];\n\t\tcase \"%A\":\n\t\t\treturn ((date.getHours() > 11 ? locale.pm : locale.am) || emptyAmPm)[1];\n\t\tcase \"%s\":\n\t\t\treturn toFixed(date.getSeconds());\n\t\tcase \"%S\":\n\t\t\treturn toFixedMs(date.getMilliseconds());\n\t\tcase \"%W\":\n\t\t\treturn toFixed(getWeekNumber(date));\n\t\tcase \"%w\":\n\t\t\treturn toFixed(getWeekNumber(date, locale.weekStart ?? 1));\n\t\tcase \"%c\": {\n\t\t\tlet str = date.getFullYear() + \"\";\n\t\t\tstr += \"-\" + toFixed(date.getMonth() + 1);\n\t\t\tstr += \"-\" + toFixed(date.getDate());\n\t\t\tstr += \"T\";\n\t\t\tstr += toFixed(date.getHours());\n\t\t\tstr += \":\" + toFixed(date.getMinutes());\n\t\t\tstr += \":\" + toFixed(date.getSeconds());\n\t\t\treturn str;\n\t\t}\n\t\tcase \"%Q\":\n\t\t\treturn Math.floor(date.getMonth() / 3) + 1;\n\t\tdefault:\n\t\t\treturn mask;\n\t}\n}\n\nconst formatFlags = /%[a-zA-Z]/g;\ntype DateFormatter = (date: Date) => string;\n\nexport function dateToString(format: string, locale: ILocale): DateFormatter {\n\tif (typeof format == \"function\") return format;\n\n\treturn function (date: Date): string {\n\t\tif (!date) return \"\";\n\t\tif (!date.getMonth) date = new Date(date);\n\n\t\treturn format.replace(\n\t\t\tformatFlags,\n\t\t\ts => date2str(s, date, locale) as string\n\t\t);\n\t};\n}\n", "type Dictionary = (key: string) => string;\ntype IHash<T> = { [key: string]: T };\ntype Group<T> = IHash<IHash<T> | T>;\nexport type Terms = Group<string>;\n\nexport interface ILocale {\n\tgetGroup(group: string): Dictionary;\n\tgetRaw(): Terms;\n\textend(values: Terms, optional: boolean): ILocale;\n}\n\nfunction isObject(a: string | IHash<string>) {\n\treturn a && typeof a === \"object\" && !Array.isArray(a);\n}\n\nfunction extend(a: Terms, b: Terms): Terms {\n\tfor (const key in b) {\n\t\tconst from = b[key];\n\t\tif (isObject(a[key]) && isObject(from)) {\n\t\t\ta[key] = extend(\n\t\t\t\t{ ...(a[key] as IHash<string>) },\n\t\t\t\tb[key] as IHash<string>\n\t\t\t) as IHash<string>;\n\t\t} else {\n\t\t\ta[key] = b[key];\n\t\t}\n\t}\n\n\treturn a;\n}\n\nexport function locale(words: Terms): ILocale {\n\treturn {\n\t\tgetGroup(group: string): Dictionary {\n\t\t\tconst block = words[group] as IHash<string>;\n\t\t\treturn (key: string) => {\n\t\t\t\treturn block ? block[key] || key : key;\n\t\t\t};\n\t\t},\n\t\tgetRaw(): Terms {\n\t\t\treturn words;\n\t\t},\n\t\textend(values: Terms, optional: boolean): ILocale {\n\t\t\tif (!values) return this;\n\n\t\t\tlet data: Terms;\n\t\t\tif (optional) {\n\t\t\t\tdata = extend({ ...values }, words);\n\t\t\t} else {\n\t\t\t\tdata = extend({ ...words }, values);\n\t\t\t}\n\n\t\t\treturn locale(data);\n\t\t},\n\t};\n}\n", "import type { Env, RemoveEventListener } from \"./env\";\n\nexport const salesForceEnv: Partial<Env> = {\n\tdetect() {\n\t\tif (typeof window === \"undefined\") return false;\n\t\treturn (\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"Sfdc\"] ||\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"$A\"] ||\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t!!(window as any)[\"Aura\"] ||\n\t\t\t\"$shadowResolver$\" in document.body\n\t\t);\n\t},\n\taddGlobalEvent: function (\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject,\n\t\trel: HTMLElement\n\t): RemoveEventListener {\n\t\tconst d = salesForceEnv.getTopNode(rel);\n\t\td.addEventListener(event, handler);\n\t\treturn () => d.removeEventListener(event, handler);\n\t},\n\tgetTopNode: function (rel: HTMLElement): HTMLElement {\n\t\treturn rel.closest('[data-wx-root=\"true\"]') as HTMLElement;\n\t},\n};\n", "import { getContext } from \"svelte\";\nimport { uid } from \"@svar-ui/lib-dom\";\n\nexport function getInputId(id) {\n\tconst register = getContext(\"wx-input-id\");\n\treturn id || (register && register()) || uid();\n}\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\tid,\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\treadonly = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n</script>\n\n<textarea\n\tclass=\"wx-textarea\"\n\tclass:wx-error={error}\n\tbind:value\n\tid={inputId}\n\t{disabled}\n\t{placeholder}\n\t{readonly}\n\t{title}\n\toninput={() => onchange && onchange({ value, input: true })}\n\tonchange={() => onchange && onchange({ value })}\n></textarea>\n\n<style>\n\t.wx-textarea {\n\t\tdisplay: block;\n\t\tresize: vertical;\n\t\twidth: var(--wx-input-width);\n\t\tmax-width: 100%;\n\t\tpadding: var(--wx-input-padding);\n\t\toutline: none;\n\t\tmin-height: 100px;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t}\n\t.wx-textarea:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\t.wx-textarea::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\t.wx-textarea::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\n\t.wx-textarea[disabled] {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t\tresize: none;\n\t}\n\t.wx-textarea[disabled]::-moz-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-textarea[disabled]::placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-textarea.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n</style>\n", "<script>\n\tlet {\n\t\ttype = \"\",\n\t\tcss = \"\",\n\t\ticon = \"\",\n\t\tdisabled = false,\n\t\ttitle = \"\",\n\t\ttext = \"\",\n\t\tchildren,\n\t\tonclick,\n\t} = $props();\n\n\tlet buttonCss = $derived.by(() => {\n\t\tlet cssType = type\n\t\t\t? type\n\t\t\t\t\t.split(\" \")\n\t\t\t\t\t.filter(a => a !== \"\")\n\t\t\t\t\t.map(x => \"wx-\" + x)\n\t\t\t\t\t.join(\" \")\n\t\t\t: \"\";\n\t\treturn css + (css ? \" \" : \"\") + cssType;\n\t});\n\n\tconst handleClick = ev => {\n\t\tonclick && onclick(ev);\n\t};\n</script>\n\n<button\n\t{title}\n\tclass={`wx-button ${buttonCss}`}\n\tclass:wx-icon={icon && !children}\n\t{disabled}\n\tonclick={handleClick}\n>\n\t{#if icon}<i class={icon}></i>{/if}\n\t{#if children}{@render children()}{:else}{text}{/if}\n</button>\n\n<style>\n\t.wx-button {\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\ttext-decoration: none;\n\t\ttext-align: center;\n\t\tletter-spacing: normal;\n\t\ttext-transform: var(--wx-button-text-transform);\n\t\tfont-family: var(--wx-button-font-family);\n\t\tfont-size: var(--wx-button-font-size);\n\t\tline-height: var(--wx-button-line-height);\n\t\tfont-weight: var(--wx-button-font-weight);\n\t\tpadding: var(--wx-button-padding);\n\t\tborder: var(--wx-button-border);\n\t\tborder-radius: var(--wx-button-border-radius);\n\t\tbackground-color: var(--wx-button-background);\n\t\tcolor: var(--wx-button-font-color);\n\t\tcursor: pointer;\n\t\tbox-shadow: none;\n\t\ttransition: none;\n\t\tmax-width: 100%;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tmin-width: var(--wx-button-width);\n\t}\n\n\t.wx-button:hover {\n\t\tbackground-image: linear-gradient(\n\t\t\trgba(0, 0, 0, 0.1) 0%,\n\t\t\trgba(0, 0, 0, 0.1) 100%\n\t\t);\n\t}\n\n\t.wx-button,\n\t.wx-button:focus,\n\t.wx-button:active {\n\t\toutline: none;\n\t}\n\n\t.wx-button[disabled] {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-color-disabled);\n\t\tborder-color: transparent;\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-block {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t}\n\n\t.wx-square {\n\t\tborder-radius: 0;\n\t}\n\n\ti {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\tfont-size: var(--wx-button-icon-size);\n\t\tline-height: 1;\n\t\theight: var(--wx-button-line-height);\n\t\tmargin-right: 2px;\n\t\topacity: 0.7;\n\t}\n\ti:before {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\n\t.wx-icon {\n\t\tpadding-left: var(--wx-button-icon-indent);\n\t\tpadding-right: var(--wx-button-icon-indent);\n\t\tmin-width: auto;\n\t}\n\t.wx-icon i {\n\t\tmargin: 0;\n\t\topacity: 1;\n\t}\n\n\t.wx-primary {\n\t\tbackground-color: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t}\n\n\t.wx-pressed,\n\t.wx-pressed:hover,\n\t.wx-pressed:active,\n\t.wx-pressed[disabled] {\n\t\tbackground-color: var(--wx-button-pressed);\n\t\tbox-shadow: var(--wx-button-box-shadow);\n\t}\n\n\t.wx-primary.wx-pressed:not(:global([disabled])),\n\t.wx-primary.wx-pressed:hover:not(:global([disabled])),\n\t.wx-primary.wx-pressed:active:not(:global([disabled])) {\n\t\tbackground-color: var(--wx-button-primary-pressed);\n\t\tbox-shadow: var(--wx-button-primary-box-shadow);\n\t}\n\n\t.wx-danger.wx-pressed:not(:global([disabled])),\n\t.wx-danger.wx-pressed:hover:not(:global([disabled])),\n\t.wx-danger.wx-pressed:active:not(:global([disabled])) {\n\t\tbackground-color: var(--wx-button-danger-pressed);\n\t\tbox-shadow: var(--wx-button-primary-box-shadow);\n\t}\n\n\t.wx-secondary {\n\t\tbackground: var(--wx-color-secondary);\n\t\tcolor: var(--wx-color-secondary-font);\n\t\tborder-color: var(--wx-color-secondary-border);\n\t}\n\t.wx-secondary:hover:not(:global([disabled])) {\n\t\tbackground: var(--wx-color-secondary-hover);\n\t}\n\t.wx-secondary.wx-pressed:not(:global([disabled])),\n\t.wx-secondary.wx-pressed:hover:not(:global([disabled])),\n\t.wx-secondary.wx-pressed:active:not(:global([disabled])) {\n\t\tbackground: var(--wx-color-secondary-hover);\n\t\tbox-shadow: var(--wx-button-primary-box-shadow);\n\t}\n\t.wx-secondary[disabled] {\n\t\tborder-color: var(--wx-color-secondary-border-disabled);\n\t}\n\n\t.wx-danger {\n\t\tbackground-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-button-danger-font-color);\n\t}\n\n\t.wx-link {\n\t\tcolor: var(--wx-color-link);\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tvertical-align: baseline;\n\t}\n\t.wx-link,\n\t.wx-link:hover,\n\t.wx-link[disabled] {\n\t\tbackground: transparent;\n\t}\n\t.wx-link[disabled] {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId\";\n\n\tlet {\n\t\tid,\n\t\tlabel = \"\",\n\t\tinputValue = \"\",\n\t\tvalue = $bindable(false),\n\t\tstyle = \"\",\n\t\tdisabled = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tfunction handlerChange({ target }) {\n\t\tvalue = target.checked;\n\t\tonchange && onchange({ value, inputValue });\n\t}\n</script>\n\n<div {style} class=\"wx-checkbox\">\n\t<input\n\t\ttype=\"checkbox\"\n\t\tid={inputId}\n\t\t{disabled}\n\t\tchecked={value}\n\t\tvalue={inputValue}\n\t\tonchange={handlerChange}\n\t/>\n\t<label for={inputId}>\n\t\t<span></span>\n\t\t{#if label}<span>{label}</span>{/if}\n\t</label>\n</div>\n\n<style>\n\t.wx-checkbox {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\tmax-width: var(--wx-input-width);\n\t}\n\tinput {\n\t\t-webkit-appearance: none;\n\t\t   -moz-appearance: none;\n\t\t        appearance: none;\n\t\twidth: 0;\n\t\theight: 0;\n\t\topacity: 0;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\tlabel {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: flex-start;\n\t\tfont-family: var(--wx-checkbox-font-family);\n\t\tfont-size: var(--wx-checkbox-font-size);\n\t\tline-height: var(--wx-checkbox-line-height);\n\t\tfont-weight: var(--wx-checkbox-font-weight);\n\t\tcolor: var(--wx-checkbox-font-color);\n\t\tcursor: pointer;\n\t}\n\tspan {\n\t\tdisplay: block;\n\t}\n\tspan + span {\n\t\tmargin-left: 8px;\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-line-height)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-line-height)) / 2\n\t\t);\n\t}\n\tspan:first-child {\n\t\tposition: relative;\n\t\tflex-shrink: 0;\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-size)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-size)) / 2\n\t\t);\n\t}\n\tspan:first-child:before {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\twidth: var(--wx-checkbox-size);\n\t\theight: var(--wx-checkbox-size);\n\t\tborder: var(--wx-checkbox-border-width) solid\n\t\t\tvar(--wx-checkbox-border-color);\n\t\tborder-radius: var(--wx-checkbox-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t}\n\tspan:first-child:after {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tdisplay: none;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\twidth: calc(var(--wx-checkbox-size) * 0.56);\n\t\theight: calc(var(--wx-checkbox-size) * 0.32);\n\t\tborder-style: solid;\n\t\tborder-color: var(--wx-color-primary-font);\n\t\tborder-width: 0 0 calc(var(--wx-checkbox-size) * 0.12)\n\t\t\tcalc(var(--wx-checkbox-size) * 0.12);\n\t\ttransform: rotate(-45deg);\n\t\tmargin-left: calc(var(--wx-checkbox-size) * -0.26);\n\t\tmargin-top: calc(var(--wx-checkbox-size) * -0.24);\n\t}\n\tinput:checked ~ label span:first-child:before {\n\t\tbackground: var(--wx-color-primary);\n\t\tborder-color: transparent;\n\t}\n\tinput:checked ~ label span:first-child:after {\n\t\tdisplay: block;\n\t}\n\tinput[disabled] ~ label {\n\t\tcolor: var(--wx-checkbox-border-color-disabled);\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled]:not(:global(:checked)) ~ label span:first-child:before {\n\t\tborder-color: var(--wx-checkbox-border-color-disabled);\n\t}\n\tinput[disabled]:checked ~ label span:first-child:before {\n\t\tbackground: var(--wx-checkbox-border-color-disabled);\n\t}\n\tinput[disabled] ~ label span:first-child:after {\n\t\tborder-color: var(--wx-input-background);\n\t}\n</style>\n", "<script>\n\timport Checkbox from \"./Checkbox.svelte\";\n\timport { setContext } from \"svelte\";\n\n\tlet { options = [], value = $bindable([]), type = \"\", onchange } = $props();\n\n\tsetContext(\"wx-input-id\", null);\n\n\tfunction handleChange(obj) {\n\t\tif (obj.value) value = [...value, obj.inputValue];\n\t\telse value = value.filter(a => a != obj.inputValue);\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<div class=\"wx-checkboxgroup {type && `wx-${type}`}\">\n\t{#each options as option}\n\t\t<div class=\"wx-item\">\n\t\t\t<Checkbox\n\t\t\t\tlabel={option.label}\n\t\t\t\tinputValue={option.id}\n\t\t\t\tvalue={value.includes(option.id)}\n\t\t\t\tonchange={handleChange}\n\t\t\t/>\n\t\t</div>\n\t{/each}\n</div>\n\n<style>\n\t.wx-checkboxgroup {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\talign-items: flex-start;\n\t\tjustify-content: flex-start;\n\t\tmargin-top: calc(var(--wx-field-gutter) * -1);\n\t}\n\t.wx-item {\n\t\tflex: 0 0 100%;\n\t\tmax-width: 100%;\n\t\tmargin-top: var(--wx-field-gutter);\n\t}\n\n\t.wx-checkboxgroup.wx-inline .wx-item {\n\t\tflex: none;\n\t\tpadding-right: var(--wx-field-gutter);\n\t}\n\n\t.wx-checkboxgroup.wx-grid .wx-item {\n\t\tflex: 0 0 50%;\n\t\tmax-width: 50%;\n\t\tpadding-right: var(--wx-field-gutter);\n\t}\n</style>\n", "<script>\n\timport { clickOutside } from \"@svar-ui/lib-dom\";\n\timport { env } from \"@svar-ui/lib-dom\";\n\n\tlet {\n\t\tposition = \"bottom\",\n\t\talign = \"start\",\n\t\tautoFit = true,\n\t\toncancel,\n\t\twidth = \"100%\",\n\t\tchildren,\n\t} = $props();\n\n\tlet node;\n\t$effect(() => {\n\t\tif (autoFit) {\n\t\t\tconst nodeCoords = node.getBoundingClientRect();\n\t\t\tconst bodyCoords = env.getTopNode(node).getBoundingClientRect();\n\n\t\t\tif (nodeCoords.right >= bodyCoords.right) {\n\t\t\t\talign = \"end\";\n\t\t\t}\n\n\t\t\tif (nodeCoords.bottom >= bodyCoords.bottom) {\n\t\t\t\tposition = \"top\";\n\t\t\t}\n\t\t\treturn `${position}-${align}`;\n\t\t}\n\t});\n\n\tfunction down(e) {\n\t\toncancel && oncancel(e);\n\t}\n</script>\n\n<div\n\tuse:clickOutside={down}\n\tbind:this={node}\n\tclass=\"wx-dropdown {`wx-${position}-${align}`}\"\n\tstyle=\"width:{width}\"\n>\n\t{@render children?.()}\n</div>\n\n<style>\n\t.wx-dropdown {\n\t\tposition: absolute;\n\t\tz-index: 5;\n\t\tbackground: var(--wx-popup-background);\n\t\tbox-shadow: var(--wx-popup-shadow);\n\t\tborder: var(--wx-popup-border);\n\t\tborder-radius: var(--wx-popup-border-radius);\n\t\toverflow: hidden;\n\t}\n\n\t.wx-top-center {\n\t\ttop: 0;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -100%) translateY(-2px);\n\t}\n\n\t.wx-top-start {\n\t\ttop: 0;\n\t\tleft: 0;\n\t\ttransform: translateY(-100%) translateY(-2px);\n\t}\n\n\t.wx-top-end {\n\t\ttop: 0;\n\t\tright: 0;\n\t\ttransform: translateY(-100%) translateY(-2px);\n\t}\n\n\t.wx-bottom-center {\n\t\tbottom: 0;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 100%) translateY(2px);\n\t}\n\n\t.wx-bottom-start {\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\ttransform: translateY(100%) translateY(2px);\n\t}\n\n\t.wx-bottom-end {\n\t\tbottom: 0;\n\t\tright: 0;\n\t\ttransform: translateY(100%) translateY(2px);\n\t}\n\n\t.wx-left-center {\n\t\tbottom: 50%;\n\t\tleft: 0;\n\t\ttransform: translate(-100%, 50%) translateX(-2px);\n\t}\n\n\t.wx-left-start {\n\t\ttop: 0;\n\t\tleft: 0;\n\t\ttransform: translateX(-100%) translateX(-2px);\n\t}\n\n\t.wx-left-end {\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\ttransform: translateX(-100%) translateX(-2px);\n\t}\n\n\t.wx-right-center {\n\t\tbottom: 50%;\n\t\tright: 0;\n\t\ttransform: translate(100%, 50%) translateX(2px);\n\t}\n\n\t.wx-right-start {\n\t\ttop: 0;\n\t\tright: 0;\n\t\ttransform: translateX(100%) translateX(2px);\n\t}\n\n\t.wx-right-end {\n\t\tbottom: 0;\n\t\tright: 0;\n\t\ttransform: translateX(100%) translateX(2px);\n\t}\n</style>\n", "<script>\n\timport Dropdown from \"./Dropdown.svelte\";\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tconst defaultColors = [\n\t\t\"#00a037\",\n\t\t\"#37a9ef\",\n\t\t\"#f5a623\",\n\t\t\"#ff4c3b\",\n\t\t\"#a0a0a0\",\n\t\t\"#000000\",\n\t\t\"#ffffff\",\n\t];\n\n\tlet {\n\t\tcolors = defaultColors,\n\t\tvalue = $bindable(\"\"),\n\t\tid,\n\t\tclear = false,\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet popup = $state(false);\n\n\tfunction selectColor(ev, color) {\n\t\tev.stopPropagation();\n\t\tvalue = color;\n\t\tpopup = false;\n\t\tonchange && onchange({ value });\n\t}\n\tfunction unselectColor(ev) {\n\t\tev.stopPropagation();\n\t\tvalue = \"\";\n\t\tonchange && onchange({ value });\n\t}\n\tfunction handlePopup() {\n\t\tif (disabled) return false;\n\t\tpopup = true;\n\t}\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div class=\"wx-colorselect\" onclick={handlePopup}>\n\t<input\n\t\t{title}\n\t\t{value}\n\t\treadonly\n\t\tid={inputId}\n\t\t{placeholder}\n\t\t{disabled}\n\t\tclass:wx-error={error}\n\t\tclass:wx-focus={popup}\n\t/>\n\n\t{#if clear && value && !disabled}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wx-clear wxi-close\" onclick={unselectColor}></i>\n\t{/if}\n\n\t{#if value}\n\t\t<div\n\t\t\tclass=\"wx-color wx-selected\"\n\t\t\tstyle=\"background-color: {value || '#00a037'}\"\n\t\t></div>\n\t{:else}\n\t\t<div class=\"wx-empty wx-selected\"></div>\n\t{/if}\n\n\t{#if popup}\n\t\t<Dropdown oncancel={() => (popup = false)}>\n\t\t\t<div class=\"wx-colors\">\n\t\t\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t\t\t<div class=\"wx-empty\" onclick={ev => selectColor(ev, \"\")}></div>\n\t\t\t\t{#each colors as color}\n\t\t\t\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t\t\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"wx-color\"\n\t\t\t\t\t\tstyle=\"background-color: {color}\"\n\t\t\t\t\t\tonclick={ev => selectColor(ev, color)}\n\t\t\t\t\t></div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</Dropdown>\n\t{/if}\n</div>\n\n<style>\n\t.wx-colorselect {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\n\t.wx-selected {\n\t\tposition: absolute;\n\t\tleft: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\n\t.wx-colors {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 8px;\n\t\tpadding: 8px;\n\t}\n\n\t.wx-color {\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tcursor: pointer;\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-input-height);\n\t\toutline: none;\n\t\tbackground: var(--wx-input-background);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\tpadding-left: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\tinput.wx-focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tinput::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput[disabled] {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\tinput[disabled]::-moz-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled]::placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled] ~ .wx-color,\n\tinput[disabled] ~ .wx-empty {\n\t\tcursor: not-allowed;\n\t}\n\tinput.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-empty {\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: linear-gradient(\n\t\t\tto top left,\n\t\t\trgba(0, 0, 0, 0) 0%,\n\t\t\trgba(0, 0, 0, 0) calc(50% - 1px),\n\t\t\trgb(255, 0, 0) 50%,\n\t\t\trgba(0, 0, 0, 0) calc(50% + 1px),\n\t\t\trgba(0, 0, 0, 0) 100%\n\t\t);\n\t\tcursor: pointer;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t}\n\n\t.wxi-close {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tcolor: var(--wx-input-icon-color);\n\t\tcursor: pointer;\n\t}\n\t.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n</style>\n", "export function sliderMove(node, config) {\n\tconst slider = node.firstChild;\n\tconst { moveBlockSlider, moveLineSlider } = config || {};\n\n\tfunction down(ev) {\n\t\tmove(ev);\n\n\t\tslider.focus();\n\n\t\twindow.addEventListener(\"mousemove\", move);\n\t\twindow.addEventListener(\"mouseup\", up);\n\t}\n\n\tfunction move(ev) {\n\t\tlet x, y, dx, dy;\n\n\t\tconst coords = node.getBoundingClientRect();\n\t\tx = coords.left;\n\t\ty = coords.top;\n\n\t\tdx = ev.clientX - x;\n\t\tdy = ev.clientY - y;\n\n\t\tif (moveBlockSlider) config.moveBlockSlider(dx, dy);\n\t\tif (moveLineSlider) config.moveLineSlider(dx);\n\t}\n\n\tfunction up() {\n\t\tslider.blur();\n\n\t\twindow.removeEventListener(\"mousemove\", move);\n\t\twindow.removeEventListener(\"mouseup\", up);\n\t}\n\n\tnode.addEventListener(\"mousedown\", down);\n\n\treturn {\n\t\tdestroy() {\n\t\t\tnode.removeEventListener(\"mousedown\", down);\n\t\t},\n\t};\n}\n", "const colorTransformator = {\n\t_toHex: [\n\t\t\"0\",\n\t\t\"1\",\n\t\t\"2\",\n\t\t\"3\",\n\t\t\"4\",\n\t\t\"5\",\n\t\t\"6\",\n\t\t\"7\",\n\t\t\"8\",\n\t\t\"9\",\n\t\t\"A\",\n\t\t\"B\",\n\t\t\"C\",\n\t\t\"D\",\n\t\t\"E\",\n\t\t\"F\",\n\t],\n\ttoHex(number, length) {\n\t\tnumber = parseInt(number, 10);\n\t\tlet str = \"\";\n\t\twhile (number > 0) {\n\t\t\tstr = this._toHex[number % 16] + str;\n\t\t\tnumber = Math.floor(number / 16);\n\t\t}\n\t\twhile (str.length < length) str = `0${str}`;\n\t\treturn str;\n\t},\n\trgbToHex(rgb) {\n\t\tlet arr = [];\n\t\tif (typeof rgb === \"string\")\n\t\t\trgb.replace(/[\\d+.]+/g, v => arr.push(parseFloat(v)));\n\t\telse if (Array.isArray(rgb)) arr = rgb;\n\n\t\t//transparent\n\t\tif (arr[3] === 0) return \"\";\n\n\t\treturn arr\n\t\t\t.slice(0, 3)\n\t\t\t.map(n => {\n\t\t\t\treturn this.toHex(Math.floor(n), 2);\n\t\t\t})\n\t\t\t.join(\"\");\n\t},\n\thexToDec(hex) {\n\t\treturn parseInt(hex, 16);\n\t},\n\t// only handles the six-digit hex color format\n\thexToRgb(hex) {\n\t\thex = hex.charAt(0) === \"#\" ? hex.slice(1) : hex;\n\t\tconst rgbPairs = hex.match(/.{1,2}/g);\n\n\t\tlet [r, g, b] = rgbPairs;\n\n\t\tr = this.hexToDec(r);\n\t\tg = this.hexToDec(g);\n\t\tb = this.hexToDec(b);\n\n\t\treturn [r, g, b];\n\t},\n\thsvToRgb(h, s, v) {\n\t\tlet hi, f, p, q, t, r, g, b;\n\t\thi = Math.floor(h / 60) % 6;\n\t\tf = h / 60 - hi;\n\t\tp = v * (1 - s);\n\t\tq = v * (1 - f * s);\n\t\tt = v * (1 - (1 - f) * s);\n\t\tr = 0;\n\t\tg = 0;\n\t\tb = 0;\n\t\tswitch (hi) {\n\t\t\tcase 0:\n\t\t\t\tr = v;\n\t\t\t\tg = t;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tr = q;\n\t\t\t\tg = v;\n\t\t\t\tb = p;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tr = p;\n\t\t\t\tg = v;\n\t\t\t\tb = t;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tr = p;\n\t\t\t\tg = q;\n\t\t\t\tb = v;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tr = t;\n\t\t\t\tg = p;\n\t\t\t\tb = v;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tr = v;\n\t\t\t\tg = p;\n\t\t\t\tb = q;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tr = Math.floor(r * 255);\n\t\tg = Math.floor(g * 255);\n\t\tb = Math.floor(b * 255);\n\n\t\treturn [r, g, b];\n\t},\n\trgbToHsv(r, g, b) {\n\t\tlet s, h, v;\n\t\tr /= 255;\n\t\tg /= 255;\n\t\tb /= 255;\n\t\tlet min = Math.min(r, g, b);\n\t\tlet max = Math.max(r, g, b);\n\t\th = 0;\n\t\ts = max === 0 ? 0 : 1 - min / max;\n\t\tv = max;\n\t\tif (max === min) {\n\t\t\th = 0;\n\t\t} else if (max === r && g >= b) {\n\t\t\th = (60 * (g - b)) / (max - min) + 0;\n\t\t} else if (max === r && g < b) {\n\t\t\th = (60 * (g - b)) / (max - min) + 360;\n\t\t} else if (max === g) {\n\t\t\th = (60 * (b - r)) / (max - min) + 120;\n\t\t} else if (max === b) {\n\t\t\th = (60 * (r - g)) / (max - min) + 240;\n\t\t}\n\n\t\treturn [h, s, v];\n\t},\n\thexToHvs(hex) {\n\t\tconst rgb = this.hexToRgb(hex);\n\t\treturn this.rgbToHsv(...rgb);\n\t},\n\thvsToHex(h, v, s) {\n\t\tconst rgb = this.hsvToRgb(h, v, s);\n\t\treturn \"#\" + this.rgbToHex(rgb).toUpperCase();\n\t},\n};\n\nexport default colorTransformator;\n", "const hexValidation = str => /^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(str);\n\nexport function parseColor(value) {\n\tif (!value) return null;\n\n\tvalue = value.toString(16);\n\n\tif (value.charAt(0) === \"#\") value = value.slice(1);\n\n\tif (hexValidation(value)) {\n\t\tif (value.length === 3) {\n\t\t\tvalue = value\n\t\t\t\t.slice(0, 3)\n\t\t\t\t.split(\"\")\n\t\t\t\t.reduce((a, b) => a + b + b, \"\");\n\t\t}\n\t\treturn `#${value.toUpperCase()}`;\n\t}\n\n\treturn null;\n}\n", "const lang = \"en-US\";\n\nconst calendar = {\n\tmonthFull: [\n\t\t\"January\",\n\t\t\"February\",\n\t\t\"March\",\n\t\t\"April\",\n\t\t\"May\",\n\t\t\"June\",\n\t\t\"July\",\n\t\t\"August\",\n\t\t\"September\",\n\t\t\"October\",\n\t\t\"November\",\n\t\t\"December\",\n\t],\n\tmonthShort: [\n\t\t\"Jan\",\n\t\t\"Feb\",\n\t\t\"Mar\",\n\t\t\"Apr\",\n\t\t\"May\",\n\t\t\"Jun\",\n\t\t\"Jul\",\n\t\t\"Aug\",\n\t\t\"Sep\",\n\t\t\"Oct\",\n\t\t\"Nov\",\n\t\t\"Dec\",\n\t],\n\tdayFull: [\n\t\t\"Sunday\",\n\t\t\"Monday\",\n\t\t\"Tuesday\",\n\t\t\"Wednesday\",\n\t\t\"Thursday\",\n\t\t\"Friday\",\n\t\t\"Saturday\",\n\t],\n\tdayShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\thours: \"Hours\",\n\tminutes: \"Minutes\",\n\tdone: \"Done\",\n\tclear: \"Clear\",\n\ttoday: \"Today\",\n\tam: [\"am\", \"AM\"],\n\tpm: [\"pm\", \"PM\"],\n\n\tweekStart: 0,\n\tclockFormat: 24,\n};\n\nconst core = {\n\tok: \"OK\",\n\tcancel: \"Cancel\",\n\tselect: \"Select\",\n\t\"No data\": \"No data\",\n\t\"Rows per page\": \"Rows per page\",\n\t\"Total pages\": \"Total pages\",\n};\n\nconst formats = {\n\ttimeFormat: \"%H:%i\",\n\tdateFormat: \"%m/%d/%Y\",\n\tmonthYearFormat: \"%F %Y\",\n\tyearFormat: \"%Y\",\n};\n\nconst data = {\n\tcore,\n\tcalendar,\n\tformats,\n\tlang,\n};\n\nexport default data;\n", "import { locale } from \"@svar-ui/lib-dom\";\nimport { en } from \"@svar-ui/core-locales\";\n\nexport function defaultLocale() {\n\treturn locale(en);\n}\n", "<script>\n\timport { onMount, getContext } from \"svelte\";\n\timport Button from \"./Button.svelte\";\n\n\t//helpers\n\timport { sliderMove } from \"./helpers/sliderMove\";\n\timport colorTransformator from \"./helpers/colorTransformator\";\n\timport { parseColor } from \"./helpers/colorValidation.js\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\n\tlet { value = $bindable(\"#65D3B3\"), button = false, onchange } = $props();\n\n\tlet block;\n\n\tconst _ = (getContext(\"wx-i18n\") || defaultLocale()).getGroup(\"core\");\n\n\tconst BLOCK = \"Block\";\n\tconst LINE = \"Line\";\n\n\tlet blockTop = $state();\n\tlet blockLeft = $state();\n\tlet hueColor = $state();\n\tlet colorLine = $state();\n\tlet lineLeft = $state();\n\n\tlet color = $derived(parseColor(value) || \"#65D3B3\");\n\tlet blockColor = $derived(colorTransformator.hvsToHex(hueColor, 1, 1));\n\n\tfunction moveBlockSlider(dx, dy) {\n\t\tconst { width, height } = block.getBoundingClientRect();\n\n\t\tif (dy < 0) dy = 0;\n\t\telse if (dy > height) dy = height;\n\n\t\tif (dx < 0) dx = 0;\n\t\telse if (dx > width) dx = width;\n\n\t\tblockTop = dy;\n\t\tblockLeft = dx;\n\n\t\tsetCurrentColor();\n\t}\n\n\tfunction setCurrentColor(lineSliderMove) {\n\t\tlet _sValue, _vValue;\n\n\t\tif (lineSliderMove) {\n\t\t\t[, _sValue, _vValue] = colorTransformator.hexToHvs(color);\n\t\t} else {\n\t\t\tconst { width, height } = block.getBoundingClientRect();\n\n\t\t\tconst pxX = width / 100;\n\t\t\tconst pxY = height / 100;\n\n\t\t\t_sValue = Math.ceil(blockLeft / pxX) / 100;\n\t\t\t_vValue = Math.ceil(Math.abs(blockTop / pxY - 100)) / 100;\n\t\t}\n\n\t\tvalue = colorTransformator.hvsToHex(hueColor, _sValue, _vValue);\n\t\tonchange && onchange({ value, input: true });\n\t}\n\n\tfunction moveLineSlider(dx) {\n\t\tconst width = colorLine.getBoundingClientRect().width;\n\n\t\tif (dx < 0) dx = 0;\n\t\telse if (dx > width) dx = width;\n\n\t\ttoggleLineColor(dx, width);\n\t}\n\n\tfunction toggleLineColor(dx, width) {\n\t\twidth = width || colorLine.getBoundingClientRect().width;\n\n\t\tlineLeft = dx;\n\n\t\tconst h = Math.round((lineLeft * 359) / width);\n\t\thueColor = Math.max(Math.min(h, 359), 0);\n\n\t\tsetCurrentColor(true);\n\t}\n\n\tonMount(() => setSlidersPosition());\n\n\tfunction setSlidersPosition() {\n\t\tconst [h, s, v] = colorTransformator.hexToHvs(color);\n\t\tconst { width, height } = block.getBoundingClientRect();\n\t\thueColor = h;\n\n\t\tlineLeft = (h * colorLine.getBoundingClientRect().width) / 359;\n\t\tblockLeft = s * width;\n\t\tblockTop = Math.abs(height * (v - 1));\n\t}\n\n\tfunction handleChange({ target }) {\n\t\tconst newColor = parseColor(target.value);\n\n\t\tvalue = newColor;\n\t\tonchange && onchange({ value, input: true });\n\t\tif (newColor) {\n\t\t\tsetSlidersPosition();\n\t\t}\n\t}\n\n\tfunction handleSelect(ev) {\n\t\tev.stopPropagation();\n\t\tonchange && onchange({ value: color });\n\t}\n\n\tfunction keydown(ev) {\n\t\tconst slider = ev.target;\n\t\tconst isSliderBlock = slider === BLOCK;\n\t\tconst isSliderLine = slider === LINE;\n\n\t\tlet css = window.getComputedStyle(slider);\n\t\tlet left = parseFloat(css.left);\n\t\tlet top = parseFloat(css.top);\n\t\tconst code = ev.code;\n\n\t\tif (isSliderBlock) {\n\t\t\tswitch (code) {\n\t\t\t\tcase \"ArrowLeft\": {\n\t\t\t\t\tleft--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"ArrowRight\": {\n\t\t\t\t\tleft++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"ArrowDown\": {\n\t\t\t\t\ttop++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"ArrowUp\": {\n\t\t\t\t\ttop--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoveBlockSlider(left, top);\n\t\t}\n\n\t\tif (isSliderLine) {\n\t\t\tif (code === \"ArrowLeft\" || code === \"ArrowDown\") left--;\n\t\t\telse if (code === \"ArrowRight\" || code === \"ArrowUp\") left++;\n\t\t\telse return;\n\t\t\tmoveLineSlider(left);\n\t\t}\n\n\t\tev.preventDefault();\n\t}\n</script>\n\n<div class=\"wx-colorboard\">\n\t<div\n\t\tclass=\"wx-color-block\"\n\t\tstyle=\"background: {blockColor};\"\n\t\tbind:this={block}\n\t\tuse:sliderMove={{ moveBlockSlider }}\n\t>\n\t\t<!-- svelte-ignore a11y_no_noninteractive_tabindex -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<div\n\t\t\tclass=\"wx-color-block-slider wx-slider\"\n\t\t\tstyle=\"background: {color}; top: {blockTop}px; left:{blockLeft}px;\"\n\t\t\ttabindex=\"0\"\n\t\t\tdata-slider={BLOCK}\n\t\t\tonkeydown={keydown}\n\t\t></div>\n\t</div>\n\t<div\n\t\tclass=\"wx-color-line\"\n\t\tbind:this={colorLine}\n\t\tuse:sliderMove={{ moveLineSlider }}\n\t>\n\t\t<!-- svelte-ignore a11y_no_noninteractive_tabindex -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<div\n\t\t\tclass=\"wx-color-line-slider wx-slider\"\n\t\t\tstyle=\"background: {blockColor}; left: {lineLeft}px;\"\n\t\t\ttabindex=\"0\"\n\t\t\tdata-slider={LINE}\n\t\t\tonkeydown={keydown}\n\t\t></div>\n\t</div>\n\t<div class=\"wx-color-controls\">\n\t\t<div class=\"wx-color\" style=\"background: {color}\"></div>\n\t\t<input type=\"text\" class=\"wx-text\" bind:value onchange={handleChange} />\n\t</div>\n\t{#if button}\n\t\t<Button onclick={handleSelect} type=\"secondary\">{_(\"select\")}</Button>\n\t{/if}\n</div>\n\n<style>\n\t.wx-colorboard {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12px;\n\t\tpadding: 8px;\n\t\twidth: 100%;\n\t}\n\n\t.wx-color-block {\n\t\theight: 140px;\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n\t}\n\n\t.wx-color-block::before,\n\t.wx-color-block::after {\n\t\tcontent: \"\";\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t}\n\t.wx-color-block:before {\n\t\tbackground-image: linear-gradient(0deg, #000, hsla(0, 0%, 100%, 0));\n\t\tz-index: 2;\n\t}\n\t.wx-color-block::after {\n\t\tbackground-image: linear-gradient(90deg, #fff, hsla(20, 42%, 65%, 0));\n\t\tz-index: 1;\n\t}\n\n\t.wx-color-block-slider {\n\t\theight: 16px;\n\t\twidth: 16px;\n\t\tmargin: -8px 0 0 -8px;\n\t}\n\n\t.wx-slider {\n\t\tborder: 2px solid white;\n\t\tborder-radius: 50%;\n\t\tposition: absolute;\n\t\tz-index: 3;\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n\t}\n\n\t.wx-slider:focus,\n\t.wx-slider:hover {\n\t\toutline: none;\n\t\tbox-shadow:\n\t\t\t0 1px 3px rgba(0, 0, 0, 0.2),\n\t\t\tinset 0 0 4px #ffffff;\n\t}\n\n\t.wx-color-line {\n\t\twidth: 100%;\n\t\theight: 8px;\n\t\tbackground-image: linear-gradient(\n\t\t\t90deg,\n\t\t\tred,\n\t\t\t#ff0 17%,\n\t\t\t#0f0 33%,\n\t\t\t#0ff 50%,\n\t\t\t#00f 67%,\n\t\t\t#f0f 83%,\n\t\t\tred\n\t\t);\n\t\tposition: relative;\n\t\tborder-radius: 6px;\n\t}\n\n\t.wx-color-line-slider {\n\t\theight: 14px;\n\t\twidth: 14px;\n\t\tmargin: 0 0 0 -7px;\n\t\ttop: -4px;\n\t}\n\n\t.wx-color-controls {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-between;\n\t}\n\n\t.wx-color,\n\t.wx-text {\n\t\twidth: calc(50% - 4px);\n\t}\n\n\t.wx-color {\n\t\theight: 32px;\n\t}\n\n\t.wx-text {\n\t\toutline: none;\n\t\tbackground: var(--wx-input-background);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t}\n\n\t.wx-text:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n</style>\n", "<script>\n\timport Dropdown from \"./Dropdown.svelte\";\n\timport ColorBoard from \"./ColorBoard.svelte\";\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\tid,\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tclear = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet popup = $state(false);\n\n\tfunction handlePopup() {\n\t\tif (disabled) return false;\n\t\tpopup = true;\n\t}\n\n\tfunction selectColor(ev) {\n\t\tif (ev.input) return;\n\n\t\tpopup = false;\n\t\tvalue = ev.value;\n\t\tonchange && onchange({ value });\n\t}\n\n\tfunction unselectColor(ev) {\n\t\tev.stopPropagation();\n\t\tvalue = \"\";\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div class=\"wx-colorpicker\" onclick={handlePopup}>\n\t<input\n\t\t{title}\n\t\t{value}\n\t\treadonly\n\t\tid={inputId}\n\t\t{placeholder}\n\t\t{disabled}\n\t\tclass:wx-error={error}\n\t\tclass:wx-focus={popup}\n\t/>\n\t<div class=\"wx-color\" style=\"background: {value}\"></div>\n\n\t{#if clear && !disabled && value}\n\t\t<i class=\"wxi-close\" onclick={unselectColor}></i>\n\t{/if}\n\n\t{#if popup}\n\t\t<Dropdown oncancel={() => (popup = false)}>\n\t\t\t<ColorBoard {value} button=\"true\" onchange={selectColor} />\n\t\t</Dropdown>\n\t{/if}\n</div>\n\n<style>\n\t.wx-colorpicker {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\n\t.wx-color {\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tcursor: pointer;\n\t\tposition: absolute;\n\t\tleft: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-input-height);\n\t\toutline: none;\n\t\tbackground: var(--wx-input-background);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\tpadding-left: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\tinput.wx-focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tinput::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput[disabled] {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\tinput[disabled]::-moz-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled]::placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled] ~ .wx-color {\n\t\tcursor: not-allowed;\n\t}\n\tinput.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wxi-close {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t\tcursor: pointer;\n\t}\n\t.wxi-close:before {\n\t\tdisplay: block;\n\t}\n\t.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n</style>\n", "import { locateID } from \"@svar-ui/lib-dom\";\n\nexport function getListHandlers() {\n\tlet navIndex = null;\n\tlet isVisible = false;\n\n\tlet list, options, navCallback, selectCallback;\n\tconst init = (l, o, n, c) => {\n\t\tlist = l;\n\t\toptions = o;\n\t\tnavCallback = n;\n\t\tselectCallback = c;\n\t};\n\n\tconst setNav = index => {\n\t\tnavIndex = index;\n\t\tisVisible = navIndex !== null;\n\t\tnavCallback(navIndex);\n\t};\n\tconst navigate = (dir, ev) => {\n\t\tconst index =\n\t\t\tdir === null\n\t\t\t\t? null\n\t\t\t\t: Math.max(0, Math.min(navIndex + dir, options.length - 1));\n\t\tif (index === navIndex) return;\n\t\tsetNav(index);\n\n\t\tif (list) scrollTo(index, ev);\n\t\telse requestAnimationFrame(() => scrollTo(index, ev));\n\t};\n\n\tconst scrollTo = (navIndex, ev) => {\n\t\tif (navIndex !== null && list) {\n\t\t\tconst next = list.querySelectorAll(`.wx-list > .wx-item`)[navIndex];\n\t\t\tif (next) {\n\t\t\t\tnext.scrollIntoView({ block: \"nearest\" });\n\t\t\t\tif (ev) ev.preventDefault();\n\t\t\t}\n\t\t}\n\t};\n\n\tconst move = ev => {\n\t\tconst id = locateID(ev);\n\t\t// if we have id:\"1\", the locateID will return 1 as number\n\t\t// so using non-strict comparison\n\t\tconst index = options.findIndex(a => a.id == id);\n\n\t\tif (index !== navIndex) {\n\t\t\tsetNav(index);\n\t\t}\n\t};\n\n\tconst keydown = (ev, position) => {\n\t\tswitch (ev.code) {\n\t\t\tcase \"Enter\":\n\t\t\t\tif (isVisible) selectCallback();\n\t\t\t\telse setNav(0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Space\":\n\t\t\t\tif (!isVisible) setNav(0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"Escape\":\n\t\t\t\tnavCallback((navIndex = null));\n\t\t\t\tbreak;\n\n\t\t\tcase \"Tab\":\n\t\t\t\tnavCallback((navIndex = null));\n\t\t\t\tbreak;\n\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tnavigate(isVisible ? 1 : position || 0, ev);\n\t\t\t\tbreak;\n\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tnavigate(isVisible ? -1 : position || 0, ev);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\treturn { move, keydown, init, navigate };\n}\n", "<script>\n\timport { onMount, getContext } from \"svelte\";\n\timport { getListHandlers } from \"./listnav\";\n\timport Dropdown from \"../Dropdown.svelte\";\n\timport { defaultLocale } from \"./locale\";\n\n\tlet { items = [], children, onselect, onready } = $props();\n\n\tlet list = $state();\n\tlet navIndex = $state(null);\n\n\tconst _ = (getContext(\"wx-i18n\") || defaultLocale()).getGroup(\"core\");\n\n\tconst { move, keydown, init, navigate } = getListHandlers();\n\n\tconst selectItem = ev => {\n\t\tif (ev) ev.stopPropagation();\n\t\tonselect && onselect({ id: items[navIndex]?.id });\n\t};\n\n\t$effect(() => {\n\t\tinit(list, items, i => (navIndex = i), selectItem);\n\t});\n\tonMount(() => {\n\t\tonready && onready({ navigate, keydown, move });\n\t});\n</script>\n\n{#if navIndex !== null}\n\t<Dropdown oncancel={() => navigate(null)}>\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<div\n\t\t\tclass=\"wx-list\"\n\t\t\tbind:this={list}\n\t\t\tonclick={selectItem}\n\t\t\tonmousemove={move}\n\t\t>\n\t\t\t{#if items.length}\n\t\t\t\t{#each items as data, index (data.id)}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"wx-item\"\n\t\t\t\t\t\tclass:wx-focus={index === navIndex}\n\t\t\t\t\t\tdata-id={data.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if children}{@render children({\n\t\t\t\t\t\t\t\toption: data,\n\t\t\t\t\t\t\t})}{:else}{data.label}{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t{:else}\n\t\t\t\t<div class=\"wx-no-data\">{_(\"No data\")}</div>\n\t\t\t{/if}\n\t\t</div>\n\t</Dropdown>\n{/if}\n\n<style>\n\t.wx-list {\n\t\tmax-height: 250px;\n\t\toverflow-y: auto;\n\t}\n\n\t.wx-item {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tcursor: pointer;\n\t}\n\t/* .item.selected {\n\t\tbackground: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t} */\n\t.wx-item.wx-focus {\n\t\tbackground: var(--wx-background-hover);\n\t}\n\t/* .item.selected.navigate {\n\t\tbackground: var(--wx-color-primary-hover);\n\t} */\n\t.wx-no-data {\n\t\tpadding: var(--wx-input-padding);\n\t}\n</style>\n", "<script>\n\timport List from \"./helpers/SuggestDropdown.svelte\";\n\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\tid,\n\t\toptions = [],\n\t\ttextOptions = null,\n\t\ttextField = \"label\",\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tclear = false,\n\t\tchildren: kids,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet filterActive = $state(false);\n\tlet textInput = $state(\"\");\n\n\tlet text = $derived.by(() => {\n\t\tif (filterActive) return textInput;\n\t\tif (value || value === 0) {\n\t\t\tconst option = (textOptions || options).find(a => a.id === value);\n\t\t\tif (option) return option[textField];\n\t\t}\n\t\treturn \"\";\n\t});\n\n\tlet filteredOptions = $derived.by(() => {\n\t\tif (!text || !filterActive) return options;\n\n\t\treturn options.filter(i =>\n\t\t\ti[textField].toLowerCase().includes(text.toLowerCase())\n\t\t);\n\t});\n\n\tlet navigate, keydown;\n\tfunction ready(ev) {\n\t\tnavigate = ev.navigate;\n\t\tkeydown = ev.keydown;\n\t}\n\tconst index = () => filteredOptions.findIndex(a => a.id === value);\n\tconst onclick = () => navigate(index());\n\tconst onkeydown = e => keydown(e, index());\n\n\tfunction selectByEvent({ id }) {\n\t\tdoSelect(id, true);\n\t}\n\n\tfunction selectByText(chunk) {\n\t\tif (!options.length) return;\n\t\tif (chunk === \"\" && clear) {\n\t\t\tdoUnselect();\n\t\t\treturn;\n\t\t}\n\n\t\tlet res = options.find(i => i[textField] === chunk);\n\t\tif (!res) {\n\t\t\tres = options.find(i =>\n\t\t\t\ti[textField].toLowerCase().includes(chunk.toLowerCase())\n\t\t\t);\n\t\t}\n\n\t\tconst id = res ? res.id : value || options[0].id;\n\t\tdoSelect(id, false);\n\t}\n\n\tfunction doSelect(id, effects) {\n\t\tif (id || id === 0) {\n\t\t\tlet selected = options.find(a => a.id === id);\n\t\t\tfilterActive = false;\n\n\t\t\tif (effects) navigate(null);\n\n\t\t\tif (selected && value !== selected.id) {\n\t\t\t\tvalue = selected.id;\n\t\t\t\tonchange && onchange({ value });\n\t\t\t}\n\t\t}\n\n\t\tif (!hasFocus && effects) inputElement.focus();\n\t}\n\n\tfunction doUnselect(ev) {\n\t\tif (ev) ev.stopPropagation();\n\n\t\tvalue = \"\";\n\t\tfilterActive = false;\n\t\tonchange && onchange({ value });\n\t}\n\n\tfunction oninput() {\n\t\ttextInput = inputElement.value;\n\t\tfilterActive = true;\n\n\t\tif (filteredOptions.length) navigate(0);\n\t\telse navigate(null);\n\t}\n\n\tlet inputElement, hasFocus;\n\tfunction onfocus() {\n\t\thasFocus = true;\n\t}\n\tfunction onblur() {\n\t\thasFocus = false;\n\t\tsetTimeout(() => {\n\t\t\tif (!hasFocus) selectByText(text);\n\t\t}, 200);\n\t}\n</script>\n\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div class=\"wx-combo\" {onclick} {onkeydown} {title}>\n\t<input\n\t\tid={inputId}\n\t\tbind:this={inputElement}\n\t\tvalue={text}\n\t\tclass:wx-error={error}\n\t\t{disabled}\n\t\t{placeholder}\n\t\t{onfocus}\n\t\t{onblur}\n\t\t{oninput}\n\t/>\n\n\t{#if clear && !disabled && value}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wx-icon wxi-close\" onclick={doUnselect}></i>\n\t{:else}<i class=\"wx-icon wxi-angle-down\"></i>{/if}\n\n\t{#if !disabled}\n\t\t<List items={filteredOptions} onready={ready} onselect={selectByEvent}>\n\t\t\t{#snippet children({ option })}\n\t\t\t\t{#if kids}{@render kids({ option })}{:else}{option[\n\t\t\t\t\t\ttextField\n\t\t\t\t\t]}{/if}\n\t\t\t{/snippet}\n\t\t</List>\n\t{/if}\n</div>\n\n<style>\n\t.wx-combo {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-input-height);\n\t\toutline: none;\n\t\tbackground: var(--wx-input-background);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tcursor: pointer;\n\t}\n\tinput:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tinput::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput[disabled] {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\tinput[disabled]::-moz-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled]::placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled] ~ .wx-icon {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n\tinput.wx-error ~ .wx-icon {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-icon {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\n\t.wx-icon.wxi-close {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\n\t.wx-icon.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n</style>\n", "<script>\n\timport { onMount } from \"svelte\";\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\tid,\n\t\treadonly = false,\n\t\tfocus = false,\n\t\tselect = false,\n\t\ttype = \"text\",\n\t\tplaceholder = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tinputStyle = \"\",\n\t\ttitle = \"\",\n\t\tcss = \"\",\n\t\ticon = \"\",\n\t\tclear = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet cssString = $derived(\n\t\ticon && css.indexOf(\"wx-icon-left\") === -1\n\t\t\t? \"wx-icon-right \" + css\n\t\t\t: css\n\t);\n\tlet hasLeftIcon = $derived(icon && css.indexOf(\"wx-icon-left\") !== -1);\n\n\t// svelte-ignore non_reactive_update\n\tlet input;\n\tonMount(() => {\n\t\t// wait till the source click processing will end\n\t\tsetTimeout(() => {\n\t\t\tif (focus && input) input.focus();\n\t\t\tif (select && input) input.select();\n\t\t}, 1);\n\t});\n\n\tconst oninput = () => onchange && onchange({ value, input: true });\n\tconst change = () => onchange && onchange({ value });\n\n\tfunction clearValue(ev) {\n\t\tev.stopPropagation();\n\t\tvalue = \"\";\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<div\n\tclass=\"wx-text {cssString}\"\n\tclass:wx-error={error}\n\tclass:wx-disabled={disabled}\n\tclass:wx-clear={clear}\n>\n\t{#if type == \"password\"}\n\t\t<input\n\t\t\tbind:value\n\t\t\tbind:this={input}\n\t\t\tid={inputId}\n\t\t\t{readonly}\n\t\t\t{disabled}\n\t\t\t{placeholder}\n\t\t\ttype=\"password\"\n\t\t\tstyle={inputStyle}\n\t\t\t{title}\n\t\t\t{oninput}\n\t\t\tonchange={change}\n\t\t/>\n\t{:else if type == \"number\"}\n\t\t<input\n\t\t\tbind:value\n\t\t\tbind:this={input}\n\t\t\tid={inputId}\n\t\t\t{readonly}\n\t\t\t{disabled}\n\t\t\t{placeholder}\n\t\t\ttype=\"number\"\n\t\t\tstyle={inputStyle}\n\t\t\t{title}\n\t\t\t{oninput}\n\t\t\tonchange={change}\n\t\t/>\n\t{:else}\n\t\t<input\n\t\t\tbind:value\n\t\t\tbind:this={input}\n\t\t\tid={inputId}\n\t\t\t{readonly}\n\t\t\t{disabled}\n\t\t\t{placeholder}\n\t\t\t{title}\n\t\t\tstyle={inputStyle}\n\t\t\t{oninput}\n\t\t\tonchange={change}\n\t\t/>\n\t{/if}\n\n\t{#if clear && !disabled && value}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wx-icon wxi-close\" onclick={clearValue}></i>\n\t\t{#if hasLeftIcon}<i class=\"wx-icon {icon}\"></i>{/if}\n\t{:else if icon}<i class=\"wx-icon {icon}\"></i>{/if}\n</div>\n\n<style>\n\t.wx-text {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\t.wx-text.wx-disabled .wx-icon {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-text.wx-error .wx-icon {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\t.wx-icon {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\n\t.wx-icon-left .wx-icon:not(.wxi-close) {\n\t\tright: auto;\n\t\tleft: var(--wx-input-icon-indent);\n\t}\n\n\t.wx-icon.wxi-close {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.wx-icon.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: var(--wx-input-width);\n\t\theight: var(--wx-input-height);\n\t\tmax-width: 100%;\n\t\tpadding: var(--wx-input-padding);\n\t\toutline: none;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\tinput:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tinput::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\n\t.wx-icon-left input {\n\t\tpadding-left: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t}\n\t.wx-icon-right input,\n\t.wx-text.wx-clear input {\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t}\n\n\tinput[disabled] {\n\t\tcursor: not-allowed !important;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t\tpointer-events: none;\n\t}\n\tinput[disabled]::-moz-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tinput[disabled]::placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-error input {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n</style>\n", "<script>\n\timport { dateToString, getDuodecade } from \"@svar-ui/lib-dom\";\n\timport { getContext } from \"svelte\";\n\n\tconst { calendar, formats } = getContext(\"wx-i18n\").getRaw();\n\n\tlet { date, type, part, onshift } = $props();\n\n\tconst year = $derived(date.getFullYear());\n\tconst label = $derived.by(() => {\n\t\tswitch (type) {\n\t\t\tcase \"month\":\n\t\t\t\treturn dateToString(formats.monthYearFormat, calendar)(date);\n\t\t\tcase \"year\":\n\t\t\t\treturn dateToString(formats.yearFormat, calendar)(date);\n\t\t\tcase \"duodecade\": {\n\t\t\t\tconst { start, end } = getDuodecade(year);\n\t\t\t\tconst yearFormat = dateToString(formats.yearFormat, calendar);\n\t\t\t\treturn `${yearFormat(new Date(start, 0, 1))} - ${yearFormat(new Date(end, 11, 31))}`;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction changeType() {\n\t\tonshift && onshift({ diff: 0, type });\n\t}\n</script>\n\n<div class=\"wx-header\">\n\t{#if part != \"right\"}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-pager wxi-angle-left\"\n\t\t\tonclick={() => onshift && onshift({ diff: -1, type })}\n\t\t></i>\n\t{:else}<span class=\"wx-spacer\"></span>{/if}\n\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t<span class=\"wx-label\" onclick={changeType}>{label}</span>\n\t{#if part != \"left\"}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-pager wxi-angle-right\"\n\t\t\tonclick={() => onshift && onshift({ diff: 1, type })}\n\t\t></i>\n\t{:else}<span class=\"wx-spacer\"></span>{/if}\n</div>\n\n<style>\n\t.wx-header {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tmargin-bottom: calc(var(--wx-calendar-gap) * 2);\n\t\tfont-size: var(--wx-calendar-header-font-size);\n\t\tline-height: var(--wx-calendar-header-line-height);\n\t\tfont-weight: var(--wx-calendar-header-font-weight);\n\t}\n\n\t.wx-spacer,\n\t.wx-pager {\n\t\twidth: var(--wx-calendar-cell-size);\n\t\theight: var(--wx-calendar-cell-size);\n\t\tflex-shrink: 0;\n\t}\n\t.wx-pager {\n\t\tcursor: pointer;\n\t\tborder-radius: 50%;\n\t\tline-height: 1;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-calendar-icon-color);\n\t\tfont-size: var(--wx-calendar-icon-size);\n\t}\n\t.wx-pager:before {\n\t\tdisplay: block;\n\t}\n\t.wx-pager:hover {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n\n\t.wx-label {\n\t\tflex: 0 0 calc(100% - var(--wx-calendar-cell-size) * 2);\n\t\tmax-width: calc(100% - var(--wx-calendar-cell-size) * 2);\n\t\ttext-align: center;\n\t\tcolor: var(--wx-color-link);\n\t\tcursor: pointer;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n</style>\n", "<script>\n\tlet { onclick, children } = $props();\n</script>\n\n<button {onclick}>\n\t{@render children?.()}\n</button>\n\n<style>\n\tbutton {\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\ttext-decoration: none;\n\t\ttext-align: center;\n\t\tletter-spacing: normal;\n\t\tfont-family: var(--wx-calendar-controls-font-family);\n\t\tfont-size: var(--wx-calendar-controls-font-size);\n\t\tline-height: var(--wx-calendar-controls-line-height);\n\t\tfont-weight: var(--wx-calendar-controls-font-weight);\n\t\ttext-transform: none;\n\t\tpadding: 0;\n\t\tborder: none;\n\t\tborder-radius: 0;\n\t\tbackground: transparent;\n\t\tcolor: var(--wx-calendar-controls-font-color);\n\t\tcursor: pointer;\n\t\tbox-shadow: none;\n\t\ttransition: none;\n\t\tmax-width: 100%;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t}\n\tbutton,\n\tbutton:focus,\n\tbutton:active {\n\t\toutline: none;\n\t}\n\tbutton:active {\n\t\topacity: 0.8;\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { delegateClick } from \"@svar-ui/lib-dom\";\n\timport { defaultLocale } from \"../helpers/locale\";\n\n\tlet {\n\t\tvalue,\n\t\tcurrent = $bindable(),\n\t\tpart = \"\",\n\t\tmarkers = null,\n\t\toncancel,\n\t\tonchange,\n\t} = $props();\n\n\tconst locale = (getContext(\"wx-i18n\") || defaultLocale()).getRaw().calendar;\n\tconst weekStart = (locale.weekStart || 7) % 7;\n\tconst weekdays = locale.dayShort\n\t\t.slice(weekStart)\n\t\t.concat(locale.dayShort.slice(0, weekStart));\n\n\tconst dv = (d, dm, dd) =>\n\t\tnew Date(\n\t\t\td.getFullYear(),\n\t\t\td.getMonth() + (dm || 0),\n\t\t\td.getDate() + (dd || 0)\n\t\t);\n\tlet ranges = part !== \"normal\";\n\n\tfunction isWeekEnd(date) {\n\t\tconst d = date.getDay();\n\t\treturn d === 0 || d === 6;\n\t}\n\n\tfunction getStart() {\n\t\tconst start = dv(current, 0, 1 - current.getDate());\n\t\tstart.setDate(\n\t\t\tstart.getDate() - ((start.getDay() - (weekStart - 7)) % 7)\n\t\t);\n\t\treturn start;\n\t}\n\tfunction getEnd() {\n\t\tconst end = dv(current, 1, -current.getDate());\n\t\tend.setDate(end.getDate() + ((6 - end.getDay() + weekStart) % 7));\n\t\treturn end;\n\t}\n\n\tconst selectDates = {\n\t\tclick: selectDate,\n\t};\n\n\tfunction selectDate(date, e) {\n\t\te.stopPropagation();\n\t\tonchange && onchange(new Date(new Date(date)));\n\t\toncancel && oncancel();\n\t}\n\n\tconst date = $derived.by(() => {\n\t\tif (part == \"normal\") return [value ? dv(value).valueOf() : 0];\n\t\treturn value\n\t\t\t? [\n\t\t\t\t\tvalue.start ? dv(value.start).valueOf() : 0,\n\t\t\t\t\tvalue.end ? dv(value.end).valueOf() : 0,\n\t\t\t\t]\n\t\t\t: [0, 0];\n\t});\n\n\tconst days = $derived.by(() => {\n\t\tconst start = getStart();\n\t\tconst end = getEnd();\n\t\tconst curMonth = current.getMonth();\n\n\t\tlet days = [];\n\t\tfor (let d = start; d <= end; d.setDate(d.getDate() + 1)) {\n\t\t\tconst day = {\n\t\t\t\tday: d.getDate(),\n\t\t\t\tin: d.getMonth() === curMonth,\n\t\t\t\tdate: d.valueOf(),\n\t\t\t};\n\n\t\t\tlet css = \"\";\n\t\t\tcss += !day.in ? \" wx-inactive\" : \"\";\n\t\t\tcss += date.indexOf(day.date) > -1 ? \" wx-selected\" : \"\";\n\n\t\t\tif (ranges) {\n\t\t\t\tconst s = day.date == date[0];\n\t\t\t\tconst e = day.date == date[1];\n\t\t\t\tif (s && !e) css += \" wx-left\";\n\t\t\t\telse if (e && !s) css += \" wx-right\";\n\n\t\t\t\tif (day.date > date[0] && day.date < date[1])\n\t\t\t\t\tcss += \" wx-inrange\";\n\t\t\t}\n\n\t\t\tcss += isWeekEnd(d) ? \" wx-weekend\" : \"\";\n\t\t\tif (markers) {\n\t\t\t\tconst mark = markers(d);\n\t\t\t\tif (mark) css += \" \" + mark;\n\t\t\t}\n\n\t\t\tdays.push({ ...day, css });\n\t\t}\n\t\treturn days;\n\t});\n</script>\n\n<div>\n\t<div class=\"wx-weekdays\">\n\t\t{#each weekdays as day}\n\t\t\t<div class=\"wx-weekday\">{day}</div>\n\t\t{/each}\n\t</div>\n\t<div class=\"wx-days\" use:delegateClick={selectDates}>\n\t\t{#each days as day (day.date)}\n\t\t\t<div\n\t\t\t\tclass=\"wx-day {day.css}\"\n\t\t\t\tclass:wx-out={!day.in}\n\t\t\t\tdata-id={day.date}\n\t\t\t>\n\t\t\t\t{day.day}\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n</div>\n\n<style>\n\t.wx-weekdays {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\tmargin-bottom: calc(var(--wx-calendar-gap) * 1.5);\n\t}\n\n\t.wx-weekday {\n\t\tflex: 0 0 calc(100% / 7);\n\t\tmax-width: calc(100% / 7);\n\t\tfont-size: var(--wx-font-size-sm);\n\t\tline-height: var(--wx-line-height-sm);\n\t\tcolor: var(--wx-color-font-alt);\n\t\ttext-align: center;\n\t}\n\n\t.wx-days {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.wx-day {\n\t\tborder-radius: var(--wx-calendar-border-radius);\n\t\tflex: 0 0 calc(100% / 7);\n\t\tmax-width: calc(100% / 7);\n\t\theight: calc(\n\t\t\tvar(--wx-calendar-cell-size) - var(--wx-calendar-line-gap) * 2\n\t\t);\n\t\tmargin: calc(var(--wx-calendar-line-gap) / 2) 0;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\t.wx-day:not(:global(.wx-out)):not(:global(.wx-selected)) {\n\t\tcursor: pointer;\n\t}\n\t.wx-day:not(:global(.wx-out)):not(:global(.wx-selected)):hover {\n\t\tbackground: var(--wx-background-hover);\n\t}\n\t.wx-day.wx-out {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-day.wx-selected:not(:global(.wx-out)) {\n\t\tbackground: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t}\n\t.wx-day.wx-selected.wx-left:not(:global(.wx-out)) {\n\t\tborder-radius: calc(var(--wx-calendar-border-radius)) 0 0\n\t\t\tcalc(var(--wx-calendar-border-radius));\n\t}\n\t.wx-day.wx-selected.wx-right:not(:global(.wx-out)) {\n\t\tborder-radius: 0 calc(var(--wx-calendar-border-radius))\n\t\t\tcalc(var(--wx-calendar-border-radius)) 0;\n\t}\n\t.wx-day.wx-inrange:not(:global(.wx-out)) {\n\t\tborder-radius: 0;\n\t\tbackground: var(--wx-color-primary-selected);\n\t}\n\t.wx-day.wx-weekend:not(:global(.wx-selected)):not(:global(.wx-out)) {\n\t\tcolor: var(--wx-color-primary);\n\t}\n\t.wx-day.wx-inactive {\n\t\tpointer-events: none;\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { delegateClick } from \"@svar-ui/lib-dom\";\n\timport Button from \"./Button.svelte\";\n\timport { getPartValue } from \"./helpers\";\n\n\tlet {\n\t\tvalue = $bindable(),\n\t\tcurrent = $bindable(),\n\t\tpart,\n\t\toncancel,\n\t\tonchange,\n\t\tonshift,\n\t} = $props();\n\n\tconst locale = getContext(\"wx-i18n\").getRaw().calendar;\n\tconst months = locale.monthShort;\n\n\tconst monthNum = $derived.by(() => current.getMonth());\n\n\tconst selectMonths = {\n\t\tclick: selectMonth,\n\t};\n\tfunction selectMonth(month, e) {\n\t\tif (month || month === 0) {\n\t\t\te.stopPropagation();\n\t\t\tcurrent.setMonth(month);\n\t\t\tcurrent = new Date(current);\n\n\t\t\tonshift && onshift({});\n\t\t}\n\n\t\tif (part === \"normal\") value = new Date(current);\n\n\t\toncancel && oncancel();\n\t}\n\n\tfunction done() {\n\t\tconst date = new Date(getPartValue(value, part) || current);\n\n\t\tdate.setMonth(current.getMonth());\n\t\tdate.setFullYear(current.getFullYear());\n\n\t\tonchange && onchange(date);\n\t}\n</script>\n\n<div class=\"wx-months\" use:delegateClick={selectMonths}>\n\t{#each months as month, i}\n\t\t<div class=\"wx-month\" class:wx-current={monthNum === i} data-id={i}>\n\t\t\t{month}\n\t\t</div>\n\t{/each}\n</div>\n<div class=\"wx-buttons\">\n\t<Button onclick={done}>{locale.done}</Button>\n</div>\n\n<style>\n\t.wx-months {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin: var(--wx-calendar-gap);\n\t}\n\n\t.wx-month {\n\t\tflex: 0 0 calc(100% / 4 - var(--wx-calendar-gap) * 2);\n\t\tmax-width: calc(100% / 4 - var(--wx-calendar-gap) * 2);\n\t\tmargin: calc(var(--wx-calendar-gap) * 2) var(--wx-calendar-gap);\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: var(--wx-calendar-cell-size);\n\t\tborder-radius: var(--wx-calendar-border-radius);\n\t}\n\t.wx-month.wx-current {\n\t\tbackground: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t}\n\t.wx-month:not(:global(.wx-current)):hover {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n\n\t.wx-buttons {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-top: var(--wx-calendar-gap);\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { delegateClick, getDuodecade } from \"@svar-ui/lib-dom\";\n\timport Button from \"./Button.svelte\";\n\timport { getPartValue } from \"./helpers\";\n\n\tconst _ = getContext(\"wx-i18n\").getRaw().calendar;\n\n\tlet {\n\t\tvalue = $bindable(),\n\t\tcurrent = $bindable(),\n\t\toncancel,\n\t\tonchange,\n\t\tonshift,\n\t\tpart,\n\t} = $props();\n\n\tconst year = $derived(current.getFullYear());\n\tconst years = $derived.by(() => {\n\t\tconst { start, end } = getDuodecade(year);\n\t\tconst years = [];\n\t\tfor (let y = start; y <= end; ++y) {\n\t\t\tyears.push(y);\n\t\t}\n\t\treturn years;\n\t});\n\n\tconst selectYears = {\n\t\tclick: selectYear,\n\t};\n\tfunction selectYear(year, e) {\n\t\tif (year) {\n\t\t\te.stopPropagation();\n\t\t\tcurrent.setFullYear(year);\n\t\t\tcurrent = new Date(current);\n\n\t\t\tonshift && onshift({});\n\t\t}\n\n\t\tif (part === \"normal\") value = new Date(current);\n\n\t\toncancel && oncancel();\n\t}\n\n\tfunction done() {\n\t\tconst date = new Date(getPartValue(value, part) || current);\n\n\t\tdate.setFullYear(current.getFullYear());\n\n\t\tonchange && onchange(date);\n\t}\n</script>\n\n<div class=\"wx-years\" use:delegateClick={selectYears}>\n\t{#each years as y, i}\n\t\t<div\n\t\t\tclass=\"wx-year\"\n\t\t\tclass:wx-current={year == y}\n\t\t\tclass:wx-prev-decade={i === 0}\n\t\t\tclass:wx-next-decade={i === 11}\n\t\t\tdata-id={y}\n\t\t>\n\t\t\t{y}\n\t\t</div>\n\t{/each}\n</div>\n<div class=\"wx-buttons\">\n\t<Button onclick={done}>{_.done}</Button>\n</div>\n\n<style>\n\t.wx-years {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin: var(--wx-calendar-gap);\n\t}\n\n\t.wx-year {\n\t\tflex: 0 0 calc(100% / 4 - var(--wx-calendar-gap) * 2);\n\t\tmax-width: calc(100% / 4 - var(--wx-calendar-gap) * 2);\n\t\tmargin: calc(var(--wx-calendar-gap) * 2) var(--wx-calendar-gap);\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: var(--wx-calendar-cell-size);\n\t\tborder-radius: var(--wx-calendar-border-radius);\n\t}\n\t.wx-year.wx-current {\n\t\tbackground: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t}\n\t.wx-year:not(:global(.wx-current)):hover {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n\t.wx-prev-decade,\n\t.wx-next-decade {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-buttons {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-top: var(--wx-calendar-gap);\n\t}\n</style>\n", "import Month from \"./Month.svelte\";\nimport Year from \"./Year.svelte\";\nimport Duodecade from \"./Duodecade.svelte\";\n\nexport const configs = {\n\tmonth: {\n\t\tcomponent: Month,\n\t\tnext: nextMonth,\n\t\tprev: prevMonth,\n\t},\n\tyear: {\n\t\tcomponent: Year,\n\t\tnext: nextYear,\n\t\tprev: prevYear,\n\t},\n\tduodecade: {\n\t\tcomponent: Duodecade,\n\t\tnext: nextDuodecade,\n\t\tprev: prevDuodecade,\n\t},\n};\n\nfunction prevMonth(current) {\n\tcurrent = new Date(current);\n\tcurrent.setMonth(current.getMonth() - 1);\n\treturn current;\n}\nfunction nextMonth(current) {\n\tcurrent = new Date(current);\n\tcurrent.setMonth(current.getMonth() + 1);\n\treturn current;\n}\nfunction prevYear(current) {\n\tcurrent = new Date(current);\n\tcurrent.setFullYear(current.getFullYear() - 1);\n\treturn current;\n}\nfunction nextYear(current) {\n\tcurrent = new Date(current);\n\tcurrent.setFullYear(current.getFullYear() + 1);\n\treturn current;\n}\nfunction prevDuodecade(current) {\n\tcurrent = new Date(current);\n\tcurrent.setFullYear(current.getFullYear() - 10);\n\treturn current;\n}\nfunction nextDuodecade(current) {\n\tcurrent = new Date(current);\n\tcurrent.setFullYear(current.getFullYear() + 10);\n\treturn current;\n}\n\nexport function getPartValue(value, part) {\n\tlet date;\n\tif (part === \"normal\") date = value;\n\telse {\n\t\tconst { start, end } = value;\n\t\tif (part === \"left\") date = start;\n\t\telse if (part == \"right\") date = end;\n\t\telse date = start ? end : start;\n\t}\n\n\treturn date;\n}\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport Header from \"./Header.svelte\";\n\timport Button from \"./Button.svelte\";\n\timport { configs } from \"./helpers\";\n\n\tconst _ = getContext(\"wx-i18n\").getGroup(\"calendar\");\n\n\tlet {\n\t\tvalue,\n\t\tcurrent = $bindable(),\n\t\tpart = \"normal\",\n\t\tmarkers = null,\n\t\tbuttons = [\"clear\", \"today\"],\n\t\tonshift: shift,\n\t\tonchange: change,\n\t} = $props();\n\n\tlet type = $state(\"month\");\n\n\tlet buttonList = $derived.by(() => {\n\t\tif (Array.isArray(buttons)) return buttons;\n\t\treturn buttons ? [\"clear\", \"today\"] : [];\n\t});\n\n\tfunction selectDate(ev, date) {\n\t\tev.preventDefault();\n\t\tchange && change({ value: date });\n\t}\n\n\tfunction oncancel() {\n\t\tif (type === \"duodecade\") type = \"year\";\n\t\telse if (type === \"year\") type = \"month\";\n\t}\n\n\tfunction onshift(ev) {\n\t\tconst { diff } = ev;\n\n\t\tif (diff === 0) {\n\t\t\tif (type === \"month\") type = \"year\";\n\t\t\telse if (type === \"year\") type = \"duodecade\";\n\t\t\treturn;\n\t\t}\n\t\tif (diff) {\n\t\t\tconst obj = configs[type];\n\t\t\tcurrent = diff > 0 ? obj.next(current) : obj.prev(current);\n\t\t}\n\t\tshift && shift();\n\t}\n\n\tfunction onchange(value) {\n\t\ttype = \"month\";\n\t\tchange && change({ select: true, value });\n\t}\n\n\tfunction getButtonValue(btn) {\n\t\tif (btn === \"done\") return -1;\n\t\tif (btn === \"clear\") return null;\n\t\tif (btn === \"today\") return new Date();\n\t}\n\n\tconst SvelteComponent = $derived(configs[type].component);\n</script>\n\n<div\n\tclass=\"wx-calendar {part !== 'normal' && part !== 'both' ? 'wx-part' : ''}\"\n>\n\t<div class=\"wx-wrap\">\n\t\t<Header date={current} {part} {type} {onshift} />\n\t\t<div>\n\t\t\t<SvelteComponent\n\t\t\t\t{value}\n\t\t\t\tbind:current\n\t\t\t\t{part}\n\t\t\t\t{markers}\n\t\t\t\t{onchange}\n\t\t\t\t{oncancel}\n\t\t\t\t{onshift}\n\t\t\t/>\n\n\t\t\t{#if type === \"month\" && buttonList.length > 0}\n\t\t\t\t<div class=\"wx-buttons\">\n\t\t\t\t\t{#each buttonList as btn}\n\t\t\t\t\t\t<div class=\"wx-button-item\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonclick={e =>\n\t\t\t\t\t\t\t\t\tselectDate(e, getButtonValue(btn))}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{_(btn)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t.wx-calendar {\n\t\theight: auto;\n\t\twidth: 100%;\n\t\tpadding: var(--wx-calendar-padding);\n\t\tcursor: default;\n\t\tfont-family: var(--wx-calendar-font-family);\n\t\tfont-size: var(--wx-calendar-font-size);\n\t\tline-height: var(--wx-calendar-line-height);\n\t\tfont-weight: var(--wx-calendar-font-weight);\n\t\tcolor: var(--wx-calendar-font-color);\n\t}\n\t.wx-calendar.wx-part {\n\t\tpadding-bottom: 0;\n\t}\n\t.wx-wrap {\n\t\twidth: calc(var(--wx-calendar-cell-size) * 7);\n\t\tmargin: 0 auto;\n\t}\n\t.wx-buttons {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: calc(var(--wx-calendar-gap) * 2);\n\t}\n\t.wx-button-item + .wx-button-item {\n\t\tmargin-left: calc(var(--wx-calendar-gap) * 3);\n\t}\n</style>\n", "<script>\n\timport { getContext, setContext } from \"svelte\";\n\timport { locale } from \"@svar-ui/lib-dom\";\n\timport { en } from \"@svar-ui/core-locales\";\n\n\tlet { words = null, optional = false, children } = $props();\n\n\tlet l = getContext(\"wx-i18n\");\n\tif (!l || words !== null) {\n\t\tif (!l) {\n\t\t\tl = locale(en);\n\t\t}\n\t\tl = l.extend(words, optional);\n\t\tsetContext(\"wx-i18n\", l);\n\t}\n</script>\n\n{@render children?.()}\n", "<script>\n\timport Panel from \"./calendar/Panel.svelte\";\n\timport Locale from \"../Locale.svelte\";\n\n\tlet {\n\t\tvalue = $bindable(),\n\t\tcurrent = $bindable(),\n\t\tmarkers = null,\n\t\tbuttons = [\"clear\", \"today\"],\n\t\tonchange,\n\t} = $props();\n\n\tfunction fixCurrent(force) {\n\t\tif (!current || force) current = value ? new Date(value) : new Date();\n\t\tcurrent.setDate(1);\n\t}\n\tfixCurrent(value);\n\n\tfunction change(v) {\n\t\tconst x = v.value;\n\t\tif (x) {\n\t\t\tvalue = new Date(x);\n\t\t\tfixCurrent(true);\n\t\t} else {\n\t\t\tvalue = null;\n\t\t}\n\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<Locale>\n\t<Panel {value} bind:current {markers} {buttons} onchange={change} />\n</Locale>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { dateToString } from \"@svar-ui/lib-dom\";\n\n\timport Text from \"./Text.svelte\";\n\timport Dropdown from \"./Dropdown.svelte\";\n\timport Calendar from \"./Calendar.svelte\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\n\tlet {\n\t\tvalue = $bindable(),\n\t\tid,\n\t\tdisabled = false,\n\t\terror = false,\n\t\twidth = \"unset\",\n\t\talign = \"start\",\n\t\tplaceholder = \"\",\n\t\tformat = \"\",\n\t\tbuttons = [\"clear\", \"today\"],\n\t\tcss = \"\",\n\t\ttitle = \"\",\n\t\teditable = false,\n\t\tclear = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst { calendar: calendarLocale, formats } = (\n\t\tgetContext(\"wx-i18n\") || defaultLocale()\n\t).getRaw();\n\tconst f = format || formats.dateFormat;\n\tlet dateFormat =\n\t\ttypeof f === \"function\" ? f : dateToString(f, calendarLocale);\n\n\tlet popup = $state();\n\n\tfunction oncancel() {\n\t\tpopup = false;\n\t}\n\n\tfunction doChange(v) {\n\t\t// skip \"select\" event if the same value\n\t\t// or different objects with the same value\n\t\tconst skipEvent =\n\t\t\tv === value ||\n\t\t\t(v && value && v.valueOf() === value.valueOf()) ||\n\t\t\t(!v && !value);\n\n\t\tvalue = v;\n\t\tif (!skipEvent) {\n\t\t\tonchange && onchange({ value });\n\t\t}\n\n\t\t// fire after on-click finished\n\t\tsetTimeout(oncancel, 1);\n\t}\n\n\tconst formattedValue = $derived(value ? dateFormat(value) : \"\");\n\n\tfunction change({ value: v, input }) {\n\t\tif (!editable && !clear) return;\n\t\tif (input) return;\n\n\t\t// convert to date, but ignore empty string input\n\t\tlet date =\n\t\t\ttypeof editable === \"function\"\n\t\t\t\t? editable(v)\n\t\t\t\t: v\n\t\t\t\t\t? new Date(v)\n\t\t\t\t\t: null;\n\n\t\t// if date is invalid ( incorrect text input ) then use old value\n\t\t// else use the entered date\n\t\t// in any case fallback to null, to prevent undefined as value\n\t\tdate = isNaN(date) ? value || null : date || null;\n\t\tdoChange(date);\n\t}\n</script>\n\n<svelte:window onscroll={oncancel} />\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div class=\"wx-datepicker\" onclick={() => (popup = true)}>\n\t<Text\n\t\t{css}\n\t\t{title}\n\t\tvalue={formattedValue}\n\t\t{id}\n\t\treadonly={!editable}\n\t\t{disabled}\n\t\t{error}\n\t\t{placeholder}\n\t\toninput={oncancel}\n\t\tonchange={change}\n\t\ticon=\"wxi-calendar\"\n\t\tinputStyle=\"cursor: pointer; width: 100%; padding-right: calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2);\"\n\t\t{clear}\n\t/>\n\n\t{#if popup && !disabled}\n\t\t<Dropdown {oncancel} {width} {align} autoFit={!!align}>\n\t\t\t<Calendar {buttons} {value} onchange={e => doChange(e.value)} />\n\t\t</Dropdown>\n\t{/if}\n</div>\n\n<style>\n\t.wx-datepicker {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n</style>\n", "<script>\n\timport { untrack } from \"svelte\";\n\timport Panel from \"./calendar/Panel.svelte\";\n\timport Locale from \"../Locale.svelte\";\n\n\tlet {\n\t\tstart = $bindable(),\n\t\tend = $bindable(),\n\t\tcurrent,\n\t\tmonths = 2,\n\t\tmarkers = null,\n\t\tbuttons = [\"clear\", \"today\"],\n\t\tonchange,\n\t} = $props();\n\n\tfunction addMonth(l, diff, rPrev) {\n\t\tconst r = new Date(l);\n\t\tr.setMonth(r.getMonth() + diff);\n\t\tif (rPrev && r.valueOf() == rPrev.valueOf()) return rPrev;\n\t\treturn r;\n\t}\n\n\tlet leftCurrent = $state(),\n\t\trightCurrent = $state();\n\n\t$effect.pre(() => {\n\t\tstart;\n\t\tcurrent;\n\t\tuntrack(() => {\n\t\t\tif (!leftCurrent) {\n\t\t\t\tonLeft(start ? new Date(start) : current || new Date());\n\t\t\t}\n\t\t});\n\t});\n\n\tfunction onLeft(v) {\n\t\tleftCurrent = v;\n\t\tleftCurrent.setDate(1);\n\t\tif (leftCurrent) rightCurrent = addMonth(leftCurrent, 1);\n\t}\n\tfunction onRight(v) {\n\t\trightCurrent = v;\n\t\trightCurrent.setDate(1);\n\t\tif (rightCurrent) leftCurrent = addMonth(rightCurrent, -1);\n\t}\n\n\tfunction doChangeStart(v) {\n\t\tselectChange(v);\n\t\tif (start) onLeft(new Date(start));\n\t}\n\tfunction doChangeEnd(v) {\n\t\tselectChange(v);\n\t\tif (end) onRight(new Date(end));\n\t}\n\tfunction selectChange(ev) {\n\t\tconst v = ev.value;\n\t\tconst final = v === -1;\n\t\tif (!final) {\n\t\t\tif (ev.select) {\n\t\t\t\tif (!start || end) {\n\t\t\t\t\tstart = v;\n\t\t\t\t\tend = null;\n\t\t\t\t} else {\n\t\t\t\t\tif (start > v) {\n\t\t\t\t\t\tend = start;\n\t\t\t\t\t\tstart = v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = v;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!v) {\n\t\t\t\t\tstart = end = null;\n\t\t\t\t} else {\n\t\t\t\t\tstart = new Date(v);\n\t\t\t\t\tend = new Date(v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (final || !buttons.includes(\"done\"))\n\t\t\tonchange && onchange({ start, end });\n\t}\n</script>\n\n<Locale>\n\t{#if months == 1}\n\t\t<Panel\n\t\t\tvalue={{ start, end }}\n\t\t\tbind:current={leftCurrent}\n\t\t\t{markers}\n\t\t\t{buttons}\n\t\t\tpart=\"both\"\n\t\t\tonchange={doChangeStart}\n\t\t/>\n\t{:else}\n\t\t<div class=\"wx-rangecalendar\">\n\t\t\t<div class=\"wx-half\">\n\t\t\t\t<Panel\n\t\t\t\t\tvalue={{ start, end }}\n\t\t\t\t\tbind:current={leftCurrent}\n\t\t\t\t\t{markers}\n\t\t\t\t\tbuttons={false}\n\t\t\t\t\tpart=\"left\"\n\t\t\t\t\tonshift={() => onLeft(leftCurrent)}\n\t\t\t\t\tonchange={doChangeStart}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"wx-half\">\n\t\t\t\t<Panel\n\t\t\t\t\tvalue={{ start, end }}\n\t\t\t\t\tbind:current={rightCurrent}\n\t\t\t\t\t{markers}\n\t\t\t\t\t{buttons}\n\t\t\t\t\tpart=\"right\"\n\t\t\t\t\tonshift={() => onRight(rightCurrent)}\n\t\t\t\t\tonchange={doChangeEnd}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n</Locale>\n\n<style>\n\t.wx-rangecalendar {\n\t\tdisplay: flex;\n\t\tpadding-bottom: var(--wx-calendar-padding);\n\t}\n\n\t.wx-half {\n\t\tflex: 1;\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { dateToString } from \"@svar-ui/lib-dom\";\n\n\timport Text from \"./Text.svelte\";\n\timport Dropdown from \"./Dropdown.svelte\";\n\timport RangeCalendar from \"./RangeCalendar.svelte\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\n\tlet {\n\t\tvalue = $bindable(),\n\t\tid,\n\t\tdisabled = false,\n\t\terror = false,\n\t\twidth = \"unset\",\n\t\talign = \"start\",\n\t\tplaceholder = \"\",\n\t\tcss = \"\",\n\t\ttitle = \"\",\n\t\tformat = \"\",\n\t\tmonths = 2,\n\t\tbuttons = [\"clear\", \"today\"],\n\t\teditable = false,\n\t\tclear = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst { calendar: calendarLocale, formats } = (\n\t\tgetContext(\"wx-i18n\") || defaultLocale()\n\t).getRaw();\n\tconst f = format || formats?.dateFormat;\n\tlet dateFormat =\n\t\ttypeof f === \"function\" ? f : dateToString(f, calendarLocale);\n\tlet popup = $state();\n\n\tfunction oncancel() {\n\t\t// popup was closed before full range selected\n\t\tif (value && value.start && !value.end) onchange && onchange({ value });\n\t\tpopup = false;\n\t}\n\n\tlet formattedValue = $derived(\n\t\tvalue\n\t\t\t? value.start\n\t\t\t\t? dateFormat(value.start) +\n\t\t\t\t\t(value.end ? ` - ${dateFormat(value.end)}` : \"\")\n\t\t\t\t: dateFormat(value)\n\t\t\t: \"\"\n\t);\n\n\tfunction doChange(d) {\n\t\tvalue = d.start || d.end ? { start: d.start, end: d.end } : null;\n\t\t// fire after on-click finished\n\t\tif ((d.start && d.end) || (!d.start && !d.end)) {\n\t\t\t// FIXME - select event will trigger even if the same value\n\t\t\tonchange && onchange({ value });\n\t\t\tsetTimeout(oncancel, 1);\n\t\t}\n\t}\n\n\tfunction doInputChange(ev) {\n\t\tif (!editable && !clear) return;\n\n\t\tconst { value: v, input } = ev;\n\t\tif (input) return;\n\n\t\tconst [s, e] = v.split(\" -\").map((a, i) => {\n\t\t\tconst av = a.trim();\n\t\t\tlet date =\n\t\t\t\ttypeof editable === \"function\"\n\t\t\t\t\t? editable(av)\n\t\t\t\t\t: av\n\t\t\t\t\t\t? new Date(av)\n\t\t\t\t\t\t: null;\n\n\t\t\t// if date is invalid ( incorrect text input ) then use old value\n\t\t\t// else use the entered date\n\t\t\t// in any case fallback to null, to prevent undefined as value\n\t\t\tlet value = i === 0 ? start : end;\n\t\t\treturn isNaN(date) ? (value ? value : null) : date || null;\n\t\t});\n\n\t\tdoChange({ start: s, end: e });\n\t}\n\n\tconst start = $derived(value ? value.start || null : null);\n\tconst end = $derived(value ? value.end || null : null);\n</script>\n\n<svelte:window onscroll={oncancel} />\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tclass=\"wx-daterangepicker\"\n\tclass:wx-disabled={disabled}\n\tclass:wx-error={error}\n\tonclick={() => (popup = true)}\n>\n\t<Text\n\t\t{css}\n\t\t{title}\n\t\tvalue={formattedValue}\n\t\t{id}\n\t\treadonly={!editable}\n\t\t{disabled}\n\t\t{placeholder}\n\t\t{error}\n\t\tonchange={doInputChange}\n\t\ticon=\"wxi-calendar\"\n\t\tinputStyle=\"cursor: pointer; width: 100%; padding-right: calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2);\"\n\t\t{clear}\n\t/>\n\n\t{#if popup && !disabled}\n\t\t<Dropdown {oncancel} {width} {align} autoFit={!!align}>\n\t\t\t<RangeCalendar\n\t\t\t\t{oncancel}\n\t\t\t\t{buttons}\n\t\t\t\t{start}\n\t\t\t\t{end}\n\t\t\t\t{months}\n\t\t\t\tonchange={doChange}\n\t\t\t/>\n\t\t</Dropdown>\n\t{/if}\n</div>\n\n<style>\n\t.wx-daterangepicker {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n</style>\n", "<script>\n\timport { hotkeys } from \"@svar-ui/lib-dom\";\n\timport Button from \"./Button.svelte\";\n\n\tlet { hotkey = null, toggleButton, children } = $props();\n\n\t$effect(() => {\n\t\tif (hotkey)\n\t\t\t$hotkeys.configure(\n\t\t\t\t{\n\t\t\t\t\t[hotkey]: toggleFullscreen,\n\t\t\t\t},\n\t\t\t\tnode\n\t\t\t);\n\t});\n\n\tlet node = null;\n\tlet inFullscreen = $state(false);\n\tlet icon = $derived(`wxi-${inFullscreen ? \"collapse\" : \"expand\"}`);\n\n\tfunction toggleFullscreen() {\n\t\tif (!inFullscreen && node) {\n\t\t\tnode.requestFullscreen();\n\t\t} else if (inFullscreen) {\n\t\t\tdocument.exitFullscreen();\n\t\t}\n\t\tinFullscreen = !inFullscreen;\n\t}\n\n\tconst setFullscreenState = () => {\n\t\tinFullscreen = document.fullscreenElement === node;\n\t};\n\n\t$effect(() => {\n\t\tdocument.addEventListener(\"fullscreenchange\", setFullscreenState);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\n\t\t\t\t\"fullscreenchange\",\n\t\t\t\tsetFullscreenState\n\t\t\t);\n\t\t};\n\t});\n</script>\n\n<div class=\"wx-fullscreen\" bind:this={node} tabindex=\"-1\">\n\t{@render children?.()}\n\t{#if toggleButton}\n\t\t{@render toggleButton(toggleFullscreen, inFullscreen)}\n\t{:else}\n\t\t<Button css=\"wx-fullscreen-button\" onclick={toggleFullscreen}>\n\t\t\t<i class={`${icon} wx-fullscreen-icon`}> </i>\n\t\t</Button>\n\t{/if}\n</div>\n\n<style>\n\t.wx-fullscreen::backdrop {\n\t\tbackground-color: var(--wx-background);\n\t}\n\t.wx-fullscreen {\n\t\tposition: relative;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toutline: none;\n\t}\n\t.wx-fullscreen-icon {\n\t\tfont-size: 20px;\n\t\theight: 20px;\n\t\tmargin: auto;\n\t}\n\t.wx-fullscreen :global(.wx-fullscreen-button) {\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tborder: none;\n\t\tborder-radius: 50%;\n\t\tposition: absolute;\n\t\tright: 25px;\n\t\tbottom: 35px;\n\t\tdisplay: flex;\n\t\tpadding: initial;\n\t}\n</style>\n", "<script>\n\tlet { css = \"\", title = \"\", children, onclick } = $props();\n</script>\n\n{#if children}\n\t<!-- svelte-ignore a11y_no_noninteractive_element_interactions -->\n\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t<i {title} role=\"img\" class=\"wx-icon {css}\" {onclick}>\n\t\t{@render children()}\n\t</i>\n{:else}\n\t<!-- svelte-ignore a11y_no_noninteractive_element_interactions -->\n\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t<i {title} class=\"wx-icon {css}\" {onclick}></i>\n{/if}\n\n<style>\n\t.wx-icon {\n\t\tcolor: var(--wx-color-font-alt);\n\t\tcursor: pointer;\n\t\tfont-size: var(--wx-button-icon-size);\n\t\tpadding: var(--wx-button-icon-indent);\n\n\t\tline-height: var(--wx-button-line-height);\n\t\tdisplay: inline-block;\n\t}\n\t.wx-icon:hover {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n</style>\n", "<script>\n\timport List from \"./helpers/SuggestDropdown.svelte\";\n\timport Checkbox from \"./Checkbox.svelte\";\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tid,\n\t\tvalue = $bindable([]),\n\t\toptions = [],\n\t\ttextOptions = null,\n\t\ttextField = \"label\",\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tcheckboxes = false,\n\t\tonchange,\n\t\tchildren,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet text = $state(\"\");\n\tlet selected = $derived(\n\t\tvalue ? (textOptions || options).filter(i => value.includes(i.id)) : []\n\t);\n\tlet filterOptions = $derived.by(() => {\n\t\tconst o = options;\n\t\treturn text\n\t\t\t? o.filter(i =>\n\t\t\t\t\ti[textField].toLowerCase().includes(text.toLowerCase())\n\t\t\t\t)\n\t\t\t: o;\n\t});\n\tlet focus = $state(false);\n\tlet inputElement = $state();\n\n\tlet navigate = null;\n\tlet keydown = null;\n\tfunction onready(ev) {\n\t\tnavigate = ev.navigate;\n\t\tkeydown = ev.keydown;\n\t}\n\n\tfunction input() {\n\t\tif (filterOptions.length) navigate(0);\n\t\telse navigate(null);\n\t}\n\tfunction onselect(ev) {\n\t\tconst { id } = ev;\n\n\t\tif (id) {\n\t\t\tlet next;\n\t\t\tif (value) {\n\t\t\t\tif (value.includes(id)) {\n\t\t\t\t\tnext = value.filter(i => i !== id);\n\t\t\t\t} else {\n\t\t\t\t\tnext = [...value, id];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnext = [id];\n\t\t\t}\n\n\t\t\tvalue = next;\n\t\t\tonchange && onchange({ value });\n\n\t\t\tinputElement.focus();\n\t\t}\n\t}\n\n\tfunction remove(id, ev) {\n\t\tif (ev) ev.stopPropagation();\n\n\t\tvalue = value.filter(i => i !== id);\n\t\tonchange && onchange({ value });\n\t}\n\n\tconst index = () =>\n\t\tvalue && value.length\n\t\t\t? filterOptions.findIndex(i => i.id === value[0])\n\t\t\t: 0;\n\n\tfunction onclick() {\n\t\tif (!disabled) {\n\t\t\tinputElement.focus();\n\t\t\tnavigate(index());\n\t\t}\n\t}\n</script>\n\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\t{title}\n\tclass=\"wx-multicombo\"\n\tclass:wx-error={error}\n\tclass:wx-disabled={disabled}\n\tclass:wx-not-empty={selected.length}\n\tclass:wx-focus={focus && !disabled}\n\t{onclick}\n\tonkeydown={ev => keydown(ev, index())}\n>\n\t<div class=\"wx-wrapper\">\n\t\t<div class=\"wx-tags\">\n\t\t\t{#each selected as tag (tag.id)}\n\t\t\t\t<div class=\"wx-tag\">\n\t\t\t\t\t{#if children}{@render children({\n\t\t\t\t\t\t\toption: tag,\n\t\t\t\t\t\t})}{:else}{tag[textField]}{/if}\n\t\t\t\t\t{#if !disabled}\n\t\t\t\t\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t\t\t\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclass=\"wx-icon wxi-close\"\n\t\t\t\t\t\t\tonclick={ev => remove(tag.id, ev)}\n\t\t\t\t\t\t></i>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/each}\n\t\t</div>\n\t\t<div class=\"wx-select\">\n\t\t\t<input\n\t\t\t\tid={inputId}\n\t\t\t\ttype=\"text\"\n\t\t\t\tbind:this={inputElement}\n\t\t\t\tbind:value={text}\n\t\t\t\toninput={input}\n\t\t\t\t{placeholder}\n\t\t\t\t{disabled}\n\t\t\t\tonfocus={() => (focus = true)}\n\t\t\t\tonblur={() => (focus = false)}\n\t\t\t/>\n\t\t\t<i class=\"wx-icon wxi-angle-down\"></i>\n\t\t</div>\n\t</div>\n\n\t{#if !disabled}\n\t\t<List items={filterOptions} {onready} {onselect}>\n\t\t\t{#snippet children({ option })}\n\t\t\t\t{#if checkboxes}\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tstyle=\"margin-right: 8px; pointer-events: none;\"\n\t\t\t\t\t\tname={option.id}\n\t\t\t\t\t\tvalue={value && value.includes(option.id)}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\t\t\t\t{#if children}{@render children({\n\t\t\t\t\t\toption,\n\t\t\t\t\t})}{:else}{option[textField]}{/if}\n\t\t\t{/snippet}\n\t\t</List>\n\t{/if}\n</div>\n\n<style>\n\t.wx-multicombo {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\t.wx-multicombo.wx-focus .wx-wrapper {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\t.wx-multicombo.wx-disabled .wx-wrapper {\n\t\tborder: var(--wx-input-border-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\t.wx-multicombo.wx-disabled .wx-tag {\n\t\tbackground: var(--wx-color-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-multicombo:not(:global(.wx-disabled)) .wx-tag {\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t}\n\t.wx-multicombo.wx-disabled input {\n\t\tcursor: not-allowed;\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-multicombo.wx-disabled .wx-icon.wxi-angle-down {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-multicombo.wx-error .wx-wrapper {\n\t\tborder-color: var(--wx-color-danger);\n\t}\n\t.wx-multicombo.wx-error input {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\t.wx-multicombo.wx-error .wx-icon.wxi-angle-down {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\t.wx-multicombo.wx-not-empty .wx-tags {\n\t\tgap: var(--wx-multicombo-tag-gap);\n\t\tpadding: var(--wx-multicombo-tag-gap);\n\t}\n\t.wx-multicombo.wx-not-empty input {\n\t\tborder-top: var(--wx-input-border);\n\t}\n\t.wx-multicombo.wx-not-empty.wx-focus input {\n\t\tborder-top: var(--wx-input-border-focus);\n\t}\n\t.wx-multicombo.wx-not-empty.wx-disabled input {\n\t\tborder-top: var(--wx-input-border-disabled);\n\t}\n\t.wx-multicombo.wx-not-empty.wx-error input {\n\t\tborder-top-color: var(--wx-color-danger);\n\t}\n\n\t.wx-wrapper {\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t}\n\n\t.wx-tags {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\talign-items: flex-start;\n\t\toverflow: hidden;\n\t}\n\n\t.wx-tag {\n\t\tposition: relative;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tborder: var(--wx-multicombo-tag-border);\n\t\tborder-radius: var(--wx-multicombo-tag-border-radius);\n\t\tbackground: var(--wx-multicombo-tag-background);\n\t\tpadding: var(--wx-multicombo-tag-pading);\n\t}\n\t.wx-icon {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\n\t.wxi-close {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n\n\t.wx-select {\n\t\tposition: relative;\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-input-height);\n\t\toutline: none;\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tborder-radius: 0;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tcursor: pointer;\n\t}\n</style>\n", "<script>\n\timport { clickOutside, calculatePosition } from \"@svar-ui/lib-dom\";\n\timport { onMount } from \"svelte\";\n\n\tlet {\n\t\tleft = 0,\n\t\ttop = 0,\n\t\tat = \"bottom\",\n\t\tparent = null,\n\t\toncancel,\n\t\tchildren,\n\t} = $props();\n\n\tlet self = null;\n\tlet x = $state(0);\n\tlet y = $state(0);\n\tlet width = $state(\"auto\");\n\n\tfunction updatePosition() {\n\t\tif (!self) return;\n\n\t\tconst result = calculatePosition(self, parent, at, left, top);\n\t\tif (result) {\n\t\t\tx = result.x;\n\t\t\ty = result.y;\n\t\t\twidth = result.width;\n\t\t}\n\t}\n\n\tonMount(() => {\n\t\tupdatePosition();\n\t\trequestAnimationFrame(updatePosition);\n\t});\n\t$effect(() => {\n\t\tupdatePosition(parent);\n\t});\n\n\tfunction down(e) {\n\t\toncancel && oncancel(e);\n\t}\n</script>\n\n<div\n\tuse:clickOutside={down}\n\tbind:this={self}\n\tclass=\"wx-popup\"\n\tstyle=\"position:absolute;top:{y}px;left:{x}px;width:{width};\"\n>\n\t{@render children?.()}\n</div>\n\n<style>\n\t.wx-popup {\n\t\tz-index: var(--wx-popup-z-index);\n\t\tbackground: var(--wx-popup-background);\n\t\tbox-shadow: var(--wx-popup-shadow);\n\t\tborder: var(--wx-popup-border);\n\t\tborder-radius: var(--wx-popup-border-radius);\n\t\toverflow: hidden;\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\n\tlet {\n\t\ttotal = 0,\n\t\tpageSize = $bindable(20),\n\t\tvalue = $bindable(1),\n\t\tonchange,\n\t} = $props();\n\n\tconst _ = (getContext(\"wx-i18n\") || defaultLocale()).getGroup(\"core\");\n\n\tconst pageCount = $derived(Math.ceil(total / pageSize));\n\tconst from = $derived((value - 1) * pageSize);\n\tconst to = $derived(Math.min(value * pageSize, total));\n\n\tconst setValue = v => {\n\t\tvalue = v;\n\t\tsetTimeout(() => {\n\t\t\tonchange && onchange({ value, from, to });\n\t\t});\n\t};\n\n\tfunction setActivePage(id) {\n\t\tswitch (id) {\n\t\t\tcase \"first\":\n\t\t\t\tsetValue(1);\n\t\t\t\tbreak;\n\t\t\tcase \"prev\":\n\t\t\t\tsetValue(value - 1);\n\t\t\t\tbreak;\n\t\t\tcase \"next\":\n\t\t\t\tsetValue(value + 1);\n\t\t\t\tbreak;\n\t\t\tcase \"last\":\n\t\t\t\tsetValue(pageCount);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst oninput = e => {\n\t\tconst newValue = +e.target.value;\n\n\t\tif (Number.isNaN(newValue) || newValue < 1 || newValue > pageCount) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetValue(newValue);\n\t};\n\n\tconst onPageSizeInput = e => {\n\t\tonchange && onchange({ value: +e.target.value, from, to });\n\t};\n</script>\n\n<div class=\"wx-pager\">\n\t<div class=\"wx-left\">\n\t\t<span>{_(\"Rows per page\")}: </span>\n\t\t<input\n\t\t\ttype=\"number\"\n\t\t\tbind:value={pageSize}\n\t\t\tmin=\"1\"\n\t\t\toninput={onPageSizeInput}\n\t\t/>\n\t</div>\n\n\t<div class=\"wx-center\">\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-icon wxi-angle-dbl-left\"\n\t\t\tclass:wx-disabled={value === 1}\n\t\t\tonclick={() => value > 1 && setActivePage(\"first\")}\n\t\t></i>\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-icon wxi-angle-left\"\n\t\t\tclass:wx-disabled={value === 1}\n\t\t\tonclick={() => setActivePage(\"prev\")}\n\t\t></i>\n\t\t<input type=\"text\" {value} {oninput} />\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-icon wxi-angle-right\"\n\t\t\tclass:wx-disabled={value === pageCount}\n\t\t\tonclick={() => setActivePage(\"next\")}\n\t\t></i>\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i\n\t\t\tclass=\"wx-icon wxi-angle-dbl-right\"\n\t\t\tclass:wx-disabled={value === pageCount}\n\t\t\tonclick={() => setActivePage(\"last\")}\n\t\t></i>\n\t</div>\n\n\t<div class=\"wx-right\">{_(\"Total pages\")}: {pageCount}</div>\n</div>\n\n<style>\n\t.wx-pager {\n\t\tdisplay: flex;\n\t\tgap: var(--wx-padding);\n\t\talign-items: center;\n\t\tpadding: var(--wx-padding);\n\t}\n\n\tinput {\n\t\tdisplay: block;\n\t\twidth: 50px;\n\t\theight: var(--wx-input-height);\n\t\tpadding: var(--wx-input-padding);\n\t\toutline: none;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t}\n\tinput:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tinput::-moz-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\tinput::placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\n\t.wx-icon {\n\t\tcursor: pointer;\n\t\tpadding: var(--wx-input-padding);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-size: var(--wx-icon-size);\n\t\tline-height: 1;\n\t\tcolor: var(--wx-color-link);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\t.wx-icon:hover {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n\t.wx-icon.wx-disabled {\n\t\tcursor: default;\n\t\tpointer-events: none;\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-left,\n\t.wx-center,\n\t.wx-right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: var(--wx-padding);\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tid,\n\t\tlabel = \"\",\n\t\tvalue = $bindable(\"\"),\n\t\tname = \"\",\n\t\tinputValue = \"\",\n\t\tdisabled = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tfunction handlerChange(ev) {\n\t\tvalue = ev.target.checked;\n\t\tif (value) onchange && onchange({ value: true, inputValue });\n\t}\n</script>\n\n<div class=\"wx-radio\">\n\t<input\n\t\ttype=\"radio\"\n\t\tid={inputId}\n\t\t{disabled}\n\t\t{name}\n\t\tvalue={inputValue}\n\t\tchecked={value}\n\t\tonchange={handlerChange}\n\t/>\n\t<label for={inputId}>\n\t\t<span></span>\n\t\t{#if label}<span>{label}</span>{/if}\n\t</label>\n</div>\n\n<style>\n\t.wx-radio {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\tmax-width: var(--wx-input-width);\n\t}\n\tinput {\n\t\t-webkit-appearance: none;\n\t\t   -moz-appearance: none;\n\t\t        appearance: none;\n\t\twidth: 0;\n\t\theight: 0;\n\t\topacity: 0;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\tlabel {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: flex-start;\n\t\tfont-family: var(--wx-checkbox-font-family);\n\t\tfont-size: var(--wx-checkbox-font-size);\n\t\tline-height: var(--wx-checkbox-line-height);\n\t\tfont-weight: var(--wx-checkbox-font-weight);\n\t\tcolor: var(--wx-checkbox-font-color);\n\t\tcursor: pointer;\n\t}\n\tspan {\n\t\tdisplay: block;\n\t}\n\tspan + span {\n\t\tmargin-left: 8px;\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-line-height)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-line-height)) / 2\n\t\t);\n\t}\n\tspan:first-child {\n\t\tposition: relative;\n\t\tflex-shrink: 0;\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-size)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-checkbox-height) - var(--wx-checkbox-size)) / 2\n\t\t);\n\t}\n\tspan:first-child:before {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\twidth: var(--wx-checkbox-size);\n\t\theight: var(--wx-checkbox-size);\n\t\tborder: var(--wx-checkbox-border-width) solid\n\t\t\tvar(--wx-checkbox-border-color);\n\t\tborder-radius: 50%;\n\t\tbackground: var(--wx-input-background);\n\t}\n\tspan:first-child:after {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tdisplay: none;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\twidth: calc(\n\t\t\tvar(--wx-checkbox-size) - var(--wx-checkbox-border-width) * 2\n\t\t);\n\t\theight: calc(\n\t\t\tvar(--wx-checkbox-size) - var(--wx-checkbox-border-width) * 2\n\t\t);\n\t\tborder-style: solid;\n\t\tborder-color: var(--wx-input-background);\n\t\tborder-width: calc(var(--wx-checkbox-size) * 0.2);\n\t\tborder-radius: 50%;\n\t}\n\tinput:checked ~ label span:first-child:before {\n\t\tbackground: var(--wx-color-primary);\n\t\tborder-color: transparent;\n\t}\n\tinput:checked ~ label span:first-child:after {\n\t\tdisplay: block;\n\t}\n\tinput[disabled] ~ label {\n\t\tcolor: var(--wx-checkbox-border-color-disabled);\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled]:not(:global(:checked)) ~ label span:first-child:before {\n\t\tborder-color: var(--wx-checkbox-border-color-disabled);\n\t}\n\tinput[disabled]:checked ~ label span:first-child:before {\n\t\tbackground: var(--wx-checkbox-border-color-disabled);\n\t}\n</style>\n", "<script>\n\timport { uid } from \"@svar-ui/lib-dom\";\n\timport RadioButton from \"./RadioButton.svelte\";\n\timport { setContext } from \"svelte\";\n\n\tlet {\n\t\toptions = [{}],\n\t\tvalue = $bindable(\"\"),\n\t\ttype = \"\",\n\t\tonchange,\n\t} = $props();\n\n\tsetContext(\"wx-input-id\", null);\n\tconst name = uid();\n\n\tfunction handleChange(ev) {\n\t\tvalue = ev.inputValue;\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<div class=\"wx-radiogroup {type && `wx-${type}`}\">\n\t{#each options as option}\n\t\t<div class=\"wx-item\">\n\t\t\t<RadioButton\n\t\t\t\tlabel={option.label}\n\t\t\t\tinputValue={option.id}\n\t\t\t\tvalue={value === option.id}\n\t\t\t\t{name}\n\t\t\t\tonchange={handleChange}\n\t\t\t/>\n\t\t</div>\n\t{/each}\n</div>\n\n<style>\n\t.wx-radiogroup {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\talign-items: flex-start;\n\t\tjustify-content: flex-start;\n\t\tmargin-top: calc(var(--wx-field-gutter) * -1);\n\t}\n\t.wx-item {\n\t\tflex: 0 0 100%;\n\t\tmax-width: 100%;\n\t\tmargin-top: var(--wx-field-gutter);\n\t}\n\n\t.wx-radiogroup.wx-inline .wx-item {\n\t\tflex: none;\n\t\tpadding-right: var(--wx-field-gutter);\n\t}\n\n\t.wx-radiogroup.wx-grid .wx-item {\n\t\tflex: 0 0 50%;\n\t\tmax-width: 50%;\n\t\tpadding-right: var(--wx-field-gutter);\n\t}\n</style>\n", "<script>\n\timport List from \"./helpers/SuggestDropdown.svelte\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\toptions = [],\n\t\ttextOptions = null,\n\t\tplaceholder = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\ttitle = \"\",\n\t\ttextField = \"label\",\n\t\tclear = false,\n\t\tchildren: kids,\n\t\tonchange,\n\t} = $props();\n\n\tlet navigate;\n\tlet keydown;\n\tfunction ready(ev) {\n\t\tnavigate = ev.navigate;\n\t\tkeydown = ev.keydown;\n\t}\n\n\tlet selected = $derived(\n\t\tvalue || value === 0\n\t\t\t? (textOptions || options).find(a => a.id === value)\n\t\t\t: null\n\t);\n\n\tfunction select({ id }) {\n\t\tif (id || id === 0) {\n\t\t\tvalue = id;\n\n\t\t\tnavigate(null);\n\t\t\tonchange && onchange({ value });\n\t\t}\n\t}\n\n\tfunction unselect(ev) {\n\t\tev.stopPropagation();\n\t\tvalue = \"\";\n\t\tonchange && onchange({ value });\n\t}\n\n\tconst index = () => options.findIndex(a => a.id === value);\n</script>\n\n<!-- svelte-ignore a11y_no_noninteractive_tabindex -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tclass=\"wx-richselect\"\n\t{title}\n\tclass:wx-error={error}\n\tclass:wx-disabled={disabled}\n\tclass:wx-nowrap={!kids}\n\tonclick={() => navigate?.(index())}\n\tonkeydown={ev => keydown?.(ev, index())}\n\ttabindex=\"0\"\n>\n\t<div class=\"wx-label\">\n\t\t{#if selected}\n\t\t\t{#if kids}{@render kids(selected)}{:else}{selected[textField]}{/if}\n\t\t{:else if placeholder}\n\t\t\t<span class=\"wx-placeholder\">{placeholder}</span>\n\t\t{:else}&nbsp;{/if}\n\t</div>\n\n\t{#if clear && !disabled && value}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wx-icon wxi-close\" onclick={unselect}></i>\n\t{:else}<i class=\"wx-icon wxi-angle-down\"></i>{/if}\n\n\t{#if !disabled}\n\t\t<List items={options} onready={ready} onselect={select}>\n\t\t\t{#snippet children({ option })}\n\t\t\t\t{#if kids}{@render kids(option)}{:else}{option[textField]}{/if}\n\t\t\t{/snippet}\n\t\t</List>\n\t{/if}\n</div>\n\n<style>\n\t.wx-richselect {\n\t\tposition: relative;\n\t\toutline: none;\n\t\twidth: var(--wx-input-width);\n\t\tmin-height: var(--wx-input-height);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tbackground: var(--wx-input-background);\n\t\tcursor: pointer;\n\t}\n\t.wx-richselect:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\t.wx-richselect.wx-disabled {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\t.wx-richselect.wx-disabled .wx-label {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-richselect.wx-disabled .wx-icon {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\t.wx-richselect.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t}\n\t.wx-richselect.wx-error .wx-label {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\t.wx-richselect.wx-error .wx-icon {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-label {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden;\n\t}\n\n\t.wx-placeholder {\n\t\tcolor: var(--wx-input-placeholder-color);\n\t}\n\n\t.wx-icon {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\t.wx-icon.wxi-close {\n\t\tpointer-events: all;\n\t}\n\t.wx-icon.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n\n\t.wx-nowrap .wx-label {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n</style>\n", "<script>\n\tlet {\n\t\toptions = [],\n\t\tvalue = $bindable(\"\"),\n\t\tcss = \"\",\n\t\tchildren,\n\t\tonchange,\n\t} = $props();\n\n\tfunction handleClick(id) {\n\t\tvalue = id;\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<div class={`wx-segmented ${css}`}>\n\t{#each options as option (option.id)}\n\t\t<button\n\t\t\tcss={option.css}\n\t\t\ttitle={option.title}\n\t\t\tclass:wx-selected={option.id == value}\n\t\t\tonclick={() => handleClick(option.id)}\n\t\t>\n\t\t\t{#if children}{@render children({ option })}{:else}\n\t\t\t\t{#if option.icon}\n\t\t\t\t\t<i\n\t\t\t\t\t\tclass=\"wx-icon {option.icon} {!option.label\n\t\t\t\t\t\t\t? 'wx-only'\n\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t></i>\n\t\t\t\t{/if}\n\t\t\t\t{#if option.label}<span class=\"wx-label\">{option.label}</span\n\t\t\t\t\t>{/if}\n\t\t\t{/if}\n\t\t</button>\n\t{/each}\n</div>\n\n<style>\n\t.wx-segmented {\n\t\tdisplay: inline-flex;\n\t\tflex-wrap: nowrap;\n\t\tbackground: var(--wx-segmented-background);\n\t\tborder: var(--wx-segmented-border);\n\t\tborder-radius: var(--wx-segmented-border-radius);\n\t\tpadding: var(--wx-segmented-padding);\n\t\tmax-width: 100%;\n\t}\n\n\tbutton {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\ttext-decoration: none;\n\t\ttext-align: center;\n\t\tletter-spacing: normal;\n\t\ttext-transform: var(--wx-button-text-transform);\n\t\tfont-family: var(--wx-button-font-family);\n\t\tfont-size: var(--wx-button-font-size);\n\t\tline-height: var(--wx-button-line-height);\n\t\tfont-weight: var(--wx-button-font-weight);\n\t\tpadding: var(--wx-button-padding);\n\t\tborder: var(--wx-button-border);\n\t\tborder-radius: var(--wx-segmented-border-radius);\n\t\tbackground: transparent;\n\t\tcolor: var(--wx-button-font-color);\n\t\tcursor: pointer;\n\t\tbox-shadow: none;\n\t\ttransition: none;\n\t\tmax-width: 100%;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t}\n\n\tbutton,\n\tbutton:focus,\n\tbutton:active {\n\t\toutline: none;\n\t}\n\n\tbutton + button {\n\t\tmargin-left: var(--wx-segmented-padding);\n\t}\n\n\tbutton:hover {\n\t\tbackground: var(--wx-segmented-background-hover);\n\t}\n\n\tbutton.wx-selected,\n\tbutton.wx-selected:hover,\n\tbutton.wx-selected:focus {\n\t\tbackground: var(--wx-color-primary);\n\t\tcolor: var(--wx-color-primary-font);\n\t\tcursor: default;\n\t}\n\n\t.wx-icon {\n\t\tposition: relative;\n\t\tfont-size: var(--wx-button-icon-size);\n\t\tline-height: 1;\n\t\theight: var(--wx-button-line-height);\n\t\topacity: 0.7;\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\t.wx-icon.wx-only {\n\t\topacity: 1;\n\t}\n\n\t.wx-icon + .wx-label {\n\t\tmargin-left: 4px;\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tvalue = $bindable(\"\"),\n\t\toptions = [],\n\t\tplaceholder = \"\",\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\ttextField = \"label\",\n\t\tclear = false,\n\t\tid,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tfunction unselect() {\n\t\tvalue = \"\";\n\t\tonchange && onchange({ value });\n\t}\n\n\tfunction handleChange() {\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<div class=\"wx-select\">\n\t<select\n\t\tid={inputId}\n\t\tbind:value\n\t\t{disabled}\n\t\tclass:wx-error={error}\n\t\t{title}\n\t\tonchange={handleChange}\n\t>\n\t\t{#each options as option (option.id)}\n\t\t\t<option value={option.id}>{option[textField]}</option>\n\t\t{/each}\n\t</select>\n\t{#if !value && value !== 0}\n\t\t<div class=\"wx-placeholder\">{placeholder}</div>\n\t{/if}\n\n\t{#if clear && !disabled && value}\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wx-icon wxi-close\" onclick={unselect}></i>\n\t{:else}<i class=\"wx-icon wxi-angle-down\"></i>{/if}\n</div>\n\n<style>\n\t.wx-select {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\n\tselect {\n\t\t-webkit-appearance: none;\n\t\t   -moz-appearance: none;\n\t\t        appearance: none;\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-input-height);\n\t\toutline: none;\n\t\tbackground: var(--wx-input-background);\n\t\tborder: var(--wx-input-border);\n\t\tborder-radius: var(--wx-input-border-radius);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\toverflow: hidden !important;\n\t\ttext-overflow: ellipsis;\n\t\tcursor: pointer;\n\t}\n\tselect:focus {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\tselect[disabled] {\n\t\tcursor: not-allowed;\n\t\tborder: var(--wx-input-border-disabled);\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tbackground: var(--wx-input-background-disabled);\n\t}\n\tselect[disabled] ~ .wx-placeholder {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tselect[disabled] ~ .wx-icon {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\tselect.wx-error {\n\t\tborder-color: var(--wx-color-danger);\n\t\tcolor: var(--wx-color-danger);\n\t}\n\tselect.wx-error option {\n\t\tcolor: var(--wx-input-font-color);\n\t}\n\tselect.wx-error ~ .wx-icon {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-placeholder {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\tborder: var(--wx-input-border);\n\t\tborder-color: transparent;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tline-height: var(--wx-input-line-height);\n\t\tfont-weight: var(--wx-input-font-weight);\n\t\ttext-align: var(--wx-input-text-align);\n\t\tcolor: var(--wx-input-placeholder-color);\n\t\tpadding: var(--wx-input-padding);\n\t\tpadding-right: calc(\n\t\t\tvar(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2\n\t\t);\n\t\twhite-space: nowrap;\n\t\toverflow: hidden !important;\n\t\ttext-overflow: ellipsis;\n\t\tcursor: pointer;\n\t\tpointer-events: none;\n\t}\n\n\t.wx-icon {\n\t\tposition: absolute;\n\t\tright: var(--wx-input-icon-indent);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: var(--wx-input-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-input-icon-size);\n\t\theight: var(--wx-input-icon-size);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpointer-events: none;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tcolor: var(--wx-input-icon-color);\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t}\n\t.wx-icon.wxi-close {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.wx-icon.wxi-close:hover {\n\t\tbackground: var(--wx-background-hover);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tid,\n\t\tlabel = \"\",\n\t\twidth = \"\",\n\t\tmin = 0,\n\t\tmax = 100,\n\t\tvalue = $bindable(0),\n\t\tstep = 1,\n\t\ttitle = \"\",\n\t\tdisabled = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tlet bgStyle = $derived(() => {\n\t\treturn disabled\n\t\t\t? \"\"\n\t\t\t: `background: linear-gradient(90deg, var(--wx-slider-primary) 0% ${progress}, var(--wx-slider-background) ${progress} 100%);`;\n\t});\n\n\tlet progress = $derived(((value - min) / (max - min)) * 100 + \"%\");\n\n\tlet previousInput = value;\n\tlet previousValue = value;\n\tfunction oninput({ target }) {\n\t\tvalue = target.value * 1;\n\t\tonchange && onchange({ value, previous: previousInput, input: true });\n\t\tpreviousInput = value;\n\t}\n\tfunction change({ target }) {\n\t\tvalue = target.value * 1;\n\t\tonchange && onchange({ value, previous: previousValue });\n\t\tpreviousValue = value;\n\t}\n</script>\n\n<div class=\"wx-slider\" style={width ? `width: ${width}` : \"\"} {title}>\n\t{#if label}<label for={id}>{label}</label>{/if}\n\t<div>\n\t\t<input\n\t\t\tid={inputId}\n\t\t\ttype=\"range\"\n\t\t\t{min}\n\t\t\t{max}\n\t\t\t{step}\n\t\t\t{disabled}\n\t\t\t{value}\n\t\t\t{oninput}\n\t\t\tonchange={change}\n\t\t\tstyle={bgStyle()}\n\t\t/>\n\t</div>\n</div>\n\n<style>\n\t.wx-slider {\n\t\twidth: var(--wx-input-width);\n\t}\n\n\tlabel {\n\t\tdisplay: block;\n\t\tmargin: var(--wx-slider-label-margin);\n\t\tfont-family: var(--wx-slider-label-font-family);\n\t\tfont-size: var(--wx-slider-label-font-size);\n\t\tline-height: var(--wx-slider-label-line-height);\n\t\tfont-weight: var(--wx-slider-label-font-weight);\n\t\tcolor: var(--wx-slider-label-font-color);\n\t}\n\n\t.wx-slider div {\n\t\tpadding: calc(\n\t\t\t\t(var(--wx-slider-height) - var(--wx-slider-track-height)) / 2\n\t\t\t)\n\t\t\t0;\n\t}\n\n\tinput {\n\t\t-webkit-appearance: none;\n\t\t-moz-appearance: none;\n\t\tappearance: none;\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\theight: var(--wx-slider-track-height);\n\t\tbackground: var(--wx-slider-background);\n\t\tborder: none;\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t\tmargin: 0;\n\t}\n\n\tinput:focus {\n\t\toutline: none;\n\t}\n\n\tinput::-webkit-slider-runnable-track {\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: var(--wx-slider-track-height);\n\t\tborder: none;\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t\tcursor: pointer;\n\t\tbackground: transparent;\n\t}\n\n\tinput::-webkit-slider-thumb {\n\t\tmargin-top: calc(\n\t\t\t(var(--wx-slider-track-height) - var(--wx-slider-thumb-size)) / 2\n\t\t);\n\t\twidth: var(--wx-slider-thumb-size);\n\t\theight: var(--wx-slider-thumb-size);\n\t\tbackground: var(--wx-slider-primary);\n\t\tborder: var(--wx-slider-thumb-border);\n\t\tbox-shadow: var(--wx-slider-thumb-shadow);\n\t\tborder-radius: 50%;\n\t\tcursor: pointer;\n\t\t-webkit-appearance: none;\n\t\t        appearance: none;\n\t}\n\n\tinput::-moz-range-track {\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: var(--wx-slider-track-height);\n\t\tborder: none;\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t\tcursor: pointer;\n\t\tbackground: transparent;\n\t}\n\n\tinput::-moz-range-thumb {\n\t\tmargin-top: calc(\n\t\t\t(var(--wx-slider-track-height) - var(--wx-slider-thumb-size)) / 2\n\t\t);\n\t\twidth: var(--wx-slider-thumb-size);\n\t\theight: var(--wx-slider-thumb-size);\n\t\tbackground: var(--wx-slider-primary);\n\t\tborder: var(--wx-slider-thumb-border);\n\t\tborder-radius: 50%;\n\t\tcursor: pointer;\n\t\t-moz-appearance: none;\n\t\t     appearance: none;\n\t}\n\n\tinput::-moz-range-progress {\n\t\tbackground-color: var(--wx-slider-primary);\n\t\theight: var(--wx-slider-track-height);\n\t\tborder-top-left-radius: var(--wx-slider-track-border-radius);\n\t\tborder-bottom-left-radius: var(--wx-slider-track-border-radius);\n\t}\n\n\tinput::-ms-track {\n\t\tcolor: transparent;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: var(--wx-slider-track-height);\n\t\tborder: none;\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t\tcursor: pointer;\n\t\tbackground: transparent;\n\t}\n\n\tinput::-ms-fill-lower {\n\t\tbackground: var(--wx-slider-primary);\n\t\tborder: 0.2px solid var(--wx-slider-primary);\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t}\n\n\tinput::-ms-fill-upper {\n\t\tbackground: var(--wx-slider-background);\n\t\tborder: 0.2px solid var(--wx-slider-background);\n\t\tborder-radius: var(--wx-slider-track-border-radius);\n\t}\n\n\tinput::-ms-thumb {\n\t\tmargin-top: calc(\n\t\t\t(var(--wx-slider-track-height) - var(--wx-slider-thumb-size)) / 2\n\t\t);\n\t\twidth: var(--wx-slider-thumb-size);\n\t\theight: var(--wx-slider-thumb-size);\n\t\tbackground: var(--wx-slider-primary);\n\t\tborder: var(--wx-slider-thumb-border);\n\t\tborder-radius: 50%;\n\t\tcursor: pointer;\n\t\tappearance: none;\n\t}\n\n\tinput:focus::-ms-fill-lower {\n\t\tbackground: var(--wx-slider-primary);\n\t}\n\n\tinput:focus::-ms-fill-upper {\n\t\tbackground: var(--wx-slider-background);\n\t}\n\n\tinput[disabled] {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-color-disabled);\n\t}\n\tinput[disabled]::-webkit-slider-runnable-track {\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled]::-webkit-slider-thumb {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-background);\n\t\tborder: var(--wx-slider-thumb-border-disabled);\n\t}\n\tinput[disabled]::-moz-range-track {\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled]::-moz-range-thumb {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-background);\n\t\tborder: var(--wx-slider-thumb-border-disabled);\n\t}\n\tinput[disabled]::-moz-range-progress {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-color-disabled);\n\t}\n\tinput[disabled]::-ms-track {\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled]::-ms-fill-lower {\n\t\tbackground: var(--wx-color-disabled);\n\t\tborder-color: var(--wx-color-disabled);\n\t}\n\tinput[disabled]::-ms-fill-upper {\n\t\tbackground: var(--wx-color-disabled);\n\t\tborder-color: var(--wx-color-disabled);\n\t}\n\tinput[disabled]::-ms-thumb {\n\t\tcursor: not-allowed;\n\t\tbackground: var(--wx-background);\n\t\tborder: var(--wx-slider-thumb-border-disabled);\n\t}\n\tinput[disabled]:focus::-ms-fill-lower {\n\t\tbackground: var(--wx-color-disabled);\n\t}\n\tinput[disabled]:focus::-ms-fill-upper {\n\t\tbackground: var(--wx-color-disabled);\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet { id, value = $bindable(false), disabled = false, onchange } = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tfunction onChange(event) {\n\t\tvalue = event.target.checked;\n\t\tonchange && onchange({ value });\n\t}\n</script>\n\n<label class=\"wx-switch\">\n\t<input\n\t\ttype=\"checkbox\"\n\t\tchecked={value}\n\t\tonchange={onChange}\n\t\t{disabled}\n\t\tid={inputId}\n\t/>\n\t<span></span>\n</label>\n\n<style>\n\t.wx-switch {\n\t\tposition: relative;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t\tmargin: 0;\n\t\tcursor: default;\n\t}\n\n\tinput {\n\t\t-webkit-appearance: none;\n\t\t   -moz-appearance: none;\n\t\t        appearance: none;\n\t\twidth: 0;\n\t\theight: 0;\n\t\topacity: 0;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\tspan {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: var(--wx-switch-width);\n\t\theight: var(--wx-switch-height);\n\t\tborder: var(--wx-switch-border-width) solid\n\t\t\tvar(--wx-switch-border-color);\n\t\tborder-radius: calc(var(--wx-switch-height) / 2);\n\t\tbackground-color: var(--wx-switch-background);\n\t\ttransition: background-color 0.4s ease;\n\t\tcursor: pointer;\n\t\toverflow: hidden;\n\t}\n\n\tspan:before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: var(--wx-switch-thumb-offset);\n\t\ttop: var(--wx-switch-thumb-offset);\n\t\theight: calc(\n\t\t\tvar(--wx-switch-height) - var(--wx-switch-thumb-offset) * 2 -\n\t\t\t\tvar(--wx-switch-border-width) * 2\n\t\t);\n\t\twidth: calc(\n\t\t\tvar(--wx-switch-height) - var(--wx-switch-thumb-offset) * 2 -\n\t\t\t\tvar(--wx-switch-border-width) * 2\n\t\t);\n\t\tborder: var(--wx-switch-thumb-border);\n\t\tborder-radius: 50%;\n\t\tbackground: var(--wx-switch-thumb-background);\n\t\tbox-shadow: var(--wx-switch-thumb-shadow);\n\t\ttransition: transform 0.4s ease;\n\t}\n\n\tinput:checked ~ span {\n\t\tbackground-color: var(--wx-switch-primary);\n\t}\n\n\tinput:checked ~ span:before {\n\t\ttransform: translateX(\n\t\t\tcalc(var(--wx-switch-width) - var(--wx-switch-height))\n\t\t);\n\t}\n\n\tinput[disabled] ~ span {\n\t\tbackground-color: var(--wx-color-disabled);\n\t\tborder-color: var(--wx-switch-border-color-disabled);\n\t\tcursor: not-allowed;\n\t}\n\tinput[disabled] ~ span:before {\n\t\tborder: var(--wx-switch-thumb-border-disabled);\n\t\tbackground: var(--wx-switch-thumb-background-disabled);\n\t}\n</style>\n", "<script>\n\tlet {\n\t\toptions = [],\n\t\tvalue = $bindable(\"\"),\n\t\ttype = \"top\",\n\t\tonchange,\n\t} = $props();\n</script>\n\n<div class=\"wx-tabs wx-{type}\">\n\t{#each options as option}\n\t\t<button\n\t\t\tclass:wx-active={option.id == value}\n\t\t\ttitle={option.title}\n\t\t\tonclick={() => {\n\t\t\t\tvalue = option.id;\n\t\t\t\tonchange && onchange({ value });\n\t\t\t}}\n\t\t>\n\t\t\t{#if option.icon}\n\t\t\t\t<i\n\t\t\t\t\tclass=\"wx-icon {option.icon} {!option.label\n\t\t\t\t\t\t? 'wx-only'\n\t\t\t\t\t\t: ''}\"\n\t\t\t\t></i>\n\t\t\t{/if}\n\t\t\t{#if option.label}<span class=\"wx-label\">{option.label}</span>{/if}\n\t\t</button>\n\t{/each}\n</div>\n\n<style>\n\t.wx-tabs {\n\t\tdisplay: inline-flex;\n\t\tflex-wrap: nowrap;\n\t}\n\n\tbutton {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-decoration: none;\n\t\ttext-align: center;\n\t\tletter-spacing: normal;\n\t\ttext-transform: var(--wx-button-text-transform);\n\t\tfont-family: var(--wx-button-font-family);\n\t\tfont-size: var(--wx-button-font-size);\n\t\tline-height: var(--wx-button-line-height);\n\t\tfont-weight: var(--wx-button-font-weight);\n\t\tpadding: var(--wx-button-padding);\n\t\tborder: var(--wx-button-border);\n\t\tborder-width: var(--wx-tabs-border-width);\n\t\tborder-radius: 0;\n\t\tbackground: var(--wx-tabs-background);\n\t\tcolor: var(--wx-button-font-color);\n\t\tcursor: pointer;\n\t\tbox-shadow: none;\n\t\ttransition: none;\n\t\tmax-width: 100%;\n\t\tmin-width: var(--wx-tabs-cell-min-width);\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t}\n\n\tbutton + button:before {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tleft: calc(\n\t\t\tvar(--wx-tabs-border-width) * -1 - var(--wx-tabs-divider-width) / 2\n\t\t);\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\twidth: 0;\n\t\theight: calc(\n\t\t\tvar(--wx-tabs-border-width) * 2 + var(--wx-tabs-divider-height)\n\t\t);\n\t\tborder-left: var(--wx-tabs-divider-width) solid\n\t\t\tvar(--wx-tabs-divider-color);\n\t}\n\n\tbutton:first-child {\n\t\tborder-top-left-radius: var(--wx-tabs-border-radius);\n\t\tborder-bottom-left-radius: var(--wx-tabs-border-radius);\n\t}\n\tbutton:last-child {\n\t\tborder-top-right-radius: var(--wx-tabs-border-radius);\n\t\tborder-bottom-right-radius: var(--wx-tabs-border-radius);\n\t}\n\n\tbutton,\n\tbutton:focus,\n\tbutton:active {\n\t\toutline: none;\n\t}\n\n\tbutton:hover {\n\t\tbackground: var(--wx-tabs-background-hover);\n\t}\n\n\tbutton.wx-active,\n\tbutton.wx-active:hover,\n\tbutton.wx-active:focus {\n\t\tbackground: var(--wx-tabs-active-background);\n\t\tcolor: var(--wx-tabs-active-color);\n\t\tcursor: default;\n\t}\n\tbutton.wx-active:before {\n\t\tdisplay: none;\n\t}\n\tbutton.wx-active + button:before {\n\t\tdisplay: none;\n\t}\n\n\tbutton.wx-active:after,\n\tbutton:hover:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tleft: 13px;\n\t\theight: 0;\n\t\twidth: calc(100% - 26px);\n\t}\n\n\tbutton.wx-active:after {\n\t\tborder-bottom: 2px solid var(--wx-tabs-active-border);\n\t}\n\n\tbutton:not(:global(.wx-active)):hover:after {\n\t\tborder-bottom: 2px solid var(--wx-tabs-hover-border);\n\t}\n\n\t.wx-top button.wx-active:after,\n\t.wx-top button:hover:after {\n\t\ttop: 100%;\n\t}\n\n\t.wx-bottom button.wx-active:after,\n\t.wx-bottom button:hover:after {\n\t\ttop: 0;\n\t}\n\n\t.wx-icon {\n\t\tposition: relative;\n\t\tfont-size: var(--wx-button-icon-size);\n\t\tline-height: 1;\n\t\theight: var(--wx-button-line-height);\n\t\topacity: 0.7;\n\t}\n\t.wx-icon:before {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\t.wx-icon.wx-only {\n\t\topacity: 1;\n\t}\n\n\t.wx-icon + .wx-label {\n\t\tmargin-left: 4px;\n\t}\n</style>\n", "<script>\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tlet {\n\t\tid,\n\t\tvalue = $bindable(0),\n\t\tstep = 1,\n\t\tmin = 0,\n\t\tmax = Infinity,\n\t\terror = false,\n\t\tdisabled = false,\n\t\treadonly = false,\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tfunction dec() {\n\t\tif (readonly || value <= min) return;\n\t\tvalue -= step;\n\t\tonchange && onchange({ value });\n\t}\n\n\tfunction inc() {\n\t\tif (readonly || value >= max) return;\n\t\tvalue += step;\n\t\tonchange && onchange({ value });\n\t}\n\n\tfunction blur() {\n\t\tif (!readonly) {\n\t\t\tconst tValue =\n\t\t\t\tMath.round(Math.min(max, Math.max(value, min)) / step) * step;\n\t\t\tvalue = isNaN(tValue) ? Math.max(min, 0) : tValue;\n\t\t\tonchange && onchange({ value });\n\t\t}\n\t}\n\n\tfunction input(e) {\n\t\tonchange && onchange({ value: e.target.value * 1, input: true });\n\t}\n</script>\n\n<div\n\tclass=\"wx-counter\"\n\tclass:wx-disabled={disabled}\n\tclass:wx-readonly={readonly}\n\tclass:wx-error={error}\n>\n\t<button aria-label=\"-\" class=\"wx-btn wx-btn-dec\" {disabled} onclick={dec}>\n\t\t<svg\n\t\t\tclass=\"wx-dec\"\n\t\t\twidth=\"12\"\n\t\t\theight=\"2\"\n\t\t\tviewBox=\"0 0 12 2\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path d=\"M11.2501 1.74994H0.750092V0.249939H11.2501V1.74994Z\" />\n\t\t</svg>\n\t</button>\n\t<input\n\t\tid={inputId}\n\t\ttype=\"text\"\n\t\tclass=\"wx-input\"\n\t\t{disabled}\n\t\t{readonly}\n\t\trequired\n\t\tbind:value\n\t\tonblur={blur}\n\t\toninput={input}\n\t/>\n\t<button aria-label=\"-\" class=\"wx-btn wx-btn-inc\" {disabled} onclick={inc}>\n\t\t<svg\n\t\t\tclass=\"wx-inc\"\n\t\t\twidth=\"12\"\n\t\t\theight=\"12\"\n\t\t\tviewBox=\"0 0 12 12\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M11.2501\n                6.74994H6.75009V11.2499H5.25009V6.74994H0.750092V5.24994H5.25009V0.749939H6.75009V5.24994H11.2501V6.74994Z\"\n\t\t\t/>\n\t\t</svg>\n\t</button>\n</div>\n\n<style>\n\t.wx-counter {\n\t\tdisplay: flex;\n\t\tborder: var(--wx-input-border);\n\t\twidth: -moz-max-content;\n\t\twidth: max-content;\n\t\tborder-radius: var(--wx-input-border-radius);\n\t}\n\n\t.wx-counter:not(:global(.wx-readonly)):has(:global(.wx-input:focus)) {\n\t\tborder: var(--wx-input-border-focus);\n\t}\n\n\t.wx-input {\n\t\tbox-sizing: border-box;\n\t\tbackground: var(--wx-background);\n\t\twidth: 40px;\n\t\theight: 30px;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tcolor: var(--wx-input-font-color);\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\toutline: none;\n\t\tborder: none;\n\t\tborder-left: var(--wx-input-border);\n\t\tborder-right: var(--wx-input-border);\n\t}\n\n\t.wx-btn {\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: 32px;\n\t\theight: 30px;\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: var(--wx-input-font-size);\n\t\tcolor: var(--wx-input-font-color);\n\t\tbackground-color: var(--wx-background-alt);\n\t\toutline: none;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t}\n\n\t.wx-counter:not(:global(.wx-readonly)):not(:global(.wx-disabled))\n\t\t.wx-btn:active {\n\t\tbackground-color: var(--wx-background-hover);\n\t}\n\n\t.wx-dec,\n\t.wx-inc {\n\t\tfill: var(--wx-color-primary);\n\t}\n\n\t.wx-btn-dec {\n\t\tborder-radius: 2px 0 0 2px;\n\t}\n\t.wx-btn-inc {\n\t\tborder-radius: 0 2px 2px 0;\n\t}\n\n\t.wx-error,\n\t.wx-counter.wx-error:has(:global(.wx-input:focus)) {\n\t\tborder: 1px solid var(--wx-color-danger);\n\t}\n\n\t.wx-error .wx-input {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-disabled .wx-input,\n\t.wx-disabled .wx-btn {\n\t\tcursor: not-allowed;\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-disabled .wx-btn {\n\t\tbackground: var(--wx-color-disabled-alt);\n\t}\n\n\t.wx-disabled .wx-btn .wx-dec,\n\t.wx-disabled .wx-btn .wx-inc,\n\t.wx-readonly .wx-btn .wx-dec,\n\t.wx-readonly .wx-btn .wx-inc {\n\t\tfill: var(--wx-color-font-disabled);\n\t}\n\n\t.wx-readonly .wx-btn {\n\t\tcursor: default;\n\t}\n</style>\n", "<script>\n\timport { fade } from \"svelte/transition\";\n\tlet { notice = {} } = $props();\n\n\tfunction onRemove() {\n\t\tif (notice.remove) notice.remove();\n\t}\n</script>\n\n<div\n\tclass=\"wx-notice wx-{notice.type ? notice.type : ''}\"\n\trole=\"status\"\n\taria-live=\"polite\"\n\ttransition:fade\n>\n\t<div class=\"wx-text\">{notice.text}</div>\n\t<div class=\"wx-button\">\n\t\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t\t<i class=\"wxi-close\" onclick={onRemove}></i>\n\t</div>\n</div>\n\n<style>\n\t.wx-notice {\n\t\tposition: relative;\n\t\tbackground: var(--wx-notice-background);\n\t\tbox-shadow: var(--wx-notice-shadow);\n\t\tborder: var(--wx-notice-border);\n\t\tborder-radius: var(--wx-notice-border-radius);\n\t\tmargin: var(--wx-notice-margin);\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\toverflow: hidden;\n\t\tfont-family: var(--wx-notice-font-family);\n\t\tfont-size: var(--wx-notice-font-size);\n\t\tline-height: var(--wx-notice-line-height);\n\t\tfont-weight: var(--wx-notice-font-weight);\n\t\tcolor: var(--wx-notice-font-color);\n\t\twidth: var(--wx-notice-width);\n\t}\n\t.wx-notice:before {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: var(--wx-notice-type-border-width);\n\t\theight: 100%;\n\t\tborder-top-right-radius: var(--wx-notice-type-border-width);\n\t\tborder-bottom-right-radius: var(--wx-notice-type-border-width);\n\t\tbackground: var(--wx-notice-type-border-color);\n\t}\n\t.wx-notice:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\topacity: var(--wx-notice-type-background-opacity);\n\t\tbackground: transparent;\n\t}\n\n\t.wx-text,\n\t.wx-button {\n\t\tposition: relative;\n\t\tz-index: 2;\n\t\tpadding: var(--wx-notice-padding);\n\t}\n\n\t.wx-text {\n\t\tflex-shrink: 0;\n\t\tword-wrap: break-word;\n\t\tmax-width: calc(\n\t\t\tvar(--wx-notice-width) - var(--wx-notice-padding) * 2 -\n\t\t\t\tvar(--wx-notice-icon-size)\n\t\t);\n\t}\n\n\t.wxi-close {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tfont-size: var(--wx-notice-icon-size);\n\t\tline-height: 1;\n\t\twidth: var(--wx-notice-icon-size);\n\t\theight: var(--wx-notice-icon-size);\n\t\tcolor: var(--wx-notice-type-icon-color);\n\t\tcursor: pointer;\n\t}\n\t.wxi-close:before {\n\t\tdisplay: block;\n\t\tz-index: 1;\n\t}\n\t.wxi-close:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\ttop: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\twidth: calc(100% + 4px);\n\t\theight: calc(100% + 4px);\n\t\tborder-radius: var(--wx-icon-border-radius);\n\t}\n\t.wxi-close:hover:after {\n\t\tbackground: var(--wx-background-hover);\n\t}\n\n\t.wx-notice.wx-info,\n\t.wx-notice.wx-warning,\n\t.wx-notice.wx-success,\n\t.wx-notice.wx-danger {\n\t\tcolor: var(--wx-notice-type-font-color);\n\t}\n\n\t.wx-notice.wx-info:before,\n\t.wx-notice.wx-info:after {\n\t\tbackground: var(--wx-color-info);\n\t}\n\t.wx-notice.wx-warning:before,\n\t.wx-notice.wx-warning:after {\n\t\tbackground: var(--wx-color-warning);\n\t}\n\t.wx-notice.wx-success:before,\n\t.wx-notice.wx-success:after {\n\t\tbackground: var(--wx-color-success);\n\t}\n\t.wx-notice.wx-danger:before,\n\t.wx-notice.wx-danger:after {\n\t\tbackground: var(--wx-color-danger);\n\t}\n\n\t.wx-notice.wx-info .wxi-close:after,\n\t.wx-notice.wx-warning .wxi-close:after,\n\t.wx-notice.wx-success .wxi-close:after,\n\t.wx-notice.wx-danger .wxi-close:after {\n\t\topacity: var(--wx-notice-type-close-hover-opacity);\n\t}\n</style>\n", "<script>\n\timport Notice from \"./Notice.svelte\";\n\n\tlet { data = [] } = $props();\n</script>\n\n<div class=\"wx-notices\">\n\t{#each data as notice (notice.id)}\n\t\t<Notice {notice} />\n\t{/each}\n</div>\n\n<style>\n\t.wx-notices {\n\t\tposition: fixed;\n\t\tz-index: var(--wx-notice-z-index);\n\t\ttop: 0;\n\t\tright: 0;\n\t}\n</style>\n", "<script>\n\timport { onMount, getContext } from \"svelte\";\n\timport { fade } from \"svelte/transition\";\n\timport Button from \"./Button.svelte\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\n\tconst _ = (getContext(\"wx-i18n\") || defaultLocale()).getGroup(\"core\");\n\n\tconst {\n\t\ttitle = \"\",\n\t\tbuttons = [\"cancel\", \"ok\"],\n\t\theader,\n\t\tchildren,\n\t\tfooter,\n\t\tonconfirm,\n\t\toncancel,\n\t} = $props();\n\n\tfunction keydown(ev) {\n\t\tswitch (ev.code) {\n\t\t\tcase \"Enter\": {\n\t\t\t\tconst from = ev.target.tagName;\n\t\t\t\tif (from === \"TEXTAREA\" || from === \"BUTTON\") return;\n\t\t\t\tonconfirm && onconfirm({ event: ev });\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"Escape\":\n\t\t\t\toncancel && oncancel({ event: ev });\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction onclick(ev, button) {\n\t\tconst pack = { event: ev, button };\n\t\tif (button === \"cancel\") {\n\t\t\toncancel && oncancel(pack);\n\t\t} else {\n\t\t\tonconfirm && onconfirm(pack);\n\t\t}\n\t}\n\n\tlet modal;\n\tonMount(() => {\n\t\tmodal.focus();\n\t});\n</script>\n\n<!-- svelte-ignore a11y_no_noninteractive_tabindex -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tclass=\"wx-modal\"\n\tbind:this={modal}\n\ttransition:fade={{ duration: 100 }}\n\ttabindex=\"0\"\n\tonkeydown={keydown}\n>\n\t<div class=\"wx-window\">\n\t\t{#if header}\n\t\t\t{@render header()}\n\t\t{:else if title}\n\t\t\t<div class=\"wx-header\">{title}</div>\n\t\t{/if}\n\t\t<div>\n\t\t\t{@render children()}\n\t\t</div>\n\t\t{#if footer}\n\t\t\t{@render footer()}\n\t\t{:else if buttons}\n\t\t\t<div class=\"wx-buttons\">\n\t\t\t\t{#each buttons as button}\n\t\t\t\t\t<div class=\"wx-button\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"block {button === 'ok'\n\t\t\t\t\t\t\t\t? 'primary'\n\t\t\t\t\t\t\t\t: 'secondary'}\"\n\t\t\t\t\t\t\tonclick={ev => onclick(ev, button)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{_(button)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</div>\n\n<style>\n\t.wx-modal {\n\t\tposition: fixed;\n\t\tz-index: var(--wx-modal-z-index);\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: var(--wx-modal-backdrop);\n\t\ttext-align: center;\n\t}\n\n\t.wx-window {\n\t\tbackground: var(--wx-modal-background);\n\t\tbox-shadow: var(--wx-modal-shadow);\n\t\tborder: var(--wx-modal-border);\n\t\tborder-radius: var(--wx-modal-border-radius);\n\t\tpadding: var(--wx-modal-padding);\n\t\tmin-width: var(--wx-modal-width);\n\t}\n\n\t.wx-header {\n\t\tfont-family: var(--wx-modal-header-font-family);\n\t\tfont-size: var(--wx-modal-header-font-size);\n\t\tline-height: var(--wx-modal-header-line-height);\n\t\tfont-weight: var(--wx-modal-header-font-weight);\n\t\tcolor: var(--wx-modal-header-font-color);\n\t\tmargin-bottom: var(--wx-modal-gutter);\n\t}\n\n\t.wx-buttons {\n\t\tmargin-top: var(--wx-modal-gutter);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-left: calc(var(--wx-modal-gutter) / -2);\n\t\tmargin-right: calc(var(--wx-modal-gutter) / -2);\n\t}\n\n\t.wx-button {\n\t\tflex: 1;\n\t\tmax-width: 50%;\n\t\tpadding: 0 calc(var(--wx-modal-gutter) / 2);\n\t}\n</style>\n", "<script>\n\timport { setContext } from \"svelte\";\n\n\timport Notices from \"./Notices.svelte\";\n\timport Modal from \"./Modal.svelte\";\n\n\timport { uid } from \"@svar-ui/lib-dom\";\n\n\tlet { children } = $props();\n\n\tlet modal = $state(null);\n\tfunction showModal(msg) {\n\t\tmodal = { ...msg };\n\t\treturn new Promise((res, rej) => {\n\t\t\tmodal.resolve = v => {\n\t\t\t\tmodal = null;\n\t\t\t\tres(v);\n\t\t\t};\n\t\t\tmodal.reject = v => {\n\t\t\t\tmodal = null;\n\t\t\t\trej(v);\n\t\t\t};\n\t\t});\n\t}\n\n\tlet notices = $state([]);\n\tfunction showNotice(msg) {\n\t\tmsg = { ...msg };\n\t\tmsg.id = msg.id || uid();\n\t\tmsg.remove = () => (notices = notices.filter(a => a.id !== msg.id));\n\n\t\tif (msg.expire != -1) {\n\t\t\tsetTimeout(msg.remove, msg.expire || 5100);\n\t\t}\n\t\tnotices = [...notices, msg];\n\t}\n\n\tsetContext(\"wx-helpers\", {\n\t\tshowNotice,\n\t\tshowModal,\n\t});\n</script>\n\n{@render children?.()}\n{#if modal}\n\t<Modal\n\t\ttitle={modal.title}\n\t\tbuttons={modal.buttons}\n\t\tonconfirm={modal.resolve}\n\t\toncancel={modal.reject}\n\t>\n\t\t{modal.message}\n\t</Modal>\n{/if}\n<Notices data={notices} />\n", "<script>\n\timport { uid } from \"@svar-ui/lib-dom\";\n\timport { setContext } from \"svelte\";\n\tlet {\n\t\tlabel = \"\",\n\t\tposition = \"\",\n\t\twidth = \"\",\n\t\terror = false,\n\t\ttype = \"\",\n\t\trequired = false,\n\t\tchildren,\n\t} = $props();\n\n\tlet firstInputId = $state(null);\n\n\tconst registerInput = () => {\n\t\tconst id = uid();\n\t\tif (!firstInputId) firstInputId = id;\n\t\treturn id;\n\t};\n\n\tsetContext(\"wx-input-id\", registerInput);\n</script>\n\n<div\n\tclass=\"wx-field wx-{position}\"\n\tclass:wx-error={error}\n\tclass:wx-required={required}\n\tstyle={width ? `width: ${width}` : \"\"}\n>\n\t{#if label}\n\t\t{#if firstInputId}\n\t\t\t<label class=\"wx-label\" for={firstInputId}>{label}</label>\n\t\t{:else}\n\t\t\t<div class=\"wx-label\">{label}</div>\n\t\t{/if}\n\t{/if}\n\t<div class=\"wx-field-control wx-{type}\">\n\t\t{@render children?.()}\n\t</div>\n</div>\n\n<style>\n\t.wx-field {\n\t\twidth: var(--wx-field-width);\n\t\tmax-width: 100%;\n\t\tmargin-bottom: var(--wx-field-gutter);\n\t}\n\t.wx-field.wx-left {\n\t\tdisplay: flex;\n\t\tflex-wrap: nowrap;\n\t\talign-items: flex-start;\n\t}\n\t.wx-field.wx-left > .wx-label {\n\t\twidth: var(--wx-label-width);\n\t\tflex-shrink: 0;\n\t\tmargin: 0 var(--wx-field-gutter) 0 0;\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-label-line-height)) / 2\n\t\t);\n\t\ttext-align: right;\n\t}\n\t.wx-field.wx-left > .wx-field-control {\n\t\tmax-width: calc(100% - var(--wx-label-width) - var(--wx-field-gutter));\n\t}\n\t.wx-field.wx-error .wx-label {\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-field.wx-left .wx-field-control.wx-checkbox {\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-checkbox-height)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-checkbox-height)) / 2\n\t\t);\n\t}\n\t.wx-field.wx-left .wx-field-control.wx-slider {\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-slider-height)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-slider-height)) / 2\n\t\t);\n\t}\n\t.wx-field.wx-left .wx-field-control.wx-switch {\n\t\tpadding-top: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-switch-height)) / 2\n\t\t);\n\t\tpadding-bottom: calc(\n\t\t\t(var(--wx-input-height) - var(--wx-switch-height)) / 2\n\t\t);\n\t}\n\n\t.wx-label {\n\t\tdisplay: block;\n\t\tmargin: var(--wx-label-margin);\n\t\tpadding: var(--wx-label-padding);\n\t\tfont-family: var(--wx-label-font-family);\n\t\tfont-size: var(--wx-label-font-size);\n\t\tline-height: var(--wx-label-line-height);\n\t\tfont-weight: var(--wx-label-font-weight);\n\t\tcolor: var(--wx-label-font-color);\n\t}\n\n\t.wx-required .wx-label::after {\n\t\tcontent: \" *\";\n\t\tcolor: var(--wx-color-danger);\n\t}\n\n\t.wx-field-control {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t}\n</style>\n", "<script>\n\timport Button from \"./Button.svelte\";\n\n\tlet {\n\t\tvalue = false,\n\t\ttype = \"\",\n\t\ticon = \"\",\n\t\tdisabled = false,\n\t\ticonActive = \"\",\n\t\tonclick,\n\t\ttitle = \"\",\n\t\tcss = \"\",\n\t\ttext = \"\",\n\t\ttextActive = \"\",\n\t\tchildren,\n\t\tactive,\n\t\tonchange,\n\t} = $props();\n\n\tlet typeStr = $derived((value ? \"pressed\" : \"\") + (type ? \" \" + type : \"\"));\n\n\tfunction handleClick(ev) {\n\t\tlet next = !value;\n\t\tif (onclick) onclick(ev);\n\t\tif (!ev.defaultPrevented) {\n\t\t\tvalue = next;\n\t\t\tonchange && onchange({ value });\n\t\t}\n\t}\n</script>\n\n{#if value && active}\n\t<Button\n\t\t{title}\n\t\ttext={(value && textActive) || text}\n\t\t{css}\n\t\ttype={typeStr}\n\t\ticon={(value && iconActive) || icon}\n\t\tonclick={handleClick}\n\t\t{disabled}\n\t>\n\t\t{@render active()}\n\t</Button>\n{:else if children}\n\t<Button\n\t\t{title}\n\t\ttext={(value && textActive) || text}\n\t\t{css}\n\t\ttype={typeStr}\n\t\ticon={(value && iconActive) || icon}\n\t\tonclick={handleClick}\n\t\t{disabled}\n\t>\n\t\t{@render children()}\n\t</Button>\n{:else}\n\t<Button\n\t\t{title}\n\t\ttext={(value && textActive) || text}\n\t\t{css}\n\t\ttype={typeStr}\n\t\ticon={(value && iconActive) || icon}\n\t\tonclick={handleClick}\n\t\t{disabled}\n\t/>\n{/if}\n", "<script>\n\timport Field from \"./Field.svelte\";\n\timport Text from \"./Text.svelte\";\n\timport Dropdown from \"./Dropdown.svelte\";\n\timport Slider from \"./Slider.svelte\";\n\timport TwoState from \"./TwoState.svelte\";\n\n\timport { getContext } from \"svelte\";\n\timport { dateToString } from \"@svar-ui/lib-dom\";\n\timport { defaultLocale } from \"./helpers/locale\";\n\timport { getInputId } from \"./helpers/getInputId.js\";\n\n\tconst defValue = new Date(0, 0, 0, 0, 0);\n\n\tlet {\n\t\tvalue = $bindable(defValue),\n\t\tid,\n\t\ttitle = \"\",\n\t\tcss = \"\",\n\t\tdisabled = false,\n\t\terror = false,\n\t\tformat = \"\",\n\t\tonchange,\n\t} = $props();\n\n\tconst inputId = $state(getInputId(id));\n\n\tconst { calendar: calendarLocale, formats } = (\n\t\tgetContext(\"wx-i18n\") || defaultLocale()\n\t).getRaw();\n\tconst h12 = calendarLocale.clockFormat == 12;\n\n\tconst maxH = 23;\n\tconst maxM = 59;\n\n\tconst update = (v, max) => {\n\t\tv = getNumber(v);\n\t\treturn Math.min(v, max);\n\t};\n\n\tlet popup = $state();\n\n\tconst safeValue = $derived(value || defValue);\n\tlet h = $derived(update(safeValue.getHours(), maxH));\n\tlet m = $derived(update(safeValue.getMinutes(), maxM));\n\n\tconst pm = $derived(h > 12);\n\tconst hText = $derived(formatH(h));\n\tconst mText = $derived(formatM(m));\n\tconst textValue = $derived(timeFormat(new Date(0, 0, 0, h, m)));\n\n\tfunction click() {\n\t\tpopup = true;\n\t}\n\n\tfunction togglePM() {\n\t\tconst next = new Date(safeValue);\n\t\tnext.setHours(next.getHours() + (pm ? -12 : 12));\n\t\tvalue = next;\n\t\tonchange && onchange({ value });\n\t}\n\tfunction setHours({ value: v }) {\n\t\tif (safeValue.getHours() === v) return;\n\n\t\tconst next = new Date(safeValue);\n\t\tnext.setHours(v);\n\t\tvalue = next;\n\t\tonchange && onchange({ value });\n\t}\n\tfunction setMinutes({ value: v }) {\n\t\tif (safeValue.getMinutes() === v) return;\n\n\t\tconst next = new Date(safeValue);\n\t\tnext.setMinutes(v);\n\t\tvalue = next;\n\t\tonchange && onchange({ value });\n\t}\n\tfunction formatH(v) {\n\t\tif (h12) {\n\t\t\tv = v % 12;\n\t\t\tif (v === 0) return \"12\";\n\t\t}\n\t\treturn formatTime(v, zeroBased);\n\t}\n\n\tfunction formatM(v) {\n\t\treturn formatTime(v, true);\n\t}\n\tfunction updateH(v) {\n\t\tv = update(v, maxH);\n\t\tif (h12) {\n\t\t\tv = v * 1;\n\t\t\tif (v === 12) v = 0;\n\t\t\tif (pm) v += 12;\n\t\t}\n\t\treturn v;\n\t}\n\n\tfunction getNumber(v) {\n\t\treturn `${v}`.replace(/[^\\d]/g, \"\") || 0;\n\t}\n\n\tfunction formatTime(v, zeroBased) {\n\t\treturn (v < 10 && zeroBased ? `0${v}` : `${v}`).slice(-2);\n\t}\n\n\tfunction oncancel() {\n\t\tpopup = null;\n\t}\n\n\tconst timeFormat = $derived.by(() => {\n\t\tconst f = format || formats.timeFormat;\n\t\treturn typeof f === \"function\" ? f : dateToString(f, calendarLocale);\n\t});\n\tconst zeroBased = $derived(\n\t\ttimeFormat(new Date(0, 0, 0, 1)).indexOf(\"01\") != -1\n\t);\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tclass=\"wx-timepicker\"\n\tclass:wx-error={error}\n\tclass:wx-disabled={disabled}\n\tonclick={click}\n>\n\t<Text\n\t\tid={inputId}\n\t\t{css}\n\t\t{title}\n\t\tvalue={textValue}\n\t\treadonly={true}\n\t\t{disabled}\n\t\t{error}\n\t\ticon=\"wxi-clock\"\n\t\tinputStyle=\"cursor: pointer; width: 100%; padding-right: calc(var(--wx-input-icon-size) + var(--wx-input-icon-indent) * 2);\"\n\t/>\n\n\t{#if popup && !disabled}\n\t\t<Dropdown {oncancel} width={\"unset\"}>\n\t\t\t<div class=\"wx-wrapper\">\n\t\t\t\t<div class=\"wx-timer\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"wx-digit\"\n\t\t\t\t\t\tvalue={hText}\n\t\t\t\t\t\tonblur={function () {\n\t\t\t\t\t\t\tsetHours({ value: updateH(this.value) });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"wx-separator\">:</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"wx-digit\"\n\t\t\t\t\t\tvalue={mText}\n\t\t\t\t\t\tonblur={function () {\n\t\t\t\t\t\t\tsetMinutes({ value: update(this.value, maxM) });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{#if h12}\n\t\t\t\t\t\t<TwoState value={pm} onclick={togglePM}>\n\t\t\t\t\t\t\t<span>am</span>\n\t\t\t\t\t\t\t{#snippet active()}\n\t\t\t\t\t\t\t\t<span>pm</span>\n\t\t\t\t\t\t\t{/snippet}\n\t\t\t\t\t\t</TwoState>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t\t<Field width={\"unset\"}>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tlabel={calendarLocale.hours}\n\t\t\t\t\t\twidth={\"unset\"}\n\t\t\t\t\t\tvalue={h}\n\t\t\t\t\t\tonchange={setHours}\n\t\t\t\t\t\tmax={maxH}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t\t<Field width={\"unset\"}>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tlabel={calendarLocale.minutes}\n\t\t\t\t\t\twidth={\"unset\"}\n\t\t\t\t\t\tvalue={m}\n\t\t\t\t\t\tonchange={setMinutes}\n\t\t\t\t\t\tmax={maxM}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t</div>\n\t\t</Dropdown>\n\t{/if}\n</div>\n\n<style>\n\t.wx-timepicker {\n\t\tposition: relative;\n\t\twidth: var(--wx-input-width);\n\t}\n\n\t.wx-wrapper {\n\t\tpadding: 10px 20px;\n\t}\n\n\t.wx-timer {\n\t\tdisplay: flex;\n\t\ttext-align: center;\n\t\tjustify-content: center;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.wx-digit {\n\t\tdisplay: block;\n\t\twidth: 50px;\n\t\theight: 38px;\n\t\tborder: none;\n\t\tborder-bottom: var(--wx-input-border);\n\t\tfont-family: var(--wx-input-font-family);\n\t\tfont-size: 24px;\n\t\tline-height: 28px;\n\t\tpadding: 5px;\n\t\ttext-align: center;\n\t\tcolor: var(--wx-input-font-color);\n\t\tbackground-color: transparent;\n\t\toutline: none;\n\t}\n\n\t.wx-digit:focus {\n\t\tborder-bottom: var(--wx-input-border-focus);\n\t}\n\n\t.wx-separator {\n\t\tfont-size: 24px;\n\t\tline-height: 38px;\n\t}\n</style>\n", "<script>\n\timport { fade } from \"svelte/transition\";\n\n\tlet { children } = $props();\n</script>\n\n<div class=\"wx-modal\" transition:fade={{ duration: 100 }}>\n\t<div class=\"wx-window\">\n\t\t{@render children?.()}\n\t</div>\n</div>\n\n<style>\n\t.wx-modal {\n\t\tposition: absolute;\n\t\tz-index: var(--wx-modal-z-index);\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: var(--wx-modal-backdrop);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.wx-window {\n\t\tbackground: var(--wx-modal-background);\n\t\tbox-shadow: var(--wx-modal-shadow);\n\t\tborder: var(--wx-modal-border);\n\t\tborder-radius: var(--wx-modal-border-radius);\n\t\tmin-width: var(--wx-modal-width);\n\t}\n</style>\n", "<script>\n\timport { clickOutside } from \"@svar-ui/lib-dom\";\n\timport { fly } from \"svelte/transition\";\n\n\tlet { position = \"right\", children, oncancel } = $props();\n</script>\n\n<div\n\tclass=\"wx-sidearea wx-pos-{position}\"\n\tuse:clickOutside={() => oncancel && oncancel()}\n\ttransition:fly={{ x: 650, opacity: 1 }}\n>\n\t{@render children?.()}\n</div>\n\n<style>\n\t.wx-sidearea {\n\t\tposition: absolute;\n\t\tz-index: var(--wx-popup-z-index);\n\t\tbackground: var(--wx-modal-background);\n\t\tbox-shadow: var(--wx-modal-shadow);\n\t\tborder: var(--wx-modal-border);\n\t\tborder-radius: var(--wx-modal-border-radius);\n\t\tmin-width: var(--wx-modal-width);\n\t\theight: 100vh;\n\t}\n\t.wx-sidearea.wx-pos-right {\n\t\tright: 0;\n\t\ttop: 0;\n\t}\n</style>\n", "<script>\n\timport { onMount, getContext, onDestroy } from \"svelte\";\n\timport { env } from \"@svar-ui/lib-dom\";\n\n\tlet portal = null;\n\n\tlet { theme = $bindable(\"\"), target, children } = $props();\n\n\tlet handlers = [];\n\texport const mount = h => {\n\t\tif (handlers) handlers.push(h);\n\t};\n\n\tif (theme === \"\") theme = getContext(\"wx-theme\");\n\n\tfunction getParentRoot(p) {\n\t\tconst root = env.getTopNode(p);\n\t\twhile (p !== root && !p.getAttribute(\"data-wx-portal-root\")) {\n\t\t\tp = p.parentNode;\n\t\t}\n\t\treturn p;\n\t}\n\tonMount(() => {\n\t\tlet currentTarget = target || getParentRoot(portal);\n\t\tcurrentTarget.appendChild(portal);\n\t\tif (handlers) handlers.forEach(h => h());\n\t});\n\n\tonDestroy(() => {\n\t\tif (portal && portal.parentNode) portal.parentNode.removeChild(portal);\n\t});\n</script>\n\n<div class=\"wx-portal\">\n\t<div class=\"wx-{theme}-theme\" bind:this={portal}>\n\t\t{@render children?.({ mount })}\n\t</div>\n</div>\n\n<style>\n\t.wx-portal {\n\t\tdisplay: none;\n\t}\n</style>\n", "import 'svelte/internal/disclose-version';\nimport 'svelte/internal/flags/legacy';\n\nFonttRoboto[$.FILENAME] = 'node_modules/@svar-ui/svelte-core/src/themes/FonttRoboto.svelte';\n\nimport * as $ from 'svelte/internal/client';\n\nfunction FonttRoboto($$anchor, $$props) {\n\t$.check_target(new.target);\n\t$.push($$props, false, FonttRoboto);\n\n\tvar $$exports = { ...$.legacy_api() };\n\tvar fragment = $.comment();\n\tvar node = $.first_child(fragment);\n\n\t$.html(node, () => `<style>\n@font-face {\nfont-family: 'Roboto';\nfont-style: normal;\nfont-weight: 400;\nsrc: local(''),\n    url('https://cdn.svar.dev/fonts/roboto/regular.woff2') format('woff2'),\n    url('https://cdn.svar.dev/fonts/roboto/regular.woff') format('woff');\n}\n@font-face {\nfont-family: 'Roboto';\nfont-style: normal;\nfont-weight: 500;\nsrc: local(''),\n    url('https://cdn.svar.dev/fonts/roboto/500.woff2') format('woff2'),\n    url('https://cdn.svar.dev/fonts/roboto/500.woff') format('woff');\n}\n</style>`);\n\n\t$.append($$anchor, fragment);\n\n\treturn $.pop($$exports);\n}\n\nif (import.meta.hot) {\n\tFonttRoboto = $.hmr(FonttRoboto);\n\n\timport.meta.hot.accept((module) => {\n\t\tFonttRoboto[$.HMR].update(module.default);\n\t});\n}\n\nexport default FonttRoboto;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRm9udHRSb2JvdG8uc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjwhLS0gcHJldHRpZXItaWdub3JlIC0tPlxuPCEtLSBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3ZlbHRlL25vLWF0LWh0bWwtdGFncyAtLT5cbntAaHRtbCBgPHN0eWxlPlxuQGZvbnQtZmFjZSB7XG5mb250LWZhbWlseTogJ1JvYm90byc7XG5mb250LXN0eWxlOiBub3JtYWw7XG5mb250LXdlaWdodDogNDAwO1xuc3JjOiBsb2NhbCgnJyksXG4gICAgdXJsKCdodHRwczovL2Nkbi5zdmFyLmRldi9mb250cy9yb2JvdG8vcmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSxcbiAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL3JvYm90by9yZWd1bGFyLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTtcbn1cbkBmb250LWZhY2Uge1xuZm9udC1mYW1pbHk6ICdSb2JvdG8nO1xuZm9udC1zdHlsZTogbm9ybWFsO1xuZm9udC13ZWlnaHQ6IDUwMDtcbnNyYzogbG9jYWwoJycpLFxuICAgIHVybCgnaHR0cHM6Ly9jZG4uc3Zhci5kZXYvZm9udHMvcm9ib3RvLzUwMC53b2ZmMicpIGZvcm1hdCgnd29mZjInKSxcbiAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL3JvYm90by81MDAud29mZicpIGZvcm1hdCgnd29mZicpO1xufVxuPC9zdHlsZT5gfVxuIl0sIm1hcHBpbmdzIjoiIiwiaWdub3JlTGlzdCI6W119", "<script>\n\timport { setContext } from \"svelte\";\n\timport RobotoFont from \"./FonttRoboto.svelte\";\n\n\tlet { fonts = true, children } = $props();\n\tsetContext(\"wx-theme\", \"material\");\n</script>\n\n{#if children}\n\t<div class=\"wx-material-theme\" style=\"height:100%\">\n\t\t{@render children()}\n\t</div>\n{/if}\n\n<svelte:head>\n\t{#if fonts}\n\t\t<link rel=\"preconnect\" href=\"https://cdn.svar.dev\" crossorigin />\n\t\t<RobotoFont />\n\t\t<link\n\t\t\trel=\"stylesheet\"\n\t\t\thref=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n\t\t/>\n\t{/if}\n</svelte:head>\n\n<style>\n\t:global(.wx-material-theme) {\n\t\t/* base colors */\n\t\t--wx-color-primary: #2f77e3;\n\t\t--wx-color-primary-selected: #d5e6ff;\n\t\t--wx-color-primary-font: #fff;\n\t\t--wx-color-secondary: rgba(0, 0, 0, 0.04);\n\t\t--wx-color-secondary-hover: rgba(0, 0, 0, 0.1);\n\t\t--wx-color-secondary-font: rgba(0, 0, 0, 0.7);\n\t\t--wx-color-secondary-font-hover: rgba(0, 0, 0, 0.7);\n\t\t--wx-color-secondary-border: transparent;\n\t\t--wx-color-secondary-border-disabled: transparent;\n\n\t\t--wx-color-success: #00d19a;\n\t\t--wx-color-warning: #ffc975;\n\t\t--wx-color-info: #37a9ef;\n\t\t--wx-color-danger: #ff5252;\n\t\t--wx-color-disabled: #ededed;\n\t\t--wx-color-disabled-alt: #e9e9e9;\n\n\t\t--wx-color-font: rgba(0, 0, 0, 0.7);\n\t\t--wx-color-font-alt: rgba(0, 0, 0, 0.5);\n\t\t--wx-color-font-disabled: rgba(0, 0, 0, 0.3);\n\t\t--wx-color-link: var(--wx-color-primary);\n\n\t\t--wx-background: #fff;\n\t\t--wx-background-alt: #f7f7f7;\n\t\t--wx-background-hover: linear-gradient(\n\t\t\trgba(0, 0, 0, 0.15) 0%,\n\t\t\trgba(0, 0, 0, 0.15) 100%\n\t\t);\n\t\t/* end base colors */\n\n\t\t/* font */\n\t\t--wx-font-family: Roboto, Arial, Helvetica, sans-serif;\n\t\t--wx-font-size: 14px;\n\t\t--wx-line-height: 20px;\n\t\t--wx-font-size-md: 16px;\n\t\t--wx-line-height-md: 24px;\n\t\t--wx-font-size-hd: 16px;\n\t\t--wx-line-height-hd: 30px;\n\t\t--wx-font-size-sm: 12px;\n\t\t--wx-line-height-sm: 16px;\n\t\t--wx-font-weight: 400;\n\t\t--wx-font-weight-md: 500;\n\t\t--wx-font-weight-b: 700;\n\t\t/* end font */\n\n\t\t/* icons */\n\t\t--wx-icon-color: var(--wx-color-font-alt);\n\t\t--wx-icon-size: var(--wx-line-height);\n\t\t--wx-icon-border-radius: 2px;\n\t\t/* end icons */\n\n\t\t/* other */\n\t\t--wx-border: 1px solid #dfdfdf;\n\t\t--wx-border-radius: 2px;\n\t\t--wx-radius-medium: var(--wx-border-radius);\n\n\t\t--wx-border-light: none;\n\t\t--wx-border-medium: 1px solid #eaedf5;\n\n\t\t--wx-shadow-light: 0px 4px 20px rgba(44, 47, 60, 0.12);\n\t\t--wx-shadow-medium: 0px 2px 4px rgba(0, 0, 0, 0.15);\n\t\t--wx-box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n\t\t--wx-box-shadow-strong: 0px 2px 5px rgba(0, 0, 0, 0.3);\n\n\t\t--wx-padding: 8px;\n\t\t/* end other */\n\n\t\t/* field */\n\t\t--wx-field-gutter: 16px;\n\t\t--wx-field-width: 400px;\n\t\t/* end field */\n\n\t\t/* input */\n\t\t--wx-input-font-family: var(--wx-font-family);\n\t\t--wx-input-font-size: var(--wx-font-size);\n\t\t--wx-input-line-height: var(--wx-line-height);\n\t\t--wx-input-font-weight: var(--wx-font-weight);\n\t\t--wx-input-text-align: left;\n\t\t--wx-input-font-color: var(--wx-color-font);\n\t\t--wx-input-background: var(--wx-background);\n\t\t--wx-input-background-disabled: var(--wx-background);\n\t\t--wx-input-placeholder-color: var(--wx-color-font-alt);\n\t\t--wx-input-border: var(--wx-border);\n\t\t--wx-input-border-focus: 1px solid rgba(0, 0, 0, 0.5);\n\t\t--wx-input-border-disabled: 1px solid var(--wx-color-disabled);\n\t\t--wx-input-border-radius: var(--wx-border-radius);\n\t\t--wx-input-height: 32px;\n\t\t--wx-input-width: 100%;\n\t\t--wx-input-padding: 5px 8px;\n\t\t--wx-input-icon-indent: 6px;\n\t\t--wx-input-icon-color: var(--wx-icon-color);\n\t\t--wx-input-icon-size: var(--wx-icon-size);\n\t\t/* end input */\n\n\t\t/* multi combo */\n\t\t--wx-multicombo-tag-gap: 4px;\n\t\t--wx-multicombo-tag-border: none;\n\t\t--wx-multicombo-tag-border-radius: var(--wx-input-border-radius);\n\t\t--wx-multicombo-tag-pading: 2px 8px;\n\t\t--wx-multicombo-tag-background: var(--wx-background-alt);\n\t\t/* end multi combo */\n\n\t\t/* checkbox and radio */\n\t\t--wx-checkbox-height: var(--wx-line-height);\n\t\t--wx-checkbox-size: 18px;\n\t\t--wx-checkbox-border-width: 2px;\n\t\t--wx-checkbox-border-color: var(--wx-color-font-alt);\n\t\t--wx-checkbox-border-color-disabled: var(--wx-color-font-disabled);\n\t\t--wx-checkbox-border-radius: var(--wx-input-border-radius);\n\t\t--wx-checkbox-font-family: var(--wx-font-family);\n\t\t--wx-checkbox-font-size: var(--wx-font-size);\n\t\t--wx-checkbox-line-height: var(--wx-line-height);\n\t\t--wx-checkbox-font-weight: var(--wx-font-weight);\n\t\t--wx-checkbox-font-color: var(--wx-color-font);\n\t\t/* end checkbox and radio */\n\n\t\t/* label */\n\t\t--wx-label-width: 80px;\n\t\t--wx-label-margin: 0 0 8px;\n\t\t--wx-label-padding: 0;\n\t\t--wx-label-font-family: var(--wx-font-family);\n\t\t--wx-label-font-size: var(--wx-font-size);\n\t\t--wx-label-line-height: var(--wx-line-height);\n\t\t--wx-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-label-font-color: var(--wx-color-font);\n\t\t/* end label */\n\n\t\t/* button */\n\t\t--wx-button-font-family: var(--wx-font-family);\n\t\t--wx-button-font-size: var(--wx-font-size);\n\t\t--wx-button-line-height: var(--wx-line-height);\n\t\t--wx-button-font-weight: var(--wx-font-weight-md);\n\t\t--wx-button-text-transform: none;\n\t\t--wx-button-font-color: var(--wx-color-font);\n\t\t--wx-button-danger-font-color: #fff;\n\t\t--wx-button-background: var(--wx-background-alt);\n\t\t--wx-button-border: 1px solid transparent;\n\t\t--wx-button-border-radius: var(--wx-border-radius);\n\t\t--wx-button-height: 32px;\n\t\t--wx-button-padding: 5px 20px;\n\t\t--wx-button-icon-indent: 7px;\n\t\t--wx-button-icon-size: 16px;\n\n\t\t--wx-button-pressed: rgba(0, 0, 0, 0.16);\n\t\t--wx-button-danger-pressed: #cc4242;\n\t\t--wx-button-primary-pressed: #265fb6;\n\n\t\t--wx-button-box-shadow: -2px -2px 4px 0px rgba(255, 255, 255, 0.56) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.12) inset;\n\t\t--wx-button-primary-box-shadow: -2px -2px 4px 0px rgba(\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t0.26\n\t\t\t\t) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.16) inset;\n\t\t/* end button */\n\n\t\t/* segmented */\n\t\t--wx-segmented-background: var(--wx-background-alt);\n\t\t--wx-segmented-background-hover: var(--wx-background-hover);\n\t\t--wx-segmented-border: var(--wx-border);\n\t\t--wx-segmented-border-radius: var(--wx-border-radius);\n\t\t--wx-segmented-padding: 3px;\n\t\t/* end segmented */\n\n\t\t/* tabs */\n\t\t--wx-tabs-background: var(--wx-background-alt);\n\t\t--wx-tabs-background-hover: var(--wx-background-hover);\n\t\t--wx-tabs-hover-border: transparent;\n\t\t--wx-tabs-border-width: 1px;\n\t\t--wx-tabs-border-radius: var(--wx-border-radius);\n\t\t--wx-tabs-divider-width: 1px;\n\t\t--wx-tabs-divider-height: 100%;\n\t\t--wx-tabs-divider-color: #dfdfdf;\n\t\t--wx-tabs-cell-min-width: 100px;\n\t\t--wx-tabs-active-background: var(--wx-color-primary);\n\t\t--wx-tabs-active-color: var(--wx-color-primary-font);\n\t\t--wx-tabs-active-border: transparent;\n\t\t/* end tabs */\n\n\t\t/* slider */\n\t\t--wx-slider-height: 16px;\n\t\t--wx-slider-primary: var(--wx-color-primary);\n\t\t--wx-slider-background: #dfdfdf;\n\t\t--wx-slider-track-height: 4px;\n\t\t--wx-slider-track-border-radius: 2px;\n\t\t--wx-slider-thumb-size: var(--wx-slider-height);\n\t\t--wx-slider-thumb-border: 2px solid var(--wx-background);\n\t\t--wx-slider-thumb-border-disabled: none;\n\t\t--wx-slider-thumb-shadow: var(--wx-box-shadow-strong);\n\t\t--wx-slider-label-margin: 0 0 5px;\n\t\t--wx-slider-label-font-family: var(--wx-font-family);\n\t\t--wx-slider-label-font-size: var(--wx-font-size);\n\t\t--wx-slider-label-line-height: var(--wx-line-height);\n\t\t--wx-slider-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-slider-label-font-color: var(--wx-color-font);\n\t\t/* end slider */\n\n\t\t/* switch */\n\t\t--wx-switch-primary: var(--wx-color-primary);\n\t\t--wx-switch-background: rgba(0, 0, 0, 0.3);\n\t\t--wx-switch-width: 44px;\n\t\t--wx-switch-height: 22px;\n\t\t--wx-switch-border-width: 1px;\n\t\t--wx-switch-border-color: transparent;\n\t\t--wx-switch-border-color-disabled: #dfdfdf;\n\t\t--wx-switch-thumb-offset: 1px;\n\t\t--wx-switch-thumb-border: none;\n\t\t--wx-switch-thumb-border-disabled: none;\n\t\t--wx-switch-thumb-background: var(--wx-background);\n\t\t--wx-switch-thumb-background-disabled: var(--wx-background);\n\t\t--wx-switch-thumb-shadow: var(--wx-box-shadow-strong);\n\t\t/* end switch */\n\n\t\t/* popup and dropdown */\n\t\t--wx-popup-z-index: 100;\n\t\t--wx-popup-background: var(--wx-background);\n\t\t--wx-popup-shadow: var(--wx-shadow-light);\n\t\t--wx-popup-border: none;\n\t\t--wx-popup-border-radius: var(--wx-border-radius);\n\t\t/* end popup and dropdown */\n\n\t\t/* modal */\n\t\t--wx-modal-z-index: 1000;\n\t\t--wx-modal-background: var(--wx-background);\n\t\t--wx-modal-shadow: var(--wx-shadow-medium);\n\t\t--wx-modal-border: none;\n\t\t--wx-modal-border-radius: var(--wx-border-radius);\n\t\t--wx-modal-width: 280px;\n\t\t--wx-modal-padding: 16px 20px;\n\t\t--wx-modal-gutter: 14px;\n\t\t--wx-modal-backdrop: rgba(0, 0, 0, 0.5);\n\t\t--wx-modal-header-font-family: var(--wx-font-family);\n\t\t--wx-modal-header-font-size: var(--wx-font-size-hd);\n\t\t--wx-modal-header-line-height: var(--wx-line-height-hd);\n\t\t--wx-modal-header-font-weight: var(--wx-font-weight);\n\t\t--wx-modal-header-font-color: #000;\n\t\t/* end modal */\n\n\t\t/* notice */\n\t\t--wx-notice-z-index: 1010;\n\t\t--wx-notice-background: var(--wx-background);\n\t\t--wx-notice-shadow: var(--wx-shadow-medium);\n\t\t--wx-notice-border: none;\n\t\t--wx-notice-border-radius: var(--wx-border-radius);\n\t\t--wx-notice-margin: 6px 12px;\n\t\t--wx-notice-font-family: var(--wx-font-family);\n\t\t--wx-notice-font-size: var(--wx-font-size);\n\t\t--wx-notice-line-height: var(--wx-line-height);\n\t\t--wx-notice-font-weight: var(--wx-font-weight);\n\t\t--wx-notice-font-color: var(--wx-color-font);\n\t\t--wx-notice-padding: var(--wx-padding);\n\t\t--wx-notice-width: 240px;\n\t\t--wx-notice-icon-size: var(--wx-icon-size);\n\t\t--wx-notice-icon-color: var(--wx-icon-color);\n\t\t--wx-notice-type-border-width: 0px;\n\t\t--wx-notice-type-border-color: transparent;\n\t\t--wx-notice-type-font-color: #fff;\n\t\t--wx-notice-type-icon-color: rgba(255, 255, 255, 0.8);\n\t\t--wx-notice-type-background-opacity: 1;\n\t\t--wx-notice-type-close-hover-opacity: 0.3;\n\t\t/* end notice */\n\n\t\t/* calendar */\n\t\t--wx-calendar-padding: 16px;\n\t\t--wx-calendar-cell-size: 32px;\n\t\t--wx-calendar-gap: 4px;\n\t\t--wx-calendar-line-gap: 0px;\n\t\t--wx-calendar-border-radius: var(--wx-calendar-cell-size);\n\t\t--wx-calendar-font-family: var(--wx-font-family);\n\t\t--wx-calendar-font-size: var(--wx-font-size);\n\t\t--wx-calendar-line-height: var(--wx-line-height);\n\t\t--wx-calendar-font-weight: var(--wx-font-weight);\n\t\t--wx-calendar-font-color: var(--wx-color-font);\n\t\t--wx-calendar-icon-color: var(--wx-icon-color);\n\t\t--wx-calendar-icon-size: var(--wx-icon-size);\n\t\t--wx-calendar-header-font-size: var(--wx-font-size);\n\t\t--wx-calendar-header-line-height: var(--wx-line-height);\n\t\t--wx-calendar-header-font-weight: var(--wx-font-weight-md);\n\t\t--wx-calendar-controls-font-family: var(--wx-button-font-family);\n\t\t--wx-calendar-controls-font-size: var(--wx-button-font-size);\n\t\t--wx-calendar-controls-line-height: var(--wx-button-line-height);\n\t\t--wx-calendar-controls-font-weight: var(--wx-button-font-weight);\n\t\t--wx-calendar-controls-font-color: var(--wx-color-link);\n\t\t/* end calendar */\n\t}\n\n\t:global(.wx-material-theme) {\n\t\tfont-family: var(--wx-font-family);\n\t\tfont-size: var(--wx-font-size);\n\t\tline-height: var(--wx-line-height);\n\t\tfont-weight: var(--wx-font-weight);\n\t\tfont-style: normal;\n\t\tletter-spacing: normal;\n\t\ttext-align: left;\n\t\tcolor: var(--wx-color-font);\n\t\tbackground: var(--wx-background);\n\t}\n\t:global(\n\t\t\t.wx-material-theme *,\n\t\t\t.wx-material-theme *:before,\n\t\t\t.wx-material-theme *:after\n\t\t) {\n\t\tbox-sizing: border-box;\n\t}\n</style>\n", "import 'svelte/internal/disclose-version';\nimport 'svelte/internal/flags/legacy';\n\nFontOpenSans[$.FILENAME] = 'node_modules/@svar-ui/svelte-core/src/themes/FontOpenSans.svelte';\n\nimport * as $ from 'svelte/internal/client';\n\nfunction FontOpenSans($$anchor, $$props) {\n\t$.check_target(new.target);\n\t$.push($$props, false, FontOpenSans);\n\n\tvar $$exports = { ...$.legacy_api() };\n\tvar fragment = $.comment();\n\tvar node = $.first_child(fragment);\n\n\t$.html(node, () => `<style>\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 500;\nsrc: local(''),\n      url('https://cdn.svar.dev/fonts/open-sans/500.woff2') format('woff2'),\n      url('https://cdn.svar.dev/fonts/open-sans/500.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 400;\nsrc: local(''),\n      url('https://cdn.svar.dev/fonts/open-sans/regular.woff2') format('woff2'),\n      url('https://cdn.svar.dev/fonts/open-sans/regular.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 600;\nsrc: local(''),\n      url('https://cdn.svar.dev/fonts/open-sans/600.woff2') format('woff2'),\n      url('https://cdn.svar.dev/fonts/open-sans/600.woff') format('woff');\n}\n@font-face {\nfont-family: 'Open Sans';\nfont-style: normal;\nfont-weight: 700;\nsrc: local(''),\n      url('https://cdn.svar.dev/fonts/open-sans/700.woff2') format('woff2'),\n      url('https://cdn.svar.dev/fonts/open-sans/700.woff') format('woff');\n}\n  </style>`);\n\n\t$.append($$anchor, fragment);\n\n\treturn $.pop($$exports);\n}\n\nif (import.meta.hot) {\n\tFontOpenSans = $.hmr(FontOpenSans);\n\n\timport.meta.hot.accept((module) => {\n\t\tFontOpenSans[$.HMR].update(module.default);\n\t});\n}\n\nexport default FontOpenSans;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiRm9udE9wZW5TYW5zLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8IS0tIHByZXR0aWVyLWlnbm9yZSAtLT5cbjwhLS0gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHN2ZWx0ZS9uby1hdC1odG1sLXRhZ3MgLS0+XG57QGh0bWwgYDxzdHlsZT5cbkBmb250LWZhY2Uge1xuZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnO1xuZm9udC1zdHlsZTogbm9ybWFsO1xuZm9udC13ZWlnaHQ6IDUwMDtcbnNyYzogbG9jYWwoJycpLFxuICAgICAgdXJsKCdodHRwczovL2Nkbi5zdmFyLmRldi9mb250cy9vcGVuLXNhbnMvNTAwLndvZmYyJykgZm9ybWF0KCd3b2ZmMicpLFxuICAgICAgdXJsKCdodHRwczovL2Nkbi5zdmFyLmRldi9mb250cy9vcGVuLXNhbnMvNTAwLndvZmYnKSBmb3JtYXQoJ3dvZmYnKTtcbn1cbkBmb250LWZhY2Uge1xuZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnO1xuZm9udC1zdHlsZTogbm9ybWFsO1xuZm9udC13ZWlnaHQ6IDQwMDtcbnNyYzogbG9jYWwoJycpLFxuICAgICAgdXJsKCdodHRwczovL2Nkbi5zdmFyLmRldi9mb250cy9vcGVuLXNhbnMvcmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSxcbiAgICAgIHVybCgnaHR0cHM6Ly9jZG4uc3Zhci5kZXYvZm9udHMvb3Blbi1zYW5zL3JlZ3VsYXIud29mZicpIGZvcm1hdCgnd29mZicpO1xufVxuQGZvbnQtZmFjZSB7XG5mb250LWZhbWlseTogJ09wZW4gU2Fucyc7XG5mb250LXN0eWxlOiBub3JtYWw7XG5mb250LXdlaWdodDogNjAwO1xuc3JjOiBsb2NhbCgnJyksXG4gICAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL29wZW4tc2Fucy82MDAud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL29wZW4tc2Fucy82MDAud29mZicpIGZvcm1hdCgnd29mZicpO1xufVxuQGZvbnQtZmFjZSB7XG5mb250LWZhbWlseTogJ09wZW4gU2Fucyc7XG5mb250LXN0eWxlOiBub3JtYWw7XG5mb250LXdlaWdodDogNzAwO1xuc3JjOiBsb2NhbCgnJyksXG4gICAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL29wZW4tc2Fucy83MDAud29mZjInKSBmb3JtYXQoJ3dvZmYyJyksXG4gICAgICB1cmwoJ2h0dHBzOi8vY2RuLnN2YXIuZGV2L2ZvbnRzL29wZW4tc2Fucy83MDAud29mZicpIGZvcm1hdCgnd29mZicpO1xufVxuICA8L3N0eWxlPmB9XG4iXSwibWFwcGluZ3MiOiIiLCJpZ25vcmVMaXN0IjpbXX0=", "<script>\n\timport { setContext } from \"svelte\";\n\timport FontOpenSans from \"./FontOpenSans.svelte\";\n\n\tlet { fonts = true, children } = $props();\n\tsetContext(\"wx-theme\", \"willow\");\n</script>\n\n{#if children}\n\t<div class=\"wx-willow-theme\" style=\"height:100%\">\n\t\t{@render children()}\n\t</div>\n{/if}\n\n<svelte:head>\n\t{#if fonts}\n\t\t<link rel=\"preconnect\" href=\"https://cdn.svar.dev\" crossorigin />\n\t\t<FontOpenSans />\n\t\t<link\n\t\t\trel=\"stylesheet\"\n\t\t\thref=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n\t\t/>\n\t{/if}\n</svelte:head>\n\n<style>\n\t:global(.wx-willow-theme) {\n\t\t/* base colors */\n\t\t--wx-color-primary: #37a9ef;\n\t\t--wx-color-primary-selected: #d5eaf7;\n\t\t--wx-color-primary-font: #fff;\n\t\t--wx-color-secondary: transparent;\n\t\t--wx-color-secondary-hover: rgba(55, 169, 239, 0.12);\n\t\t--wx-color-secondary-font: var(--wx-color-primary);\n\t\t--wx-color-secondary-font-hover: var(--wx-color-primary);\n\t\t--wx-color-secondary-border: var(--wx-color-primary);\n\t\t--wx-color-secondary-border-disabled: #c0c3ce;\n\n\t\t--wx-color-success: #77d257;\n\t\t--wx-color-warning: #fcba2e;\n\t\t--wx-color-info: #37a9ef;\n\t\t--wx-color-danger: #fe6158;\n\t\t--wx-color-disabled: #f2f3f7;\n\t\t--wx-color-disabled-alt: #e9e9e9;\n\n\t\t--wx-color-font: #2c2f3c;\n\t\t--wx-color-font-alt: #9fa1ae;\n\t\t--wx-color-font-disabled: #c0c3ce;\n\t\t--wx-color-link: var(--wx-color-primary);\n\n\t\t--wx-background: #ffffff;\n\t\t--wx-background-alt: #f2f3f7;\n\t\t--wx-background-hover: #eaedf5;\n\t\t/* end base colors */\n\n\t\t/* font */\n\t\t--wx-font-family: \"Open Sans\", Arial, Helvetica, sans-serif;\n\t\t--wx-font-size: 14px;\n\t\t--wx-line-height: 20px;\n\t\t--wx-font-size-md: 14px;\n\t\t--wx-line-height-md: 24px;\n\t\t--wx-font-size-hd: 16px;\n\t\t--wx-line-height-hd: 30px;\n\t\t--wx-font-size-sm: 12px;\n\t\t--wx-line-height-sm: 16px;\n\t\t--wx-font-weight: 400;\n\t\t--wx-font-weight-md: 600;\n\t\t--wx-font-weight-b: 700;\n\t\t/* end font */\n\n\t\t/* icons */\n\t\t--wx-icon-color: #9fa1ae;\n\t\t--wx-icon-size: var(--wx-line-height);\n\t\t--wx-icon-border-radius: 2px;\n\t\t/* end icons */\n\n\t\t/* other */\n\t\t--wx-border: 1px solid #e6e6e6;\n\t\t--wx-border-radius: 3px;\n\t\t--wx-radius-major: 6px;\n\n\t\t--wx-border-light: none;\n\t\t--wx-border-medium: 1px solid #eaedf5;\n\n\t\t--wx-shadow-light: 0px 3px 10px 0px rgba(44, 47, 60, 0.12),\n\t\t\t0px 1px 2px 0px rgba(44, 47, 60, 0.06);\n\t\t--wx-shadow-medium: 0px 4px 20px 0px rgba(44, 47, 60, 0.12);\n\t\t/* LEGACY start */\n\t\t--wx-box-shadow: 0px 1px 2px rgba(44, 47, 60, 0.06),\n\t\t\t0px 3px 10px rgba(44, 47, 60, 0.12);\n\t\t--wx-box-shadow-strong: 0px 4px 20px rgba(44, 47, 60, 0.16);\n\t\t/* LEGACY END */\n\n\t\t--wx-padding: 8px;\n\t\t/* end other */\n\n\t\t/* field */\n\t\t--wx-field-gutter: 16px;\n\t\t--wx-field-width: 400px;\n\t\t/* end field */\n\n\t\t/* input */\n\t\t--wx-input-font-family: var(--wx-font-family);\n\t\t--wx-input-font-size: var(--wx-font-size);\n\t\t--wx-input-line-height: var(--wx-line-height);\n\t\t--wx-input-font-weight: var(--wx-font-weight);\n\t\t--wx-input-text-align: left;\n\t\t--wx-input-font-color: var(--wx-color-font);\n\t\t--wx-input-background: var(--wx-background);\n\t\t--wx-input-background-disabled: var(--wx-color-disabled);\n\t\t--wx-input-placeholder-color: var(--wx-color-font-alt);\n\t\t--wx-input-border: var(--wx-border);\n\t\t--wx-input-border-focus: 1px solid var(--wx-color-primary);\n\t\t--wx-input-border-disabled: var(--wx-border);\n\t\t--wx-input-border-radius: 3px;\n\t\t--wx-input-height: 32px;\n\t\t--wx-input-width: 100%;\n\t\t--wx-input-padding: 5px 8px;\n\t\t--wx-input-icon-indent: 6px;\n\t\t--wx-input-icon-color: var(--wx-icon-color);\n\t\t--wx-input-icon-size: var(--wx-icon-size);\n\t\t/* end input */\n\n\t\t/* multi combo */\n\t\t--wx-multicombo-tag-gap: 3px;\n\t\t--wx-multicombo-tag-border: none;\n\t\t--wx-multicombo-tag-border-radius: var(--wx-input-border-radius);\n\t\t--wx-multicombo-tag-pading: 2px 8px;\n\t\t--wx-multicombo-tag-background: var(--wx-background-alt);\n\t\t/* end multi combo */\n\n\t\t/* checkbox and radio */\n\t\t--wx-checkbox-height: var(--wx-line-height);\n\t\t--wx-checkbox-size: var(--wx-checkbox-height);\n\t\t--wx-checkbox-border-width: 2px;\n\t\t--wx-checkbox-border-color: var(--wx-color-font-alt);\n\t\t--wx-checkbox-border-color-disabled: var(--wx-color-disabled);\n\t\t--wx-checkbox-border-radius: var(--wx-input-border-radius);\n\t\t--wx-checkbox-font-family: var(--wx-font-family);\n\t\t--wx-checkbox-font-size: var(--wx-font-size);\n\t\t--wx-checkbox-line-height: var(--wx-line-height);\n\t\t--wx-checkbox-font-weight: var(--wx-font-weight);\n\t\t--wx-checkbox-font-color: var(--wx-color-font);\n\t\t/* end checkbox and radio */\n\n\t\t/* label */\n\t\t--wx-label-width: 100px;\n\t\t--wx-label-margin: 0 0 4px;\n\t\t--wx-label-padding: 0;\n\t\t--wx-label-font-family: var(--wx-font-family);\n\t\t--wx-label-font-size: var(--wx-font-size);\n\t\t--wx-label-line-height: var(--wx-line-height);\n\t\t--wx-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-label-font-color: var(--wx-color-font);\n\t\t/* end label */\n\n\t\t/* button */\n\t\t--wx-button-font-family: var(--wx-font-family);\n\t\t--wx-button-font-size: var(--wx-font-size-md);\n\t\t--wx-button-line-height: var(--wx-line-height);\n\t\t--wx-button-font-weight: var(--wx-font-weight-md);\n\t\t--wx-button-text-transform: none;\n\t\t--wx-button-font-color: var(--wx-color-font);\n\t\t--wx-button-danger-font-color: #fff;\n\t\t--wx-button-background: var(--wx-background-alt);\n\t\t--wx-button-border: 1px solid transparent;\n\t\t--wx-button-border-radius: var(--wx-border-radius);\n\t\t--wx-button-height: 32px;\n\t\t--wx-button-padding: 5px 16px;\n\t\t--wx-button-icon-indent: 5px;\n\t\t--wx-button-icon-size: 20px;\n\n\t\t--wx-button-pressed: #d7dde3;\n\t\t--wx-button-danger-pressed: #cb4e46;\n\t\t--wx-button-primary-pressed: #098cdc;\n\n\t\t--wx-button-box-shadow: -2px -2px 4px 0px rgba(255, 255, 255, 0.56) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.12) inset;\n\t\t--wx-button-primary-box-shadow: -2px -2px 4px 0px rgba(\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t0.26\n\t\t\t\t) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.16) inset;\n\t\t/* end button */\n\n\t\t/* segmented */\n\t\t--wx-segmented-background: var(--wx-background-alt);\n\t\t--wx-segmented-background-hover: var(--wx-background-hover);\n\t\t--wx-segmented-border: none;\n\t\t--wx-segmented-border-radius: 6px;\n\t\t--wx-segmented-padding: 0px;\n\t\t/* end segmented */\n\n\t\t/* tabs */\n\t\t--wx-tabs-background: var(--wx-background);\n\t\t--wx-tabs-background-hover: transparent;\n\t\t--wx-tabs-hover-border: #9fa1ae;\n\t\t--wx-tabs-border-width: 1px;\n\t\t--wx-tabs-border-radius: var(--wx-border-radius);\n\t\t--wx-tabs-divider-width: 1px;\n\t\t--wx-tabs-divider-height: 60%;\n\t\t--wx-tabs-divider-color: transparent;\n\t\t--wx-tabs-cell-min-width: 100px;\n\t\t--wx-tabs-active-background: transparent;\n\t\t--wx-tabs-active-color: var(--wx-color-primary);\n\t\t--wx-tabs-active-border: var(--wx-tabs-active-color);\n\t\t/* end tabs */\n\n\t\t/* slider */\n\t\t--wx-slider-height: 14px;\n\t\t--wx-slider-primary: var(--wx-color-primary);\n\t\t--wx-slider-background: var(--wx-background-alt);\n\t\t--wx-slider-track-height: 4px;\n\t\t--wx-slider-track-border-radius: 2px;\n\t\t--wx-slider-thumb-size: var(--wx-slider-height);\n\t\t--wx-slider-thumb-border: none;\n\t\t--wx-slider-thumb-border-disabled: none;\n\t\t--wx-slider-thumb-shadow: var(--wx-box-shadow-strong);\n\t\t--wx-slider-label-margin: 0 0 5px;\n\t\t--wx-slider-label-font-family: var(--wx-font-family);\n\t\t--wx-slider-label-font-size: var(--wx-font-size);\n\t\t--wx-slider-label-line-height: var(--wx-line-height);\n\t\t--wx-slider-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-slider-label-font-color: var(--wx-color-font);\n\t\t/* end slider */\n\n\t\t/* switch */\n\t\t--wx-switch-primary: var(--wx-color-primary);\n\t\t--wx-switch-background: #9fa1ae;\n\t\t--wx-switch-width: 48px;\n\t\t--wx-switch-height: 24px;\n\t\t--wx-switch-border-width: 0px;\n\t\t--wx-switch-border-color: transparent;\n\t\t--wx-switch-border-color-disabled: transparent;\n\t\t--wx-switch-thumb-offset: 1px;\n\t\t--wx-switch-thumb-border: none;\n\t\t--wx-switch-thumb-border-disabled: 1px solid #c0c3ce;\n\t\t--wx-switch-thumb-background: var(--wx-background);\n\t\t--wx-switch-thumb-background-disabled: var(--wx-color-disabled);\n\t\t--wx-switch-thumb-shadow: none;\n\t\t/* end switch */\n\n\t\t/* popup and dropdown */\n\t\t--wx-popup-z-index: 100;\n\t\t--wx-popup-background: var(--wx-background);\n\t\t--wx-popup-shadow: var(--wx-shadow-light);\n\t\t--wx-popup-border: 1px solid transparent;\n\t\t--wx-popup-border-radius: var(--wx-border-radius);\n\t\t/* end popup and dropdown */\n\n\t\t/* modal */\n\t\t--wx-modal-z-index: 1000;\n\t\t--wx-modal-background: var(--wx-background);\n\t\t--wx-modal-shadow: var(--wx-shadow-medium);\n\t\t--wx-modal-border: none;\n\t\t--wx-modal-border-radius: var(--wx-border-radius);\n\t\t--wx-modal-width: 280px;\n\t\t--wx-modal-padding: 16px 20px;\n\t\t--wx-modal-gutter: 14px;\n\t\t--wx-modal-backdrop: rgba(108, 114, 131, 0.2);\n\t\t--wx-modal-header-font-family: var(--wx-font-family);\n\t\t--wx-modal-header-font-size: var(--wx-font-size-hd);\n\t\t--wx-modal-header-line-height: var(--wx-line-height-hd);\n\t\t--wx-modal-header-font-weight: var(--wx-font-weight-b);\n\t\t--wx-modal-header-font-color: #000;\n\t\t/* end modal */\n\n\t\t/* notice */\n\t\t--wx-notice-z-index: 1010;\n\t\t--wx-notice-background: var(--wx-background);\n\t\t--wx-notice-shadow: var(--wx-shadow-medium);\n\t\t--wx-notice-border: none;\n\t\t--wx-notice-border-radius: 0 var(--wx-border-radius)\n\t\t\tvar(--wx-border-radius) 0;\n\t\t--wx-notice-margin: 6px 12px;\n\t\t--wx-notice-font-family: var(--wx-font-family);\n\t\t--wx-notice-font-size: var(--wx-font-size);\n\t\t--wx-notice-line-height: var(--wx-line-height);\n\t\t--wx-notice-font-weight: var(--wx-font-weight);\n\t\t--wx-notice-font-color: var(--wx-color-font);\n\t\t--wx-notice-padding: 14px;\n\t\t--wx-notice-width: 240px;\n\t\t--wx-notice-icon-size: var(--wx-icon-size);\n\t\t--wx-notice-icon-color: var(--wx-icon-color);\n\t\t--wx-notice-type-border-width: 4px;\n\t\t--wx-notice-type-border-color: var(--wx-icon-color);\n\t\t--wx-notice-type-font-color: var(--wx-color-font);\n\t\t--wx-notice-type-icon-color: var(--wx-icon-color);\n\t\t--wx-notice-type-background-opacity: 0;\n\t\t--wx-notice-type-close-hover-opacity: 1;\n\t\t/* end notice */\n\n\t\t/* calendar */\n\t\t--wx-calendar-padding: 16px;\n\t\t--wx-calendar-cell-size: 32px;\n\t\t--wx-calendar-gap: 4px;\n\t\t--wx-calendar-line-gap: 4px;\n\t\t--wx-calendar-border-radius: var(--wx-border-radius);\n\t\t--wx-calendar-font-family: var(--wx-font-family);\n\t\t--wx-calendar-font-size: var(--wx-font-size);\n\t\t--wx-calendar-line-height: var(--wx-line-height);\n\t\t--wx-calendar-font-weight: var(--wx-font-weight);\n\t\t--wx-calendar-font-color: var(--wx-color-font);\n\t\t--wx-calendar-icon-color: var(--wx-icon-color);\n\t\t--wx-calendar-icon-size: var(--wx-icon-size);\n\t\t--wx-calendar-header-font-size: var(--wx-font-size);\n\t\t--wx-calendar-header-line-height: var(--wx-line-height);\n\t\t--wx-calendar-header-font-weight: var(--wx-font-weight-md);\n\t\t--wx-calendar-controls-font-family: var(--wx-button-font-family);\n\t\t--wx-calendar-controls-font-size: var(--wx-font-size);\n\t\t--wx-calendar-controls-line-height: var(--wx-line-height);\n\t\t--wx-calendar-controls-font-weight: var(--wx-font-weight);\n\t\t--wx-calendar-controls-font-color: var(--wx-color-font);\n\t\t/* end calendar */\n\t}\n\n\t:global(.wx-willow-theme) {\n\t\tfont-family: var(--wx-font-family);\n\t\tfont-size: var(--wx-font-size);\n\t\tline-height: var(--wx-line-height);\n\t\tfont-weight: var(--wx-font-weight);\n\t\tfont-style: normal;\n\t\tletter-spacing: normal;\n\t\ttext-align: left;\n\t\tcolor: var(--wx-color-font);\n\t\tbackground: var(--wx-background);\n\t}\n\t:global(\n\t\t\t.wx-willow-theme *,\n\t\t\t.wx-willow-theme *:before,\n\t\t\t.wx-willow-theme *:after\n\t\t) {\n\t\tbox-sizing: border-box;\n\t}\n</style>\n", "<script>\n\timport { setContext } from \"svelte\";\n\timport FontOpenSans from \"./FontOpenSans.svelte\";\n\n\tlet { fonts = true, children } = $props();\n\tsetContext(\"wx-theme\", \"willow-dark\");\n</script>\n\n{#if children}\n\t<div class=\"wx-willow-dark-theme\" style=\"height:100%\">\n\t\t{@render children()}\n\t</div>\n{/if}\n\n<svelte:head>\n\t{#if fonts}\n\t\t<link rel=\"preconnect\" href=\"https://cdn.svar.dev\" crossorigin />\n\t\t<FontOpenSans />\n\t\t<link\n\t\t\trel=\"stylesheet\"\n\t\t\thref=\"https://cdn.svar.dev/fonts/wxi/wx-icons.css\"\n\t\t/>\n\t{/if}\n</svelte:head>\n\n<style>\n\t:global(.wx-willow-dark-theme) {\n\t\t/* base colors */\n\t\t--wx-color-primary: #7a67eb;\n\t\t--wx-color-primary-selected: rgba(122, 103, 235, 0.3);\n\t\t--wx-color-primary-font: #fff;\n\t\t--wx-color-secondary: transparent;\n\t\t--wx-color-secondary-hover: rgba(122, 103, 235, 0.12);\n\t\t--wx-color-secondary-font: var(--wx-color-primary);\n\t\t--wx-color-secondary-font-hover: var(--wx-color-primary);\n\t\t--wx-color-secondary-border: var(--wx-color-primary);\n\t\t--wx-color-secondary-border-disabled: #9fa1ae;\n\n\t\t--wx-color-success: #77d257;\n\t\t--wx-color-warning: #fcba2e;\n\t\t--wx-color-info: var(--wx-color-primary);\n\t\t--wx-color-danger: #fe6158;\n\t\t--wx-color-disabled: #384047;\n\t\t--wx-color-disabled-alt: #44474a;\n\n\t\t--wx-color-font: rgba(255, 255, 255, 0.9);\n\t\t--wx-color-font-alt: #9fa1ae;\n\t\t--wx-color-font-disabled: #9fa1ae;\n\t\t--wx-color-link: var(--wx-color-primary);\n\n\t\t--wx-background: #2a2b2d;\n\t\t--wx-background-alt: #384047;\n\t\t--wx-background-hover: #20262b;\n\t\t/* end base colors */\n\n\t\t/* font */\n\t\t--wx-font-family: \"Open Sans\", Arial, Helvetica, sans-serif;\n\t\t--wx-font-size: 14px;\n\t\t--wx-line-height: 20px;\n\t\t--wx-font-size-md: 14px;\n\t\t--wx-line-height-md: 24px;\n\t\t--wx-font-size-hd: 16px;\n\t\t--wx-line-height-hd: 30px;\n\t\t--wx-font-size-sm: 12px;\n\t\t--wx-line-height-sm: 16px;\n\t\t--wx-font-weight: 400;\n\t\t--wx-font-weight-md: 600;\n\t\t--wx-font-weight-b: 700;\n\t\t/* end font */\n\n\t\t/* icons */\n\t\t--wx-icon-color: #c0c3ce;\n\t\t--wx-icon-size: var(--wx-line-height);\n\t\t--wx-icon-border-radius: 2px;\n\t\t/* end icons */\n\n\t\t/* other */\n\t\t--wx-border: 1px solid #384047;\n\t\t--wx-border-radius: 3px;\n\t\t--wx-radius-major: 6px;\n\n\t\t--wx-border-light: 1px solid #384047;\n\t\t--wx-border-medium: 1px solid #384047;\n\n\t\t--wx-shadow-light: 0px 4px 20px 0px rgba(44, 47, 60, 0.12);\n\t\t--wx-shadow-medium: none;\n\t\t--wx-box-shadow: 0px 4px 48px rgba(44, 47, 60, 0.18);\n\t\t--wx-box-shadow-strong: 0px 4px 48px rgba(44, 47, 60, 0.18),\n\t\t\t0px 4px 8px rgba(14, 14, 15, 0.3);\n\n\t\t--wx-padding: 8px;\n\t\t/* end other */\n\n\t\t/* field */\n\t\t--wx-field-gutter: 16px;\n\t\t--wx-field-width: 400px;\n\t\t/* end field */\n\n\t\t/* input */\n\t\t--wx-input-font-family: var(--wx-font-family);\n\t\t--wx-input-font-size: var(--wx-font-size);\n\t\t--wx-input-line-height: var(--wx-line-height);\n\t\t--wx-input-font-weight: var(--wx-font-weight);\n\t\t--wx-input-text-align: left;\n\t\t--wx-input-font-color: var(--wx-color-font);\n\t\t--wx-input-background: var(--wx-background);\n\t\t--wx-input-background-disabled: var(--wx-color-disabled);\n\t\t--wx-input-placeholder-color: var(--wx-color-font-alt);\n\t\t--wx-input-border: var(--wx-border);\n\t\t--wx-input-border-focus: 1px solid var(--wx-color-primary);\n\t\t--wx-input-border-disabled: var(--wx-border);\n\t\t--wx-input-border-radius: 3px;\n\t\t--wx-input-height: 32px;\n\t\t--wx-input-width: 100%;\n\t\t--wx-input-padding: 5px 8px;\n\t\t--wx-input-icon-indent: 6px;\n\t\t--wx-input-icon-color: var(--wx-icon-color);\n\t\t--wx-input-icon-size: var(--wx-icon-size);\n\t\t/* end input */\n\n\t\t/* multi combo */\n\t\t--wx-multicombo-tag-gap: 3px;\n\t\t--wx-multicombo-tag-border: none;\n\t\t--wx-multicombo-tag-border-radius: var(--wx-input-border-radius);\n\t\t--wx-multicombo-tag-pading: 2px 8px;\n\t\t--wx-multicombo-tag-background: var(--wx-background-alt);\n\t\t/* end multi combo */\n\n\t\t/* checkbox and radio */\n\t\t--wx-checkbox-height: var(--wx-line-height);\n\t\t--wx-checkbox-size: var(--wx-checkbox-height);\n\t\t--wx-checkbox-border-width: 2px;\n\t\t--wx-checkbox-border-color: var(--wx-color-font-alt);\n\t\t--wx-checkbox-border-color-disabled: var(--wx-color-disabled);\n\t\t--wx-checkbox-border-radius: var(--wx-input-border-radius);\n\t\t--wx-checkbox-font-family: var(--wx-font-family);\n\t\t--wx-checkbox-font-size: var(--wx-font-size);\n\t\t--wx-checkbox-line-height: var(--wx-line-height);\n\t\t--wx-checkbox-font-weight: var(--wx-font-weight);\n\t\t--wx-checkbox-font-color: var(--wx-color-font);\n\t\t/* end checkbox and radio */\n\n\t\t/* label */\n\t\t--wx-label-width: 100px;\n\t\t--wx-label-margin: 0 0 4px;\n\t\t--wx-label-padding: 0;\n\t\t--wx-label-font-family: var(--wx-font-family);\n\t\t--wx-label-font-size: var(--wx-font-size);\n\t\t--wx-label-line-height: var(--wx-line-height);\n\t\t--wx-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-label-font-color: var(--wx-color-font);\n\t\t/* end label */\n\n\t\t/* button */\n\t\t--wx-button-font-family: var(--wx-font-family);\n\t\t--wx-button-font-size: var(--wx-font-size-md);\n\t\t--wx-button-line-height: var(--wx-line-height);\n\t\t--wx-button-font-weight: var(--wx-font-weight-md);\n\t\t--wx-button-text-transform: none;\n\t\t--wx-button-background: var(--wx-background-alt);\n\t\t--wx-button-font-color: var(--wx-color-font);\n\t\t--wx-button-danger-font-color: #fff;\n\t\t--wx-button-border: 1px solid transparent;\n\t\t--wx-button-border-radius: var(--wx-border-radius);\n\t\t--wx-button-height: 32px;\n\t\t--wx-button-padding: 5px 16px;\n\t\t--wx-button-icon-indent: 5px;\n\t\t--wx-button-icon-size: 20px;\n\n\t\t--wx-button-pressed: #353d44;\n\t\t--wx-button-danger-pressed: #cb4e46;\n\t\t--wx-button-primary-pressed: #5643c7;\n\t\t--wx-button-box-shadow: -2px -2px 4px 0px rgba(255, 255, 255, 0.06) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.16) inset;\n\t\t--wx-button-primary-box-shadow: -2px -2px 4px 0px rgba(\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t0.12\n\t\t\t\t) inset,\n\t\t\t2px 2px 3px 1px rgba(0, 0, 0, 0.2) inset;\n\t\t/* end button */\n\n\t\t/* segmented */\n\t\t--wx-segmented-background: var(--wx-background-alt);\n\t\t--wx-segmented-background-hover: var(--wx-background-hover);\n\t\t--wx-segmented-border: none;\n\t\t--wx-segmented-border-radius: 6px;\n\t\t--wx-segmented-padding: 0px;\n\t\t/* end segmented */\n\n\t\t/* tabs */\n\t\t--wx-tabs-background: var(--wx-background);\n\t\t--wx-tabs-background-hover: transparent;\n\t\t--wx-tabs-hover-border: #9fa1ae;\n\t\t--wx-tabs-border-width: 1px;\n\t\t--wx-tabs-border-radius: var(--wx-border-radius);\n\t\t--wx-tabs-divider-width: 1px;\n\t\t--wx-tabs-divider-height: 60%;\n\t\t--wx-tabs-divider-color: transparent;\n\t\t--wx-tabs-cell-min-width: 100px;\n\t\t--wx-tabs-active-background: transparent;\n\t\t--wx-tabs-active-color: var(--wx-color-primary);\n\t\t--wx-tabs-active-border: var(--wx-tabs-active-color);\n\t\t/* end tabs */\n\n\t\t/* slider */\n\t\t--wx-slider-height: 14px;\n\t\t--wx-slider-primary: var(--wx-color-primary);\n\t\t--wx-slider-background: var(--wx-background-alt);\n\t\t--wx-slider-track-height: 4px;\n\t\t--wx-slider-track-border-radius: 2px;\n\t\t--wx-slider-thumb-size: var(--wx-slider-height);\n\t\t--wx-slider-thumb-border: none;\n\t\t--wx-slider-thumb-border-disabled: 1px solid var(--wx-color-disabled);\n\t\t--wx-slider-thumb-shadow: none;\n\t\t--wx-slider-label-margin: 0 0 5px;\n\t\t--wx-slider-label-font-family: var(--wx-font-family);\n\t\t--wx-slider-label-font-size: var(--wx-font-size);\n\t\t--wx-slider-label-line-height: var(--wx-line-height);\n\t\t--wx-slider-label-font-weight: var(--wx-font-weight-md);\n\t\t--wx-slider-label-font-color: var(--wx-color-font);\n\t\t/* end slider */\n\n\t\t/* switch */\n\t\t--wx-switch-primary: var(--wx-color-primary);\n\t\t--wx-switch-background: #384047;\n\t\t--wx-switch-width: 48px;\n\t\t--wx-switch-height: 24px;\n\t\t--wx-switch-border-width: 0px;\n\t\t--wx-switch-border-color: transparent;\n\t\t--wx-switch-border-color-disabled: transparent;\n\t\t--wx-switch-thumb-offset: 1px;\n\t\t--wx-switch-thumb-border: none;\n\t\t--wx-switch-thumb-border-disabled: 1px solid rgba(255, 255, 255, 0.7);\n\t\t--wx-switch-thumb-background: rgba(255, 255, 255, 0.9);\n\t\t--wx-switch-thumb-background-disabled: var(--wx-color-disabled);\n\t\t--wx-switch-thumb-shadow: none;\n\t\t/* end switch */\n\n\t\t/* popup and dropdown */\n\t\t--wx-popup-z-index: 100;\n\t\t--wx-popup-background: var(--wx-background);\n\t\t--wx-popup-shadow: var(--wx-shadow-light);\n\t\t--wx-popup-border: 1px solid rgba(255, 255, 255, 0.26);\n\t\t--wx-popup-border-radius: var(--wx-border-radius);\n\t\t/* end popup and dropdown */\n\n\t\t/* modal */\n\t\t--wx-modal-z-index: 1000;\n\t\t--wx-modal-background: var(--wx-background);\n\t\t--wx-modal-shadow: var(--wx-shadow-medium);\n\t\t--wx-modal-border: 1px solid #ffffff42;\n\t\t--wx-modal-border-radius: var(--wx-border-radius);\n\t\t--wx-modal-width: 280px;\n\t\t--wx-modal-padding: 16px 20px;\n\t\t--wx-modal-gutter: 14px;\n\t\t--wx-modal-backdrop: rgba(108, 114, 131, 0.2);\n\t\t--wx-modal-header-font-family: var(--wx-font-family);\n\t\t--wx-modal-header-font-size: var(--wx-font-size-hd);\n\t\t--wx-modal-header-line-height: var(--wx-line-height-hd);\n\t\t--wx-modal-header-font-weight: var(--wx-font-weight-b);\n\t\t--wx-modal-header-font-color: #fff;\n\t\t/* end modal */\n\n\t\t/* notice */\n\t\t--wx-notice-z-index: 1010;\n\t\t--wx-notice-background: var(--wx-background-alt);\n\t\t--wx-notice-shadow: var(--wx-shadow-medium);\n\t\t--wx-notice-border: none;\n\t\t--wx-notice-border-radius: 0 var(--wx-border-radius)\n\t\t\tvar(--wx-border-radius) 0;\n\t\t--wx-notice-margin: 6px 12px;\n\t\t--wx-notice-font-family: var(--wx-font-family);\n\t\t--wx-notice-font-size: var(--wx-font-size);\n\t\t--wx-notice-line-height: var(--wx-line-height);\n\t\t--wx-notice-font-weight: var(--wx-font-weight);\n\t\t--wx-notice-font-color: var(--wx-color-font);\n\t\t--wx-notice-padding: 14px;\n\t\t--wx-notice-width: 240px;\n\t\t--wx-notice-icon-size: var(--wx-icon-size);\n\t\t--wx-notice-icon-color: var(--wx-icon-color);\n\t\t--wx-notice-type-border-width: 4px;\n\t\t--wx-notice-type-border-color: var(--wx-icon-color);\n\t\t--wx-notice-type-font-color: var(--wx-color-font);\n\t\t--wx-notice-type-icon-color: #9fa1ae;\n\t\t--wx-notice-type-background-opacity: 0;\n\t\t--wx-notice-type-close-hover-opacity: 1;\n\t\t/* end notice */\n\n\t\t/* calendar */\n\t\t--wx-calendar-padding: 16px;\n\t\t--wx-calendar-cell-size: 32px;\n\t\t--wx-calendar-gap: 4px;\n\t\t--wx-calendar-line-gap: 4px;\n\t\t--wx-calendar-border-radius: var(--wx-border-radius);\n\t\t--wx-calendar-font-family: var(--wx-font-family);\n\t\t--wx-calendar-font-size: var(--wx-font-size);\n\t\t--wx-calendar-line-height: var(--wx-line-height);\n\t\t--wx-calendar-font-weight: var(--wx-font-weight);\n\t\t--wx-calendar-font-color: var(--wx-color-font);\n\t\t--wx-calendar-icon-color: var(--wx-icon-color);\n\t\t--wx-calendar-icon-size: var(--wx-icon-size);\n\t\t--wx-calendar-header-font-size: var(--wx-font-size);\n\t\t--wx-calendar-header-line-height: var(--wx-line-height);\n\t\t--wx-calendar-header-font-weight: var(--wx-font-weight-md);\n\t\t--wx-calendar-controls-font-family: var(--wx-button-font-family);\n\t\t--wx-calendar-controls-font-size: var(--wx-font-size);\n\t\t--wx-calendar-controls-line-height: var(--wx-line-height);\n\t\t--wx-calendar-controls-font-weight: var(--wx-font-weight);\n\t\t--wx-calendar-controls-font-color: var(--wx-color-font);\n\t\t/* end calendar */\n\t}\n\n\t:global(.wx-willow-dark-theme) {\n\t\tfont-family: var(--wx-font-family);\n\t\tfont-size: var(--wx-font-size);\n\t\tline-height: var(--wx-line-height);\n\t\tfont-weight: var(--wx-font-weight);\n\t\tfont-style: normal;\n\t\tletter-spacing: normal;\n\t\ttext-align: left;\n\t\tcolor: var(--wx-color-font);\n\t\tbackground: var(--wx-background);\n\t}\n\t:global(\n\t\t\t.wx-willow-dark-theme *,\n\t\t\t.wx-willow-dark-theme *:before,\n\t\t\t.wx-willow-dark-theme *:after\n\t\t) {\n\t\tbox-sizing: border-box;\n\t}\n</style>\n", "let iid = new Date().valueOf();\nexport const uid = ():number => iid++;\n\nexport function tempID(): string {\n\treturn \"temp://\" + iid++;\n}\n\nexport function isTempID(v: string | number): boolean {\n\treturn (\n\t\ttypeof v === \"string\" && v.length === 20 && parseInt(v.substr(7)) > 1e12\n\t);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isSameObject(left: any, right: any): boolean {\n\tif (Object.keys(left).length !== Object.keys(right).length) return false;\n\t\n\tfor (const key in right) {\n\t\tconst v = left[key];\n\t\tconst nv = right[key];\n\n\t\tif (!isSame(v, nv)) return false;\n\t}\n\treturn true;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function isSame(v: any, nv: any): boolean {\n\tconst primitiveValue =\n\t\ttypeof v === \"number\" ||\n\t\ttypeof v === \"string\" ||\n\t\ttypeof v === \"boolean\" ||\n\t\tv === null;\n\tif (primitiveValue) return v === nv;\n\n\t// different types of data\n\tif (typeof v !== typeof nv) return false;\n\t// data vs null\n\tif ((v === null || nv === null) && v !== nv) return false;\n\t// dates\n\tif (v instanceof Date && nv instanceof Date && v.getTime() !== nv.getTime())\n\t\treturn false;\n\t// arrays and objects\n\tif (typeof v === \"object\") {\n\t\tif (Array.isArray(v) && Array.isArray(nv)) {\n\t\t\tif (v.length !== nv.length) return false;\n\t\t\tfor (let i = v.length - 1; i >= 0; i--) {\n\t\t\t\tif (!isSame(v[i], nv[i])) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn isSameObject(v, nv);\n\t\t}\n\t}\n\n\treturn v === nv;\n}\n\nexport function deepCopy<T>(obj: T): T {\n\tif (typeof obj !== \"object\") return obj;\n\tif (obj === null) return obj;\n\tif (obj instanceof Date) return new Date(obj) as T;\n\tif (obj instanceof Array) return obj.map(deepCopy) as T;\n\n\tconst out: T = {} as T;\n\tfor (const key in obj) {\n\t\tout[key] = deepCopy(obj[key]);\n\t}\n\treturn out;\n}\n", "import { uid } from \"./helpers\";\nimport type { IHasID, TID } from \"./types\";\n\nexport default class _DataArray<T extends IHasID> {\n\tprivate _pool: Map<TID, T>;\n\tprivate _data: T[];\n\tconstructor(raw: T[]) {\n\t\tthis._data = raw;\n\t\tthis._pool = new Map();\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tthis._pool.set(obj.id, obj);\n\t\t}\n\t}\n\tadd(raw: T):void {\n\t\traw = { id: uid(), ...raw };\n\t\tthis._data.push(raw);\n\t\tthis._pool.set(raw.id, raw);\n\t}\n\tupdate(id: TID, raw: T):void {\n\t\tconst index = this._data.findIndex(link => link.id == id);\n\t\tconst old = this._data[index];\n\t\tconst updated = { ...old, ...raw };\n\t\tthis._data[index] = updated;\n\t\tthis._pool.set(updated.id, updated);\n\t}\n\tremove(id: TID):void {\n\t\tthis._data = this._data.filter(a => a.id != id);\n\t\tthis._pool.delete(id);\n\t}\n\tfilter(cb: (value: T) => boolean): void {\n\t\tthis._data = this._data.filter(x => {\n\t\t\tconst check = cb(x);\n\t\t\tif (!check) this._pool.delete(x.id);\n\t\t\treturn check;\n\t\t});\n\t}\n\tbyId(id: TID): T {\n\t\treturn this._pool.get(id);\n\t}\n\tmap<D>(cb: (value: T, index: number, array: T[]) => D): D[] {\n\t\treturn this._data.map(cb);\n\t}\n\tforEach(cb: (value: T, index: number, array: T[]) => void): void {\n\t\tthis._data.forEach(cb);\n\t}\n}\n", "import type { IHasIDAndParent, TID } from \"./types\";\n\nexport default class DataTree<T extends IHasIDAndParent> {\n\tpublic _pool: Map<TID, T>;\n\n\tconstructor(raw?: T[]) {\n\t\tconst top: IHasIDAndParent = {\n\t\t\tid: 0,\n\t\t\t$level: 0,\n\t\t\tdata: [],\n\t\t\tparent: null,\n\t\t};\n\t\tconst items: Map<TID, T> = new Map();\n\t\titems.set(0, top as T);\n\t\tthis._pool = items;\n\n\t\tif (raw && raw.length) this.parse(raw, 0);\n\t}\n\tparse(raw: T[], parent: TID): void {\n\t\tconst items = this._pool;\n\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tobj.parent = obj.parent || parent;\n\t\t\tobj.data = null;\n\t\t\titems.set(obj.id, obj);\n\t\t}\n\n\t\tfor (let i = 0; i < raw.length; i++) {\n\t\t\tconst obj = raw[i];\n\t\t\tconst temp = items.get(obj.parent);\n\t\t\tif (temp) {\n\t\t\t\tif (!temp.data) temp.data = [];\n\t\t\t\t// we are not recreating the array, as setLevel will do it anyway\n\t\t\t\ttemp.data.push(obj);\n\t\t\t}\n\t\t}\n\n\t\tconst top = items.get(parent);\n\t\tthis.setLevel(top, top.$level + 1, false);\n\t}\n\tadd(raw: T, index: number): void {\n\t\tconst parent = this._pool.get(raw.parent || 0);\n\t\traw.$level = parent.$level + 1;\n\t\tthis._pool.set(raw.id, raw);\n\n\t\tif (parent.data) {\n\t\t\tif (index === -1) parent.data = [...parent.data, raw];\n\t\t\telse insertElement(parent, index, raw);\n\t\t} else parent.data = [raw];\n\t}\n\taddAfter(raw: T, after: TID): void {\n\t\tif (!after) {\n\t\t\treturn this.add(raw, -1);\n\t\t}\n\n\t\tconst node = this.byId(after);\n\t\tconst parent = this.byId(node.parent);\n\t\tconst index = indexById(parent, node.id) + 1;\n\n\t\traw.parent = parent.id;\n\t\traw.$level = parent.$level + 1;\n\t\tthis.add(raw, index);\n\t}\n\tremove(id: TID): void {\n\t\tconst obj = this._pool.get(id);\n\t\tthis._remove(obj);\n\t\tconst parent = this._pool.get(obj.parent);\n\t\tparent.data = parent.data.filter(a => a.id != id);\n\t\tthis._clearBranch(parent);\n\t}\n\t_remove(obj: T): void {\n\t\tif (obj.data) {\n\t\t\tobj.data.forEach(i => this._remove(i as T));\n\t\t}\n\t\tthis._pool.delete(obj.id);\n\t}\n\tupdate<Data>(id: TID, values: Data): void {\n\t\tlet obj = this._pool.get(id);\n\t\tconst branch = this._pool.get(obj.parent);\n\t\tconst index = indexById(branch, obj.id);\n\n\t\tobj = { ...obj, ...values };\n\n\t\tif (branch && index >= 0) {\n\t\t\tbranch.data[index] = obj;\n\t\t\tbranch.data = [...branch.data];\n\t\t}\n\t\tthis._pool.set(obj.id, obj);\n\t}\n\tmove(id: TID, mode: string, target: TID): void {\n\t\tconst now = this._pool.get(id);\n\t\tconst dropChild = mode === \"child\";\n\t\tconst tobj = this._pool.get(target);\n\t\tconst tLevel = tobj.$level + (dropChild ? 1 : 0);\n\t\tif (!now || !tobj) return;\n\n\t\tconst parent = this._pool.get(now.parent);\n\t\tconst newParent = dropChild ? tobj : this._pool.get(tobj.parent);\n\t\tif (!newParent.data) newParent.data = [];\n\n\t\tconst index = indexById(parent, now.id);\n\t\tdeleteElement(parent, index);\n\t\tconst newIndex = dropChild\n\t\t\t? newParent.data.length\n\t\t\t: indexById(newParent, tobj.id) + (mode === \"after\" ? 1 : 0);\n\t\tinsertElement(newParent, newIndex, now);\n\n\t\tif (parent.id === newParent.id && index === newIndex) return null;\n\n\t\tnow.parent = newParent.id;\n\n\t\tif (now.$level !== tLevel) {\n\t\t\tnow.$level = tLevel;\n\t\t\tthis.setLevel(now, tLevel + 1, true);\n\t\t}\n\n\t\tthis.update(now.id, now);\n\t\tthis._clearBranch(parent);\n\t}\n\n\tprivate _clearBranch(obj: T): void {\n\t\tif (obj.data && !obj.data.length) {\n\t\t\tif (obj.open) delete obj.open;\n\t\t\tthis.update(obj.id, { data: null });\n\t\t}\n\t}\n\n\ttoArray(): T[] {\n\t\tconst out: T[] = [];\n\t\tconst kids = this._pool.get(0).data;\n\t\tif (kids) toArray(kids, out);\n\t\treturn out;\n\t}\n\tbyId(id: TID): T {\n\t\treturn this._pool.get(id);\n\t}\n\n\tgetBranch(id: TID): T[] {\n\t\treturn this._pool.get(id).data as T[];\n\t}\n\n\tforEach(cb: (value: T) => void): void {\n\t\tthis._pool.forEach((value, key) => {\n\t\t\tif (key !== 0) cb(value);\n\t\t});\n\t}\n\n\teachChild(cb: (value: T, index: number) => void, parent: TID): void {\n\t\tconst p = this.byId(parent);\n\t\tif (!p || !p.data) return;\n\t\tp.data.forEach((child, index) => {\n\t\t\tcb(this.byId(child.id), index);\n\t\t\tthis.eachChild(cb, child.id);\n\t\t});\n\t}\n\n\tsetLevel(root: IHasIDAndParent, level: number, copy: boolean): void {\n\t\tif (!root.data) return;\n\n\t\troot.data = root.data.map(child => {\n\t\t\tif (copy) {\n\t\t\t\tchild = { ...child };\n\t\t\t\tthis._pool.set(child.id, child as T);\n\t\t\t}\n\t\t\tchild.$level = level;\n\t\t\tif (child.data) this.setLevel(child, level + 1, copy);\n\t\t\treturn child;\n\t\t});\n\t}\n}\n\nfunction toArray<T extends IHasIDAndParent>(line: T[], out: T[]): void {\n\tline.forEach(a => {\n\t\tout.push(a);\n\t\tif (a.open === true) {\n\t\t\ttoArray(a.data, out);\n\t\t}\n\t});\n}\n\nfunction deleteElement(obj: IHasIDAndParent, index: number) {\n\tconst newData = [...obj.data];\n\tnewData.splice(index, 1);\n\tobj.data = newData;\n}\n\nfunction insertElement(\n\tobj: IHasIDAndParent,\n\tindex: number,\n\titem: IHasIDAndParent\n) {\n\tconst newData = [...obj.data];\n\tnewData.splice(index, 0, item);\n\tobj.data = newData;\n}\n\nfunction indexById(parentNode: IHasIDAndParent, id: TID) {\n\treturn parentNode?.data.findIndex(\n\t\t(child: IHasIDAndParent) => child.id === id\n\t);\n}\n", "import type {\n\tDataHash,\n\tIPublicWritable,\n\tTAsyncSignals,\n\tTStateMode,\n\tTDataConfig,\n\tTWritableCreator,\n} from \"./types\";\n\n// export const STORE_SET_DEFAULT:TStateMode = 1;\nexport const STORE_SET_SILENT: TStateMode = 2;\n\ntype TState<Type> = {\n\t[Property in keyof Type]: IPublicWritable<Type[Property]>;\n};\n\ntype StoreConfig = {\n\twritable: TWritableCreator;\n\tasync: boolean;\n}\n\nexport default class Store<T extends DataHash> {\n\tprivate _state: TState<T>;\n\tprivate _values: T;\n\tprivate _writable: TWritableCreator;\n\tprivate _async: boolean;\n\n\tconstructor(config: StoreConfig) {\n\t\tif (config) {\n\t\t\tthis._writable = config.writable;\n\t\t\tthis._async = config.async;\n\t\t}\n\n\t\tthis._values = {} as T;\n\t\tthis._state = {} as TState<T>;\n\t}\n\tsetState(\n\t\tdata: Partial<T>,\n\t\tmode: TStateMode | TDataConfig = 0\n\t): TAsyncSignals {\n\t\tconst signals = {} as TAsyncSignals;\n\t\tthis._wrapProperties(\n\t\t\tdata,\n\t\t\tthis._state,\n\t\t\tthis._values,\n\t\t\t\"\",\n\t\t\tsignals,\n\t\t\tmode as TStateMode\n\t\t);\n\t\treturn signals;\n\t}\n\tgetState(): T {\n\t\treturn this._values;\n\t}\n\tgetReactive(): TState<T> {\n\t\treturn this._state;\n\t}\n\tprivate _wrapProperties(\n\t\tdata: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tstate: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tvalues: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tparent: string,\n\t\tsignals: TAsyncSignals,\n\t\tmode: TStateMode\n\t) {\n\t\tfor (const key in data) {\n\t\t\tconst os = state[key];\n\t\t\tconst ov = values[key];\n\t\t\tconst nv = data[key];\n\n\t\t\tif (os) {\n\t\t\t\t// same value\n\t\t\t\tif (ov === nv && typeof nv !== \"object\") continue;\n\t\t\t\t// so maybe we have two dates\n\t\t\t\tif (nv instanceof Date) {\n\t\t\t\t\tif (ov instanceof Date && ov.getTime() === nv.getTime()) continue;\n\t\t\t\t} else {\n\t\t\t\t\t// we have two pointers to the same array of or same object\n\t\t\t\t\t// assume that they are different\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst fullKey = parent + (parent ? \".\" : \"\") + key;\n\n\t\t\tif (os) {\n\t\t\t\tif (os.__parse(nv, fullKey, signals, mode)) values[key] = nv;\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tif (mode & STORE_SET_SILENT) signals[fullKey] = os.__trigger;\n\t\t\t\telse os.__trigger();\n\t\t\t} else {\n\t\t\t\tif (nv && nv.__reactive) {\n\t\t\t\t\tstate[key] = this._wrapNested(nv, nv, fullKey, signals);\n\t\t\t\t} else {\n\t\t\t\t\tstate[key] = this._wrapWritable(nv);\n\t\t\t\t}\n\t\t\t\tvalues[key] = nv;\n\t\t\t}\n\t\t\tsignals[fullKey] = signals[fullKey] || null;\n\t\t}\n\t}\n\tprivate _wrapNested(\n\t\tdata: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tvalues: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\tfullKey: string,\n\t\tsignals: TAsyncSignals\n\t) {\n\t\tconst state = this._wrapWritable(data);\n\t\tthis._wrapProperties(data, state, values, fullKey, signals, 0);\n\n\t\tstate.__parse = (\n\t\t\tv: any, // eslint-disable-line @typescript-eslint/no-explicit-any\n\t\t\tfullKey: string,\n\t\t\tsignals: TAsyncSignals,\n\t\t\tmode: TStateMode\n\t\t) => {\n\t\t\tthis._wrapProperties(v, state, values, fullKey, signals, mode);\n\t\t\treturn false;\n\t\t};\n\t\treturn state;\n\t}\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tprivate _wrapWritable(val: any): IPublicWritable<any> {\n\t\tconst ss = [] as ((v: typeof val) => void)[];\n\n\t\tconst __triggerSync = function () {\n\t\t\tfor (let i = 0; i < ss.length; i++) {\n\t\t\t\tss[i](val);\n\t\t\t}\n\t\t};\n\t\tconst __trigger = () => {\n\t\t\tif (ss.length) {\n\t\t\t\tif (this._async) setTimeout(__triggerSync, 1);\n\t\t\t\telse __triggerSync();\n\t\t\t}\n\t\t};\n\t\tconst subscribe = (fn: (v: typeof val) => void) => {\n\t\t\tss.push(fn);\n\n\t\t\tif (this._async) setTimeout(fn, 1, val);\n\t\t\telse fn(val);\n\n\t\t\treturn () => {\n\t\t\t\tconst i = ss.indexOf(fn);\n\t\t\t\tif (i >= 0) ss.splice(i, 1);\n\t\t\t};\n\t\t};\n\t\tconst __parse = function (v: typeof val) {\n\t\t\tval = v;\n\t\t\treturn true;\n\t\t};\n\n\t\treturn {\n\t\t\tsubscribe,\n\t\t\t__trigger,\n\t\t\t__parse,\n\t\t};\n\t}\n}\n\nexport function markReactive<T>(t: T, nested?: boolean): T {\n\tObject.defineProperty(t, \"__reactive\", {\n\t\tvalue: true,\n\t\tenumerable: false,\n\t\twritable: false,\n\t});\n\tif (nested === true) {\n\t\tfor (const key in t) {\n\t\t\tconst sub = t[key];\n\t\t\tif (typeof sub === \"object\" && sub !== null) {\n\t\t\t\tmarkReactive(sub, true);\n\t\t\t}\n\t\t}\n\t}\n\treturn t;\n}\n", "import type {\n\tTDataConfig,\n\tTDataBlock,\n\tTParserHash,\n\tIStringHash,\n\tTAsyncSignals,\n\tTStateMode,\n} from \"./types\";\nimport type EventBus from \"./EventBus\";\nimport { STORE_SET_SILENT } from \"./Store\";\n\ntype TSetter<T> = (data: Partial<T>, mode?: TStateMode) => TAsyncSignals;\ntype TStoreLike<T> = {\n\tsetState: TSetter<T>;\n};\n\ntype AsyncUpdate = {\n\ttimer: number;\n\tsignals: TAsyncSignals;\n};\n\nexport default class DataRouter<T, D, E> {\n\tprivate _setter: TSetter<T>;\n\tprivate _routes: TDataConfig;\n\tprivate _triggers: Map<string, TDataBlock[]>;\n\tprivate _sources: Map<string, IStringHash<boolean>>;\n\tprivate _prev: Partial<D>;\n\tprivate _parsers: TParserHash;\n\tprivate _bus: EventBus<E, keyof E> | undefined;\n\tprivate _async: AsyncUpdate | null;\n\n\tconstructor(\n\t\ts: TSetter<T> | TStoreLike<T>,\n\t\tr: TDataConfig,\n\t\tp: TParserHash,\n\t\tb?: EventBus<E, keyof E>\n\t) {\n\t\tif (typeof s === \"function\") this._setter = s;\n\t\telse this._setter = s.setState.bind(s);\n\n\t\tthis._routes = r;\n\t\tthis._parsers = p;\n\t\tthis._prev = {};\n\n\t\tthis._triggers = new Map();\n\t\tthis._sources = new Map();\n\t\tthis._routes.forEach(a => {\n\t\t\ta.in.forEach(k => {\n\t\t\t\tconst arr = this._triggers.get(k) || [];\n\t\t\t\tarr.push(a);\n\t\t\t\tthis._triggers.set(k, arr);\n\t\t\t});\n\t\t\ta.out.forEach(k => {\n\t\t\t\tconst h: IStringHash<boolean> = this._sources.get(k) || {};\n\t\t\t\ta.in.forEach(i => (h[i] = true));\n\t\t\t\tthis._sources.set(k, h);\n\t\t\t});\n\t\t});\n\n\t\tthis._routes.forEach(a => {\n\t\t\ta.length = Math.max(\n\t\t\t\t...a.in.map(key => _calckSize(key, this._sources, 1))\n\t\t\t);\n\t\t});\n\n\t\tthis._bus = b;\n\t}\n\tinit(cfg: Partial<D>):void {\n\t\tconst next: Partial<T> = {};\n\t\tfor (const key in cfg) {\n\t\t\tif (this._prev[key] !== cfg[key]) {\n\t\t\t\tconst parser = this._parsers[key];\n\t\t\t\tnext[key as unknown as keyof T] = parser ? parser(cfg[key]) : cfg[key];\n\t\t\t}\n\t\t}\n\n\t\tthis._prev = this._prev ? { ...this._prev, ...cfg } : { ...cfg };\n\t\tthis.setState(next);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tif (this._bus) this._bus.exec(\"init-state\" as any, next as any);\n\t}\n\tsetStateAsync(updates: Partial<T>): TAsyncSignals {\n\t\tconst signals = this._setter(updates, STORE_SET_SILENT);\n\t\tif (this._async) {\n\t\t\tObject.assign(this._async.signals, signals);\n\t\t} else {\n\t\t\tthis._async = {\n\t\t\t\tsignals,\n\t\t\t\ttimer: setTimeout(this._applyState.bind(this), 1) as unknown as number,\n\t\t\t};\n\t\t}\n\n\t\treturn signals;\n\t}\n\t_applyState():void {\n\t\tconst obj = this._async;\n\t\tif (!obj) return;\n\t\tthis._async = null;\n\n\t\t// trigger dynamic values calculation\n\t\tthis._triggerUpdates(obj.signals, []);\n\t\t// trigger external subscription\n\t\tfor (const key in obj.signals) {\n\t\t\tconst h = obj.signals[key];\n\t\t\tif (h) h();\n\t\t}\n\t}\n\tsetState(updates: Partial<T>, ctx: TDataConfig = []): TAsyncSignals {\n\t\tconst signals = this._setter(updates);\n\t\tthis._triggerUpdates(signals, ctx);\n\t\treturn signals;\n\t}\n\tprivate _triggerUpdates(signals: TAsyncSignals, ctx: TDataConfig) {\n\t\tconst keys = Object.keys(signals);\n\t\tconst needExec = !ctx.length;\n\t\tctx = ctx || [];\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tconst trgs = this._triggers.get(key);\n\t\t\tif (trgs) {\n\t\t\t\ttrgs.forEach(a => {\n\t\t\t\t\tif (ctx.indexOf(a) == -1) {\n\t\t\t\t\t\tctx.push(a);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (needExec) {\n\t\t\tthis._execNext(ctx);\n\t\t}\n\t}\n\tprivate _execNext(ctx: TDataConfig) {\n\t\twhile (ctx.length) {\n\t\t\tctx.sort((a, b) => (a.length! < b.length! ? 1 : -1));\n\n\t\t\tconst next = ctx[ctx.length - 1];\n\t\t\tctx.splice(ctx.length - 1);\n\t\t\tnext.exec(ctx);\n\t\t}\n\t}\n}\n\nfunction _calckSize(\n\tkey: string,\n\tsources: Map<string, IStringHash<boolean>>,\n\tprev: number\n): number {\n\tconst next = sources.get(key);\n\tif (!next) return prev;\n\n\tconst sizes = Object.keys(next).map(a => _calckSize(a, sources, prev + 1));\n\treturn Math.max(...sizes);\n}\n", "import type { IEventConfig, IEventBus } from \"./types\";\n\nexport default class EventBus<T, A extends keyof T> {\n\tprivate _handlers: {\n\t\t[key in A]: { (v: T[A]): void | boolean | Promise<boolean> }[];\n\t};\n\tprotected _nextHandler: IEventBus<T>;\n\tprotected _tag: WeakMap<\n\t\t{ (v: T[A]): void | boolean | Promise<boolean> },\n\t\tnumber | string | symbol\n\t>;\n\n\tconstructor() {\n\t\tthis._nextHandler = null;\n\t\tthis._handlers = {} as {\n\t\t\t[key in A]: { (v: T[A]): void | boolean | Promise<boolean> }[];\n\t\t};\n\t\tthis._tag = new WeakMap();\n\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\ton(\n\t\tname: A,\n\t\thandler: (v: T[A]) => void | boolean | Promise<boolean>,\n\t\tconfig?: IEventConfig\n\t):void {\n\t\tlet prev = this._handlers[name];\n\t\tif (!prev) {\n\t\t\tprev = this._handlers[name] = [handler];\n\t\t} else {\n\t\t\tif (config && config.intercept) prev.unshift(handler);\n\t\t\telse prev.push(handler);\n\t\t}\n\n\t\tif (config && config.tag) this._tag.set(handler, config.tag);\n\t}\n\tintercept(\n\t\tname: A,\n\t\thandler: (v: T[A]) => void | boolean | Promise<boolean>,\n\t\tconfig?: IEventConfig\n\t):void {\n\t\tthis.on(name, handler, { ...config, intercept: true });\n\t}\n\tdetach(tag: number | string | symbol):void {\n\t\tfor (const key in this._handlers) {\n\t\t\tconst stack = this._handlers[key];\n\t\t\tfor (let i = stack.length - 1; i >= 0; i--) {\n\t\t\t\tif (this._tag.get(stack[i]) === tag) {\n\t\t\t\t\tstack.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tasync exec(name: A, ev: T[A]): Promise<T[A]> {\n\t\tconst stack = this._handlers[name];\n\t\tif (stack) {\n\t\t\tfor (let i = 0; i < stack.length; i++) {\n\t\t\t\tconst res = stack[i](ev);\n\t\t\t\tif (res === false) return;\n\t\t\t\tif (res && (res as Promise<boolean>).then) {\n\t\t\t\t\tconst res2 = await (res as Promise<boolean>);\n\t\t\t\t\tif (res2 === false) return;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this._nextHandler) await this._nextHandler.exec(name, ev);\n\n\t\treturn ev;\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n", "import type { IEventBus, CommonEvent } from \"./types\";\n\nexport default class EventResolver<T> implements IEventBus<T> {\n\tprivate _key: string;\n\tprotected _nextHandler: IEventBus<T>;\n\n\tconstructor(key: string) {\n\t\tthis._key = key;\n\t\tthis._nextHandler = null;\n\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\tasync exec(name: keyof T, ev: CommonEvent): Promise<T[keyof T]> {\n\t\tif (ev && ev[this._key]) await ev[this._key](ev);\n\t\tif (this._nextHandler) {\n\t\t\tawait this._nextHandler.exec(name, ev as T[keyof T]);\n\t\t}\n\n\t\treturn ev as T[keyof T];\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n", "import type { IEventBus, TDispatch, CommonEvent } from \"./types\";\n\nexport default class EventBusRouter<T> implements IEventBus<T> {\n\tprivate _dispatch: TDispatch<T>;\n\tprotected _nextHandler: IEventBus<T>;\n\n\tconstructor(dispatch: TDispatch<T>) {\n\t\tthis._nextHandler = null;\n\t\tthis._dispatch = dispatch;\n\t\tthis.exec = this.exec.bind(this);\n\t}\n\tasync exec(name: keyof T, ev: CommonEvent): Promise<T[keyof T]> {\n\t\tthis._dispatch(name, ev as T[keyof T]);\n\t\tif (this._nextHandler) await this._nextHandler.exec(name, ev as T[keyof T]);\n\t\treturn ev as T[keyof T];\n\t}\n\tsetNext(next: IEventBus<T>): IEventBus<T> {\n\t\treturn (this._nextHandler = next);\n\t}\n}\n", "// Store the references to globals in case someone tries to monkey patch these, causing the below\n// to de-opt (this occurs often when using popular extensions).\nexport var is_array = Array.isArray;\nexport var index_of = Array.prototype.indexOf;\nexport var array_from = Array.from;\nexport var object_keys = Object.keys;\nexport var define_property = Object.defineProperty;\nexport var get_descriptor = Object.getOwnPropertyDescriptor;\nexport var get_descriptors = Object.getOwnPropertyDescriptors;\nexport var object_prototype = Object.prototype;\nexport var array_prototype = Array.prototype;\nexport var get_prototype_of = Object.getPrototypeOf;\nexport var is_extensible = Object.isExtensible;\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\nexport const noop = () => {};\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n\n/**\n * @template [T=any]\n * @param {any} value\n * @returns {value is PromiseLike<T>}\n */\nexport function is_promise(value) {\n\treturn typeof value?.then === 'function';\n}\n\n/** @param {Function} fn */\nexport function run(fn) {\n\treturn fn();\n}\n\n/** @param {Array<() => void>} arr */\nexport function run_all(arr) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tarr[i]();\n\t}\n}\n\n/**\n * TODO replace with Promise.withResolvers once supported widely enough\n * @template T\n */\nexport function deferred() {\n\t/** @type {(value: T) => void} */\n\tvar resolve;\n\n\t/** @type {(reason: any) => void} */\n\tvar reject;\n\n\t/** @type {Promise<T>} */\n\tvar promise = new Promise((res, rej) => {\n\t\tresolve = res;\n\t\treject = rej;\n\t});\n\n\t// @ts-expect-error\n\treturn { promise, resolve, reject };\n}\n\n/**\n * @template V\n * @param {V} value\n * @param {V | (() => V)} fallback\n * @param {boolean} [lazy]\n * @returns {V}\n */\nexport function fallback(value, fallback, lazy = false) {\n\treturn value === undefined\n\t\t? lazy\n\t\t\t? /** @type {() => V} */ (fallback)()\n\t\t\t: /** @type {V} */ (fallback)\n\t\t: value;\n}\n\n/**\n * When encountering a situation like `let [a, b, c] = $derived(blah())`,\n * we need to stash an intermediate value that `a`, `b`, and `c` derive\n * from, in case it's an iterable\n * @template T\n * @param {ArrayLike<T> | Iterable<T>} value\n * @param {number} [n]\n * @returns {Array<T>}\n */\nexport function to_array(value, n) {\n\t// return arrays unchanged\n\tif (Array.isArray(value)) {\n\t\treturn value;\n\t}\n\n\t// if value is not iterable, or `n` is unspecified (indicates a rest\n\t// element, which means we're not concerned about unbounded iterables)\n\t// convert to an array with `Array.from`\n\tif (n === undefined || !(Symbol.iterator in value)) {\n\t\treturn Array.from(value);\n\t}\n\n\t// otherwise, populate an array with `n` values\n\n\t/** @type {T[]} */\n\tconst array = [];\n\n\tfor (const element of value) {\n\t\tarray.push(element);\n\t\tif (array.length === n) break;\n\t}\n\n\treturn array;\n}\n", "/** @import { Equals } from '#client' */\n\n/** @type {Equals} */\nexport function equals(value) {\n\treturn value === this.v;\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @returns {boolean}\n */\nexport function safe_not_equal(a, b) {\n\treturn a != a\n\t\t? b == b\n\t\t: a !== b || (a !== null && typeof a === 'object') || typeof a === 'function';\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @returns {boolean}\n */\nexport function not_equal(a, b) {\n\treturn a !== b;\n}\n\n/** @type {Equals} */\nexport function safe_equals(value) {\n\treturn !safe_not_equal(value, this.v);\n}\n", "const node_env = globalThis.process?.env?.NODE_ENV;\nexport default node_env && !node_env.toLowerCase().startsWith('prod');\n", "/* This file is generated by scripts/process-messages/index.js. Do not edit! */\n\nimport { DEV } from 'esm-env';\n\nexport *  from '../shared/errors.js';\n\n/**\n * Cannot create a `$derived(...)` with an `await` expression outside of an effect tree\n * @returns {never}\n */\nexport function async_derived_orphan() {\n\tif (DEV) {\n\t\tconst error = new Error(`async_derived_orphan\\nCannot create a \\`$derived(...)\\` with an \\`await\\` expression outside of an effect tree\\nhttps://svelte.dev/e/async_derived_orphan`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/async_derived_orphan`);\n\t}\n}\n\n/**\n * Using `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\n * @returns {never}\n */\nexport function bind_invalid_checkbox_value() {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_invalid_checkbox_value\\nUsing \\`bind:value\\` together with a checkbox input is not allowed. Use \\`bind:checked\\` instead\\nhttps://svelte.dev/e/bind_invalid_checkbox_value`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_invalid_checkbox_value`);\n\t}\n}\n\n/**\n * Component %component% has an export named `%key%` that a consumer component is trying to access using `bind:%key%`, which is disallowed. Instead, use `bind:this` (e.g. `<%name% bind:this={component} />`) and then access the property on the bound component instance (e.g. `component.%key%`)\n * @param {string} component\n * @param {string} key\n * @param {string} name\n * @returns {never}\n */\nexport function bind_invalid_export(component, key, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_invalid_export\\nComponent ${component} has an export named \\`${key}\\` that a consumer component is trying to access using \\`bind:${key}\\`, which is disallowed. Instead, use \\`bind:this\\` (e.g. \\`<${name} bind:this={component} />\\`) and then access the property on the bound component instance (e.g. \\`component.${key}\\`)\\nhttps://svelte.dev/e/bind_invalid_export`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_invalid_export`);\n\t}\n}\n\n/**\n * A component is attempting to bind to a non-bindable property `%key%` belonging to %component% (i.e. `<%name% bind:%key%={...}>`). To mark a property as bindable: `let { %key% = $bindable() } = $props()`\n * @param {string} key\n * @param {string} component\n * @param {string} name\n * @returns {never}\n */\nexport function bind_not_bindable(key, component, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`bind_not_bindable\\nA component is attempting to bind to a non-bindable property \\`${key}\\` belonging to ${component} (i.e. \\`<${name} bind:${key}={...}>\\`). To mark a property as bindable: \\`let { ${key} = $bindable() } = $props()\\`\\nhttps://svelte.dev/e/bind_not_bindable`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/bind_not_bindable`);\n\t}\n}\n\n/**\n * Calling `%method%` on a component instance (of %component%) is no longer valid in Svelte 5\n * @param {string} method\n * @param {string} component\n * @returns {never}\n */\nexport function component_api_changed(method, component) {\n\tif (DEV) {\n\t\tconst error = new Error(`component_api_changed\\nCalling \\`${method}\\` on a component instance (of ${component}) is no longer valid in Svelte 5\\nhttps://svelte.dev/e/component_api_changed`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/component_api_changed`);\n\t}\n}\n\n/**\n * Attempted to instantiate %component% with `new %name%`, which is no longer valid in Svelte 5. If this component is not under your control, set the `compatibility.componentApi` compiler option to `4` to keep it working.\n * @param {string} component\n * @param {string} name\n * @returns {never}\n */\nexport function component_api_invalid_new(component, name) {\n\tif (DEV) {\n\t\tconst error = new Error(`component_api_invalid_new\\nAttempted to instantiate ${component} with \\`new ${name}\\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \\`compatibility.componentApi\\` compiler option to \\`4\\` to keep it working.\\nhttps://svelte.dev/e/component_api_invalid_new`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/component_api_invalid_new`);\n\t}\n}\n\n/**\n * A derived value cannot reference itself recursively\n * @returns {never}\n */\nexport function derived_references_self() {\n\tif (DEV) {\n\t\tconst error = new Error(`derived_references_self\\nA derived value cannot reference itself recursively\\nhttps://svelte.dev/e/derived_references_self`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/derived_references_self`);\n\t}\n}\n\n/**\n * Keyed each block has duplicate key `%value%` at indexes %a% and %b%\n * @param {string} a\n * @param {string} b\n * @param {string | undefined | null} [value]\n * @returns {never}\n */\nexport function each_key_duplicate(a, b, value) {\n\tif (DEV) {\n\t\tconst error = new Error(`each_key_duplicate\\n${value\n\t\t\t? `Keyed each block has duplicate key \\`${value}\\` at indexes ${a} and ${b}`\n\t\t\t: `Keyed each block has duplicate key at indexes ${a} and ${b}`}\\nhttps://svelte.dev/e/each_key_duplicate`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/each_key_duplicate`);\n\t}\n}\n\n/**\n * `%rune%` cannot be used inside an effect cleanup function\n * @param {string} rune\n * @returns {never}\n */\nexport function effect_in_teardown(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_in_teardown\\n\\`${rune}\\` cannot be used inside an effect cleanup function\\nhttps://svelte.dev/e/effect_in_teardown`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_in_teardown`);\n\t}\n}\n\n/**\n * Effect cannot be created inside a `$derived` value that was not itself created inside an effect\n * @returns {never}\n */\nexport function effect_in_unowned_derived() {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_in_unowned_derived\\nEffect cannot be created inside a \\`$derived\\` value that was not itself created inside an effect\\nhttps://svelte.dev/e/effect_in_unowned_derived`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_in_unowned_derived`);\n\t}\n}\n\n/**\n * `%rune%` can only be used inside an effect (e.g. during component initialisation)\n * @param {string} rune\n * @returns {never}\n */\nexport function effect_orphan(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_orphan\\n\\`${rune}\\` can only be used inside an effect (e.g. during component initialisation)\\nhttps://svelte.dev/e/effect_orphan`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_orphan`);\n\t}\n}\n\n/**\n * `$effect.pending()` can only be called inside an effect or derived\n * @returns {never}\n */\nexport function effect_pending_outside_reaction() {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_pending_outside_reaction\\n\\`$effect.pending()\\` can only be called inside an effect or derived\\nhttps://svelte.dev/e/effect_pending_outside_reaction`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_pending_outside_reaction`);\n\t}\n}\n\n/**\n * Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state\n * @returns {never}\n */\nexport function effect_update_depth_exceeded() {\n\tif (DEV) {\n\t\tconst error = new Error(`effect_update_depth_exceeded\\nMaximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state\\nhttps://svelte.dev/e/effect_update_depth_exceeded`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/effect_update_depth_exceeded`);\n\t}\n}\n\n/**\n * Cannot use `flushSync` inside an effect\n * @returns {never}\n */\nexport function flush_sync_in_effect() {\n\tif (DEV) {\n\t\tconst error = new Error(`flush_sync_in_effect\\nCannot use \\`flushSync\\` inside an effect\\nhttps://svelte.dev/e/flush_sync_in_effect`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/flush_sync_in_effect`);\n\t}\n}\n\n/**\n * `getAbortSignal()` can only be called inside an effect or derived\n * @returns {never}\n */\nexport function get_abort_signal_outside_reaction() {\n\tif (DEV) {\n\t\tconst error = new Error(`get_abort_signal_outside_reaction\\n\\`getAbortSignal()\\` can only be called inside an effect or derived\\nhttps://svelte.dev/e/get_abort_signal_outside_reaction`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/get_abort_signal_outside_reaction`);\n\t}\n}\n\n/**\n * Failed to hydrate the application\n * @returns {never}\n */\nexport function hydration_failed() {\n\tif (DEV) {\n\t\tconst error = new Error(`hydration_failed\\nFailed to hydrate the application\\nhttps://svelte.dev/e/hydration_failed`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/hydration_failed`);\n\t}\n}\n\n/**\n * Could not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\n * @returns {never}\n */\nexport function invalid_snippet() {\n\tif (DEV) {\n\t\tconst error = new Error(`invalid_snippet\\nCould not \\`{@render}\\` snippet due to the expression being \\`null\\` or \\`undefined\\`. Consider using optional chaining \\`{@render snippet?.()}\\`\\nhttps://svelte.dev/e/invalid_snippet`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/invalid_snippet`);\n\t}\n}\n\n/**\n * `%name%(...)` cannot be used in runes mode\n * @param {string} name\n * @returns {never}\n */\nexport function lifecycle_legacy_only(name) {\n\tif (DEV) {\n\t\tconst error = new Error(`lifecycle_legacy_only\\n\\`${name}(...)\\` cannot be used in runes mode\\nhttps://svelte.dev/e/lifecycle_legacy_only`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/lifecycle_legacy_only`);\n\t}\n}\n\n/**\n * Cannot do `bind:%key%={undefined}` when `%key%` has a fallback value\n * @param {string} key\n * @returns {never}\n */\nexport function props_invalid_value(key) {\n\tif (DEV) {\n\t\tconst error = new Error(`props_invalid_value\\nCannot do \\`bind:${key}={undefined}\\` when \\`${key}\\` has a fallback value\\nhttps://svelte.dev/e/props_invalid_value`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/props_invalid_value`);\n\t}\n}\n\n/**\n * Rest element properties of `$props()` such as `%property%` are readonly\n * @param {string} property\n * @returns {never}\n */\nexport function props_rest_readonly(property) {\n\tif (DEV) {\n\t\tconst error = new Error(`props_rest_readonly\\nRest element properties of \\`$props()\\` such as \\`${property}\\` are readonly\\nhttps://svelte.dev/e/props_rest_readonly`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/props_rest_readonly`);\n\t}\n}\n\n/**\n * The `%rune%` rune is only available inside `.svelte` and `.svelte.js/ts` files\n * @param {string} rune\n * @returns {never}\n */\nexport function rune_outside_svelte(rune) {\n\tif (DEV) {\n\t\tconst error = new Error(`rune_outside_svelte\\nThe \\`${rune}\\` rune is only available inside \\`.svelte\\` and \\`.svelte.js/ts\\` files\\nhttps://svelte.dev/e/rune_outside_svelte`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/rune_outside_svelte`);\n\t}\n}\n\n/**\n * `setContext` must be called when a component first initializes, not in a subsequent effect or after an `await` expression\n * @returns {never}\n */\nexport function set_context_after_init() {\n\tif (DEV) {\n\t\tconst error = new Error(`set_context_after_init\\n\\`setContext\\` must be called when a component first initializes, not in a subsequent effect or after an \\`await\\` expression\\nhttps://svelte.dev/e/set_context_after_init`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/set_context_after_init`);\n\t}\n}\n\n/**\n * Property descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\n * @returns {never}\n */\nexport function state_descriptors_fixed() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_descriptors_fixed\\nProperty descriptors defined on \\`$state\\` objects must contain \\`value\\` and always be \\`enumerable\\`, \\`configurable\\` and \\`writable\\`.\\nhttps://svelte.dev/e/state_descriptors_fixed`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_descriptors_fixed`);\n\t}\n}\n\n/**\n * Cannot set prototype of `$state` object\n * @returns {never}\n */\nexport function state_prototype_fixed() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_prototype_fixed\\nCannot set prototype of \\`$state\\` object\\nhttps://svelte.dev/e/state_prototype_fixed`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_prototype_fixed`);\n\t}\n}\n\n/**\n * Updating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\n * @returns {never}\n */\nexport function state_unsafe_mutation() {\n\tif (DEV) {\n\t\tconst error = new Error(`state_unsafe_mutation\\nUpdating state inside \\`$derived(...)\\`, \\`$inspect(...)\\` or a template expression is forbidden. If the value should not be reactive, declare it without \\`$state\\`\\nhttps://svelte.dev/e/state_unsafe_mutation`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/state_unsafe_mutation`);\n\t}\n}\n\n/**\n * A `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\n * @returns {never}\n */\nexport function svelte_boundary_reset_onerror() {\n\tif (DEV) {\n\t\tconst error = new Error(`svelte_boundary_reset_onerror\\nA \\`<svelte:boundary>\\` \\`reset\\` function cannot be called while an error is still being handled\\nhttps://svelte.dev/e/svelte_boundary_reset_onerror`);\n\n\t\terror.name = 'Svelte error';\n\n\t\tthrow error;\n\t} else {\n\t\tthrow new Error(`https://svelte.dev/e/svelte_boundary_reset_onerror`);\n\t}\n}", "import { run_all } from '../../shared/utils.js';\nimport { is_flushing_sync } from '../reactivity/batch.js';\n\n// Fallback for when requestIdleCallback is not available\nconst request_idle_callback =\n\ttypeof requestIdleCallback === 'undefined'\n\t\t? (/** @type {() => void} */ cb) => setTimeout(cb, 1)\n\t\t: requestIdleCallback;\n\n/** @type {Array<() => void>} */\nlet micro_tasks = [];\n\n/** @type {Array<() => void>} */\nlet idle_tasks = [];\n\nfunction run_micro_tasks() {\n\tvar tasks = micro_tasks;\n\tmicro_tasks = [];\n\trun_all(tasks);\n}\n\nfunction run_idle_tasks() {\n\tvar tasks = idle_tasks;\n\tidle_tasks = [];\n\trun_all(tasks);\n}\n\nexport function has_pending_tasks() {\n\treturn micro_tasks.length > 0 || idle_tasks.length > 0;\n}\n\n/**\n * @param {() => void} fn\n */\nexport function queue_micro_task(fn) {\n\tif (micro_tasks.length === 0 && !is_flushing_sync) {\n\t\tvar tasks = micro_tasks;\n\t\tqueueMicrotask(() => {\n\t\t\t// If this is false, a flushSync happened in the meantime. Do _not_ run new scheduled microtasks in that case\n\t\t\t// as the ordering of microtasks would be broken at that point - consider this case:\n\t\t\t// - queue_micro_task schedules microtask A to flush task X\n\t\t\t// - synchronously after, flushSync runs, processing task X\n\t\t\t// - synchronously after, some other microtask B is scheduled, but not through queue_micro_task but for example a Promise.resolve() in user code\n\t\t\t// - synchronously after, queue_micro_task schedules microtask C to flush task Y\n\t\t\t// - one tick later, microtask A now resolves, flushing task Y before microtask B, which is incorrect\n\t\t\t// This if check prevents that race condition (that realistically will only happen in tests)\n\t\t\tif (tasks === micro_tasks) run_micro_tasks();\n\t\t});\n\t}\n\n\tmicro_tasks.push(fn);\n}\n\n/**\n * @param {() => void} fn\n */\nexport function queue_idle_task(fn) {\n\tif (idle_tasks.length === 0) {\n\t\trequest_idle_callback(run_idle_tasks);\n\t}\n\n\tidle_tasks.push(fn);\n}\n\n/**\n * Synchronously run any queued tasks.\n */\nexport function flush_tasks() {\n\tif (micro_tasks.length > 0) {\n\t\trun_micro_tasks();\n\t}\n\n\tif (idle_tasks.length > 0) {\n\t\trun_idle_tasks();\n\t}\n}\n", "import { teardown } from '../../../reactivity/effects.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction\n} from '../../../runtime.js';\nimport { add_form_reset_listener } from '../misc.js';\n\n/**\n * Fires the handler once immediately (unless corresponding arg is set to `false`),\n * then listens to the given events until the render effect context is destroyed\n * @param {EventTarget} target\n * @param {Array<string>} events\n * @param {(event?: Event) => void} handler\n * @param {any} call_handler_immediately\n */\nexport function listen(target, events, handler, call_handler_immediately = true) {\n\tif (call_handler_immediately) {\n\t\thandler();\n\t}\n\n\tfor (var name of events) {\n\t\ttarget.addEventListener(name, handler);\n\t}\n\n\tteardown(() => {\n\t\tfor (var name of events) {\n\t\t\ttarget.removeEventListener(name, handler);\n\t\t}\n\t});\n}\n\n/**\n * @template T\n * @param {() => T} fn\n */\nexport function without_reactive_context(fn) {\n\tvar previous_reaction = active_reaction;\n\tvar previous_effect = active_effect;\n\tset_active_reaction(null);\n\tset_active_effect(null);\n\ttry {\n\t\treturn fn();\n\t} finally {\n\t\tset_active_reaction(previous_reaction);\n\t\tset_active_effect(previous_effect);\n\t}\n}\n\n/**\n * Listen to the given event, and then instantiate a global form reset listener if not already done,\n * to notify all bindings when the form is reset\n * @param {HTMLElement} element\n * @param {string} event\n * @param {(is_reset?: true) => void} handler\n * @param {(is_reset?: true) => void} [on_reset]\n */\nexport function listen_to_event_and_reset_event(element, event, handler, on_reset = handler) {\n\telement.addEventListener(event, () => without_reactive_context(handler));\n\t// @ts-expect-error\n\tconst prev = element.__on_r;\n\tif (prev) {\n\t\t// special case for checkbox that can have multiple binds (group & checked)\n\t\t// @ts-expect-error\n\t\telement.__on_r = () => {\n\t\t\tprev();\n\t\t\ton_reset(true);\n\t\t};\n\t} else {\n\t\t// @ts-expect-error\n\t\telement.__on_r = () => on_reset(true);\n\t}\n\n\tadd_form_reset_listener();\n}\n", "import { teardown } from '../../reactivity/effects.js';\nimport { define_property, is_array } from '../../../shared/utils.js';\nimport { hydrating } from '../hydration.js';\nimport { queue_micro_task } from '../task.js';\nimport { FILENAME } from '../../../../constants.js';\nimport * as w from '../../warnings.js';\nimport {\n\tactive_effect,\n\tactive_reaction,\n\tset_active_effect,\n\tset_active_reaction\n} from '../../runtime.js';\nimport { without_reactive_context } from './bindings/shared.js';\n\n/** @type {Set<string>} */\nexport const all_registered_events = new Set();\n\n/** @type {Set<(events: Array<string>) => void>} */\nexport const root_event_handles = new Set();\n\n/**\n * SSR adds onload and onerror attributes to catch those events before the hydration.\n * This function detects those cases, removes the attributes and replays the events.\n * @param {HTMLElement} dom\n */\nexport function replay_events(dom) {\n\tif (!hydrating) return;\n\n\tdom.removeAttribute('onload');\n\tdom.removeAttribute('onerror');\n\t// @ts-expect-error\n\tconst event = dom.__e;\n\tif (event !== undefined) {\n\t\t// @ts-expect-error\n\t\tdom.__e = undefined;\n\t\tqueueMicrotask(() => {\n\t\t\tif (dom.isConnected) {\n\t\t\t\tdom.dispatchEvent(event);\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * @param {string} event_name\n * @param {EventTarget} dom\n * @param {EventListener} [handler]\n * @param {AddEventListenerOptions} [options]\n */\nexport function create_event(event_name, dom, handler, options = {}) {\n\t/**\n\t * @this {EventTarget}\n\t */\n\tfunction target_handler(/** @type {Event} */ event) {\n\t\tif (!options.capture) {\n\t\t\t// Only call in the bubble phase, else delegated events would be called before the capturing events\n\t\t\thandle_event_propagation.call(dom, event);\n\t\t}\n\t\tif (!event.cancelBubble) {\n\t\t\treturn without_reactive_context(() => {\n\t\t\t\treturn handler?.call(this, event);\n\t\t\t});\n\t\t}\n\t}\n\n\t// Chrome has a bug where pointer events don't work when attached to a DOM element that has been cloned\n\t// with cloneNode() and the DOM element is disconnected from the document. To ensure the event works, we\n\t// defer the attachment till after it's been appended to the document. TODO: remove this once Chrome fixes\n\t// this bug. The same applies to wheel events and touch events.\n\tif (\n\t\tevent_name.startsWith('pointer') ||\n\t\tevent_name.startsWith('touch') ||\n\t\tevent_name === 'wheel'\n\t) {\n\t\tqueue_micro_task(() => {\n\t\t\tdom.addEventListener(event_name, target_handler, options);\n\t\t});\n\t} else {\n\t\tdom.addEventListener(event_name, target_handler, options);\n\t}\n\n\treturn target_handler;\n}\n\n/**\n * Attaches an event handler to an element and returns a function that removes the handler. Using this\n * rather than `addEventListener` will preserve the correct order relative to handlers added declaratively\n * (with attributes like `onclick`), which use event delegation for performance reasons\n *\n * @param {EventTarget} element\n * @param {string} type\n * @param {EventListener} handler\n * @param {AddEventListenerOptions} [options]\n */\nexport function on(element, type, handler, options = {}) {\n\tvar target_handler = create_event(type, element, handler, options);\n\n\treturn () => {\n\t\telement.removeEventListener(type, target_handler, options);\n\t};\n}\n\n/**\n * @param {string} event_name\n * @param {Element} dom\n * @param {EventListener} [handler]\n * @param {boolean} [capture]\n * @param {boolean} [passive]\n * @returns {void}\n */\nexport function event(event_name, dom, handler, capture, passive) {\n\tvar options = { capture, passive };\n\tvar target_handler = create_event(event_name, dom, handler, options);\n\n\tif (\n\t\tdom === document.body ||\n\t\t// @ts-ignore\n\t\tdom === window ||\n\t\t// @ts-ignore\n\t\tdom === document ||\n\t\t// Firefox has quirky behavior, it can happen that we still get \"canplay\" events when the element is already removed\n\t\tdom instanceof HTMLMediaElement\n\t) {\n\t\tteardown(() => {\n\t\t\tdom.removeEventListener(event_name, target_handler, options);\n\t\t});\n\t}\n}\n\n/**\n * @param {Array<string>} events\n * @returns {void}\n */\nexport function delegate(events) {\n\tfor (var i = 0; i < events.length; i++) {\n\t\tall_registered_events.add(events[i]);\n\t}\n\n\tfor (var fn of root_event_handles) {\n\t\tfn(events);\n\t}\n}\n\n// used to store the reference to the currently propagated event\n// to prevent garbage collection between microtasks in Firefox\n// If the event object is GCed too early, the expando __root property\n// set on the event object is lost, causing the event delegation\n// to process the event twice\nlet last_propagated_event = null;\n\n/**\n * @this {EventTarget}\n * @param {Event} event\n * @returns {void}\n */\nexport function handle_event_propagation(event) {\n\tvar handler_element = this;\n\tvar owner_document = /** @type {Node} */ (handler_element).ownerDocument;\n\tvar event_name = event.type;\n\tvar path = event.composedPath?.() || [];\n\tvar current_target = /** @type {null | Element} */ (path[0] || event.target);\n\n\tlast_propagated_event = event;\n\n\t// composedPath contains list of nodes the event has propagated through.\n\t// We check __root to skip all nodes below it in case this is a\n\t// parent of the __root node, which indicates that there's nested\n\t// mounted apps. In this case we don't want to trigger events multiple times.\n\tvar path_idx = 0;\n\n\t// the `last_propagated_event === event` check is redundant, but\n\t// without it the variable will be DCE'd and things will\n\t// fail mysteriously in Firefox\n\t// @ts-expect-error is added below\n\tvar handled_at = last_propagated_event === event && event.__root;\n\n\tif (handled_at) {\n\t\tvar at_idx = path.indexOf(handled_at);\n\t\tif (\n\t\t\tat_idx !== -1 &&\n\t\t\t(handler_element === document || handler_element === /** @type {any} */ (window))\n\t\t) {\n\t\t\t// This is the fallback document listener or a window listener, but the event was already handled\n\t\t\t// -> ignore, but set handle_at to document/window so that we're resetting the event\n\t\t\t// chain in case someone manually dispatches the same event object again.\n\t\t\t// @ts-expect-error\n\t\t\tevent.__root = handler_element;\n\t\t\treturn;\n\t\t}\n\n\t\t// We're deliberately not skipping if the index is higher, because\n\t\t// someone could create an event programmatically and emit it multiple times,\n\t\t// in which case we want to handle the whole propagation chain properly each time.\n\t\t// (this will only be a false negative if the event is dispatched multiple times and\n\t\t// the fallback document listener isn't reached in between, but that's super rare)\n\t\tvar handler_idx = path.indexOf(handler_element);\n\t\tif (handler_idx === -1) {\n\t\t\t// handle_idx can theoretically be -1 (happened in some JSDOM testing scenarios with an event listener on the window object)\n\t\t\t// so guard against that, too, and assume that everything was handled at this point.\n\t\t\treturn;\n\t\t}\n\n\t\tif (at_idx <= handler_idx) {\n\t\t\tpath_idx = at_idx;\n\t\t}\n\t}\n\n\tcurrent_target = /** @type {Element} */ (path[path_idx] || event.target);\n\t// there can only be one delegated event per element, and we either already handled the current target,\n\t// or this is the very first target in the chain which has a non-delegated listener, in which case it's safe\n\t// to handle a possible delegated event on it later (through the root delegation listener for example).\n\tif (current_target === handler_element) return;\n\n\t// Proxy currentTarget to correct target\n\tdefine_property(event, 'currentTarget', {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn current_target || owner_document;\n\t\t}\n\t});\n\n\t// This started because of Chromium issue https://chromestatus.com/feature/5128696823545856,\n\t// where removal or moving of of the DOM can cause sync `blur` events to fire, which can cause logic\n\t// to run inside the current `active_reaction`, which isn't what we want at all. However, on reflection,\n\t// it's probably best that all event handled by Svelte have this behaviour, as we don't really want\n\t// an event handler to run in the context of another reaction or effect.\n\tvar previous_reaction = active_reaction;\n\tvar previous_effect = active_effect;\n\tset_active_reaction(null);\n\tset_active_effect(null);\n\n\ttry {\n\t\t/**\n\t\t * @type {unknown}\n\t\t */\n\t\tvar throw_error;\n\t\t/**\n\t\t * @type {unknown[]}\n\t\t */\n\t\tvar other_errors = [];\n\n\t\twhile (current_target !== null) {\n\t\t\t/** @type {null | Element} */\n\t\t\tvar parent_element =\n\t\t\t\tcurrent_target.assignedSlot ||\n\t\t\t\tcurrent_target.parentNode ||\n\t\t\t\t/** @type {any} */ (current_target).host ||\n\t\t\t\tnull;\n\n\t\t\ttry {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tvar delegated = current_target['__' + event_name];\n\n\t\t\t\tif (\n\t\t\t\t\tdelegated != null &&\n\t\t\t\t\t(!(/** @type {any} */ (current_target).disabled) ||\n\t\t\t\t\t\t// DOM could've been updated already by the time this is reached, so we check this as well\n\t\t\t\t\t\t// -> the target could not have been disabled because it emits the event in the first place\n\t\t\t\t\t\tevent.target === current_target)\n\t\t\t\t) {\n\t\t\t\t\tif (is_array(delegated)) {\n\t\t\t\t\t\tvar [fn, ...data] = delegated;\n\t\t\t\t\t\tfn.apply(current_target, [event, ...data]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelegated.call(current_target, event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (throw_error) {\n\t\t\t\t\tother_errors.push(error);\n\t\t\t\t} else {\n\t\t\t\t\tthrow_error = error;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (event.cancelBubble || parent_element === handler_element || parent_element === null) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcurrent_target = parent_element;\n\t\t}\n\n\t\tif (throw_error) {\n\t\t\tfor (let error of other_errors) {\n\t\t\t\t// Throw the rest of the errors, one-by-one on a microtask\n\t\t\t\tqueueMicrotask(() => {\n\t\t\t\t\tthrow error;\n\t\t\t\t});\n\t\t\t}\n\t\t\tthrow throw_error;\n\t\t}\n\t} finally {\n\t\t// @ts-expect-error is used above\n\t\tevent.__root = handler_element;\n\t\t// @ts-ignore remove proxy on currentTarget\n\t\tdelete event.currentTarget;\n\t\tset_active_reaction(previous_reaction);\n\t\tset_active_effect(previous_effect);\n\t}\n}\n\n/**\n * In dev, warn if an event handler is not a function, as it means the\n * user probably called the handler or forgot to add a `() =>`\n * @param {() => (event: Event, ...args: any) => void} thunk\n * @param {EventTarget} element\n * @param {[Event, ...any]} args\n * @param {any} component\n * @param {[number, number]} [loc]\n * @param {boolean} [remove_parens]\n */\nexport function apply(\n\tthunk,\n\telement,\n\targs,\n\tcomponent,\n\tloc,\n\thas_side_effects = false,\n\tremove_parens = false\n) {\n\tlet handler;\n\tlet error;\n\n\ttry {\n\t\thandler = thunk();\n\t} catch (e) {\n\t\terror = e;\n\t}\n\n\tif (typeof handler !== 'function' && (has_side_effects || handler != null || error)) {\n\t\tconst filename = component?.[FILENAME];\n\t\tconst location = loc ? ` at ${filename}:${loc[0]}:${loc[1]}` : ` in ${filename}`;\n\t\tconst phase = args[0]?.eventPhase < Event.BUBBLING_PHASE ? 'capture' : '';\n\t\tconst event_name = args[0]?.type + phase;\n\t\tconst description = `\\`${event_name}\\` handler${location}`;\n\t\tconst suggestion = remove_parens ? 'remove the trailing `()`' : 'add a leading `() =>`';\n\n\t\tw.event_handler_invalid(description, suggestion);\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\t}\n\thandler?.apply(element, args);\n}\n", "/** @import { ComponentContext, ComponentContextLegacy } from '#client' */\n/** @import { EventDispatcher } from './index.js' */\n/** @import { NotFunction } from './internal/types.js' */\nimport { active_reaction, untrack } from './internal/client/runtime.js';\nimport { is_array } from './internal/shared/utils.js';\nimport { user_effect } from './internal/client/index.js';\nimport * as e from './internal/client/errors.js';\nimport { legacy_mode_flag } from './internal/flags/index.js';\nimport { component_context } from './internal/client/context.js';\nimport { DEV } from 'esm-env';\n\nif (DEV) {\n\t/**\n\t * @param {string} rune\n\t */\n\tfunction throw_rune_error(rune) {\n\t\tif (!(rune in globalThis)) {\n\t\t\t// TODO if people start adjusting the \"this can contain runes\" config through v-p-s more, adjust this message\n\t\t\t/** @type {any} */\n\t\t\tlet value; // let's hope noone modifies this global, but belts and braces\n\t\t\tObject.defineProperty(globalThis, rune, {\n\t\t\t\tconfigurable: true,\n\t\t\t\t// eslint-disable-next-line getter-return\n\t\t\t\tget: () => {\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\n\t\t\t\t\te.rune_outside_svelte(rune);\n\t\t\t\t},\n\t\t\t\tset: (v) => {\n\t\t\t\t\tvalue = v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tthrow_rune_error('$state');\n\tthrow_rune_error('$effect');\n\tthrow_rune_error('$derived');\n\tthrow_rune_error('$inspect');\n\tthrow_rune_error('$props');\n\tthrow_rune_error('$bindable');\n}\n\n/**\n * Returns an [`AbortSignal`](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal) that aborts when the current [derived](https://svelte.dev/docs/svelte/$derived) or [effect](https://svelte.dev/docs/svelte/$effect) re-runs or is destroyed.\n *\n * Must be called while a derived or effect is running.\n *\n * ```svelte\n * <script>\n * \timport { getAbortSignal } from 'svelte';\n *\n * \tlet { id } = $props();\n *\n * \tasync function getData(id) {\n * \t\tconst response = await fetch(`/items/${id}`, {\n * \t\t\tsignal: getAbortSignal()\n * \t\t});\n *\n * \t\treturn await response.json();\n * \t}\n *\n * \tconst data = $derived(await getData(id));\n * </script>\n * ```\n */\nexport function getAbortSignal() {\n\tif (active_reaction === null) {\n\t\te.get_abort_signal_outside_reaction();\n\t}\n\n\treturn (active_reaction.ac ??= new AbortController()).signal;\n}\n\n/**\n * `onMount`, like [`$effect`](https://svelte.dev/docs/svelte/$effect), schedules a function to run as soon as the component has been mounted to the DOM.\n * Unlike `$effect`, the provided function only runs once.\n *\n * It must be called during the component's initialisation (but doesn't need to live _inside_ the component;\n * it can be called from an external module). If a function is returned _synchronously_ from `onMount`,\n * it will be called when the component is unmounted.\n *\n * `onMount` functions do not run during [server-side rendering](https://svelte.dev/docs/svelte/svelte-server#render).\n *\n * @template T\n * @param {() => NotFunction<T> | Promise<NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tif (component_context === null) {\n\t\te.lifecycle_outside_component('onMount');\n\t}\n\n\tif (legacy_mode_flag && component_context.l !== null) {\n\t\tinit_update_callbacks(component_context).m.push(fn);\n\t} else {\n\t\tuser_effect(() => {\n\t\t\tconst cleanup = untrack(fn);\n\t\t\tif (typeof cleanup === 'function') return /** @type {() => void} */ (cleanup);\n\t\t});\n\t}\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tif (component_context === null) {\n\t\te.lifecycle_outside_component('onDestroy');\n\t}\n\n\tonMount(() => () => untrack(fn));\n}\n\n/**\n * @template [T=any]\n * @param {string} type\n * @param {T} [detail]\n * @param {any}params_0\n * @returns {CustomEvent<T>}\n */\nfunction create_custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs/svelte/legacy-on#Component-events).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: null; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * @deprecated Use callback props and/or the `$host()` rune instead  see [migration guide](https://svelte.dev/docs/svelte/v5-migration-guide#Event-changes-Component-events)\n * @template {Record<string, any>} [EventMap = any]\n * @returns {EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst active_component_context = component_context;\n\tif (active_component_context === null) {\n\t\te.lifecycle_outside_component('createEventDispatcher');\n\t}\n\n\t/**\n\t * @param [detail]\n\t * @param [options]\n\t */\n\treturn (type, detail, options) => {\n\t\tconst events = /** @type {Record<string, Function | Function[]>} */ (\n\t\t\tactive_component_context.s.$$events\n\t\t)?.[/** @type {string} */ (type)];\n\n\t\tif (events) {\n\t\t\tconst callbacks = is_array(events) ? events.slice() : [events];\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = create_custom_event(/** @type {string} */ (type), detail, options);\n\t\t\tfor (const fn of callbacks) {\n\t\t\t\tfn.call(active_component_context.x, event);\n\t\t\t}\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\n\t\treturn true;\n\t};\n}\n\n// TODO mark beforeUpdate and afterUpdate as deprecated in Svelte 6\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`.\n *\n * In runes mode use `$effect.pre` instead.\n *\n * @deprecated Use [`$effect.pre`](https://svelte.dev/docs/svelte/$effect#$effect.pre) instead\n * @param {() => void} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tif (component_context === null) {\n\t\te.lifecycle_outside_component('beforeUpdate');\n\t}\n\n\tif (component_context.l === null) {\n\t\te.lifecycle_legacy_only('beforeUpdate');\n\t}\n\n\tinit_update_callbacks(component_context).b.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`.\n *\n * In runes mode use `$effect` instead.\n *\n * @deprecated Use [`$effect`](https://svelte.dev/docs/svelte/$effect) instead\n * @param {() => void} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tif (component_context === null) {\n\t\te.lifecycle_outside_component('afterUpdate');\n\t}\n\n\tif (component_context.l === null) {\n\t\te.lifecycle_legacy_only('afterUpdate');\n\t}\n\n\tinit_update_callbacks(component_context).a.push(fn);\n}\n\n/**\n * Legacy-mode: Init callbacks object for onMount/beforeUpdate/afterUpdate\n * @param {ComponentContext} context\n */\nfunction init_update_callbacks(context) {\n\tvar l = /** @type {ComponentContextLegacy} */ (context).l;\n\treturn (l.u ??= { a: [], b: [], m: [] });\n}\n\nexport { flushSync } from './internal/client/reactivity/batch.js';\nexport { getContext, getAllContexts, hasContext, setContext } from './internal/client/context.js';\nexport { hydrate, mount, unmount } from './internal/client/render.js';\nexport { tick, untrack, settled } from './internal/client/runtime.js';\nexport { createRawSnippet } from './internal/client/dom/blocks/snippet.js';\n", "/** @import { Readable, StartStopNotifier, Subscriber, Unsubscriber, Updater, Writable } from '../public.js' */\n/** @import { Stores, StoresValues, SubscribeInvalidateTuple } from '../private.js' */\nimport { noop, run_all } from '../../internal/shared/utils.js';\nimport { safe_not_equal } from '../../internal/client/reactivity/equality.js';\nimport { subscribe_to_store } from '../utils.js';\n\n/**\n * @type {Array<SubscribeInvalidateTuple<any> | any>}\n */\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * @template T\n * @param {T} [value] initial value\n * @param {StartStopNotifier<T>} [start]\n * @returns {Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * @template T\n * @param {T} [value] initial value\n * @param {StartStopNotifier<T>} [start]\n * @returns {Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {Unsubscriber | null} */\n\tlet stop = null;\n\n\t/** @type {Set<SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\n\t/**\n\t * @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(/** @type {T} */ (value)));\n\t}\n\n\t/**\n\t * @param {Subscriber<T>} run\n\t * @param {() => void} [invalidate]\n\t * @returns {Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(/** @type {T} */ (value));\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * @template {Stores} S\n * @template T\n * @overload\n * @param {S} stores\n * @param {(values: StoresValues<S>, set: (value: T) => void, update: (fn: Updater<T>) => void) => Unsubscriber | void} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * @template {Stores} S\n * @template T\n * @overload\n * @param {S} stores\n * @param {(values: StoresValues<S>) => T} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\n/**\n * @template {Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\t/** @type {T[]} */\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = typeof result === 'function' ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe_to_store(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @template T\n * @param {Readable<T>} store  - store to make readonly\n * @returns {Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\t// @ts-expect-error TODO i suspect the bind is unnecessary\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * @template T\n * @param {Readable<T>} store\n * @returns {T}\n */\nexport function get(store) {\n\tlet value;\n\tsubscribe_to_store(store, (_) => (value = _))();\n\t// @ts-expect-error\n\treturn value;\n}\n", "import { Writable, writable } from \"svelte/store\";\nimport { deepCopy, isSame } from \"@svar-ui/lib-state\";\n\nfunction copy<T>(obj: T, deep: boolean): T {\n\tif (deep) return deepCopy(obj);\n\treturn { ...obj };\n}\n\ntype Store<T> = Writable<T> & { reset: (v: T) => void };\n\nexport function form<T>(\n\tv: T,\n\tchanges: (v: T) => void,\n\tconfig?: { debounce?: number; deepCopy: boolean }\n): Store<T> {\n\tconst deepCopyMode = config && config.deepCopy;\n\n\tlet ready = false;\n\tlet timer: ReturnType<typeof setTimeout> = null;\n\tconst store = writable(v) as Store<T>;\n\tconst { set } = store;\n\tlet base = copy(v, deepCopyMode);\n\n\tstore.set = function (nv) {\n\t\tif (!isSame(base, nv)) {\n\t\t\tbase = copy(nv, deepCopyMode);\n\t\t\tset(nv);\n\t\t}\n\t};\n\tstore.update = function (upd) {\n\t\tconst nv = upd(copy(base, deepCopyMode));\n\t\tif (!isSame(base, nv)) {\n\t\t\tbase = copy(nv, deepCopyMode);\n\t\t\tset(nv);\n\t\t}\n\t};\n\tstore.reset = function (v) {\n\t\tready = false;\n\t\tbase = {} as T;\n\t\tstore.set(v);\n\t};\n\tstore.subscribe(v => {\n\t\tif (ready) {\n\t\t\tif (v) {\n\t\t\t\tif (!config || !config.debounce) changes(v);\n\t\t\t\telse {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(() => changes(v), config.debounce);\n\t\t\t\t}\n\t\t\t}\n\t\t} else ready = true;\n\t});\n\n\treturn store;\n}\n", "import { on } from \"svelte/events\";\n\ninterface Env {\n\taddEvent: (\n\t\tnode: HTMLElement,\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject\n\t) => RemoveEventListener;\n\taddGlobalEvent: (\n\t\tevent: string,\n\t\thandler: EventListenerOrEventListenerObject\n\t) => RemoveEventListener;\n\tgetTopNode: () => HTMLElement;\n}\n\ntype RemoveEventListener = () => void;\n\nexport const env: Partial<Env> = {\n\taddEvent: on as undefined as Env[\"addEvent\"],\n};\n", "export { default as TextArea } from \"./components/TextArea.svelte\";\nexport { default as Button } from \"./components/Button.svelte\";\nexport { default as Checkbox } from \"./components/Checkbox.svelte\";\nexport { default as CheckboxGroup } from \"./components/CheckboxGroup.svelte\";\nexport { default as ColorSelect } from \"./components/ColorSelect.svelte\";\nexport { default as ColorBoard } from \"./components/ColorBoard.svelte\";\nexport { default as ColorPicker } from \"./components/ColorPicker.svelte\";\nexport { default as Combo } from \"./components/Combo.svelte\";\nexport { default as DatePicker } from \"./components/DatePicker.svelte\";\nexport { default as DateRangePicker } from \"./components/DateRangePicker.svelte\";\nexport { default as Fullscreen } from \"./components/Fullscreen.svelte\";\nexport { default as Icon } from \"./components/Icon.svelte\";\nexport { default as MultiCombo } from \"./components/MultiCombo.svelte\";\nexport { default as Popup } from \"./components/Popup.svelte\";\nexport { default as Dropdown } from \"./components/Dropdown.svelte\";\nexport { default as Pager } from \"./components/Pager.svelte\";\nexport { default as RadioButton } from \"./components/RadioButton.svelte\";\nexport { default as RadioButtonGroup } from \"./components/RadioButtonGroup.svelte\";\nexport { default as RichSelect } from \"./components/RichSelect.svelte\";\nexport { default as Segmented } from \"./components/Segmented.svelte\";\nexport { default as Select } from \"./components/Select.svelte\";\nexport { default as Slider } from \"./components/Slider.svelte\";\nexport { default as Switch } from \"./components/Switch.svelte\";\nexport { default as Tabs } from \"./components/Tabs.svelte\";\nexport { default as Text } from \"./components/Text.svelte\";\nexport { default as Counter } from \"./components/Counter.svelte\";\nexport { default as Globals } from \"./components/Globals.svelte\";\nexport { default as Field } from \"./components/Field.svelte\";\nexport { default as Calendar } from \"./components/Calendar.svelte\";\nexport { default as Month } from \"./components/calendar/Month.svelte\";\nexport { default as RangeCalendar } from \"./components/RangeCalendar.svelte\";\nexport { default as TimePicker } from \"./components/TimePicker.svelte\";\nexport { default as TwoState } from \"./components/TwoState.svelte\";\nexport { default as Modal } from \"./components/Modal.svelte\";\nexport { default as ModalArea } from \"./components/ModalArea.svelte\";\nexport { default as SideArea } from \"./components/SideArea.svelte\";\nexport { default as Portal } from \"./components/Portal.svelte\";\n\nexport { default as Material } from \"./themes/Material.svelte\";\nexport { default as Willow } from \"./themes/Willow.svelte\";\nexport { default as WillowDark } from \"./themes/WillowDark.svelte\";\n\nexport { default as Locale } from \"./Locale.svelte\";\nexport { locale } from \"@svar-ui/lib-dom\";\n\nexport { popupContainer } from \"./components/helpers\";\nexport { default as SuggestDropdown } from \"./components/helpers/SuggestDropdown.svelte\";\n\nexport { en } from \"@svar-ui/core-locales\";\n\nimport { setEnv } from \"@svar-ui/lib-dom\";\nimport { env } from \"@svar-ui/lib-svelte\";\nsetEnv(env);\n", "export function walkData(data, cb) {\n\tdata.forEach(a => {\n\t\tcb(a);\n\t\tif (a.data && a.data.length) walkData(a.data, cb);\n\t});\n}\n\nexport function mapData(data, cb) {\n\treturn data.map(a => {\n\t\tconst out = cb(a);\n\t\tif (a.data && a.data.length) out.data = mapData(a.data, cb);\n\t\treturn out;\n\t});\n}\n\nexport function filterMenu(data, cb) {\n\tconst out = [];\n\tdata.forEach(a => {\n\t\tif (a.data) {\n\t\t\tconst sub = filterMenu(a.data, cb);\n\t\t\tif (sub.length) out.push({ ...a, data: sub });\n\t\t} else {\n\t\t\tif (cb(a)) out.push(a);\n\t\t}\n\t});\n\n\treturn out;\n}\n\nlet uid = 1;\nexport function prepareMenuData(data) {\n\treturn mapData(data, a => {\n\t\t// [deprecated] option.type to be deprecated in 3.0\n\t\tconst opt = { ...a, id: a.id || uid++ };\n\t\tif (opt.type) opt.comp = opt.type;\n\t\treturn opt;\n\t});\n}\n\nconst handlers = {};\nexport function getItemHandler(type) {\n\treturn handlers[type] || type;\n}\nexport function registerMenuItem(type, handler) {\n\thandlers[type] = handler;\n}\n", "<script>\n\timport { getItemHandler } from \"../helpers\";\n\n\tlet { option, onclick, onshow } = $props();\n\n\tlet element;\n\tfunction onHover() {\n\t\tonshow(option.data ? option.id : false, element);\n\t}\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tbind:this={element}\n\tclass=\"wx-option {option.css || ''}\"\n\tclass:wx-disabled={option.disabled}\n\tdata-id={option.id}\n\tonmouseenter={onHover}\n\t{onclick}\n>\n\t{#if option.icon}<i class=\"wx-icon {option.icon}\"></i>{/if}\n\t{#if option.comp}\n\t\t{@const SvelteComponent = getItemHandler(option.comp)}\n\t\t<!-- [deprecated] item property will be deprecated in 3.0-->\n\t\t<SvelteComponent item={option} {option} />\n\t{:else}<span class=\"wx-value\"> {option.text} </span>{/if}\n\t{#if option.subtext}<span class=\"wx-subtext\">{option.subtext}</span>{/if}\n\t{#if option.data}<i class=\"wx-sub-icon wxi-angle-right\"></i>{/if}\n</div>\n\n<style>\n\t.wx-option {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbox-sizing: border-box;\n\t\theight: 36px;\n\t\tline-height: 36px;\n\t\tpadding: 2px 12px;\n\t\tfont-family: var(--wx-font-family);\n\t\tfont-weight: var(--wx-font-weight);\n\t\tfont-size: var(--wx-font-size);\n\t\tbackground-color: var(--wx-background);\n\t\tcursor: pointer;\n\t}\n\n\t.wx-option:hover {\n\t\tbackground: var(--wx-background-alt);\n\t}\n\n\t.wx-option:first-child {\n\t\tborder-top-left-radius: inherit;\n\t\tborder-top-right-radius: inherit;\n\t}\n\n\t.wx-option:last-child {\n\t\tborder-bottom-left-radius: inherit;\n\t\tborder-bottom-right-radius: inherit;\n\t}\n\n\t.wx-value {\n\t\tflex-grow: 1;\n\t\twhite-space: nowrap;\n\t\tcolor: var(--wx-color-font);\n\t}\n\t.wx-icon,\n\t.wx-sub-icon {\n\t\tvertical-align: middle;\n\t\theight: inherit;\n\t\tline-height: inherit;\n\t\tfont-size: var(--wx-icon-size);\n\t\tcolor: var(--wx-icon-color);\n\t}\n\n\t.wx-icon {\n\t\tmargin-right: 8px;\n\t}\n\n\t.wx-subtext {\n\t\tcolor: var(--wx-color-font-disabled);\n\t\tmargin-left: 20px;\n\t\twhite-space: nowrap;\n\t}\n\n\t.wx-disabled {\n\t\tpointer-events: none;\n\t}\n\t.wx-disabled .wx-value,\n\t.wx-disabled .wx-icon,\n\t.wx-disabled .wx-sub-icon {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n</style>\n", "<script>\n\timport Menu from \"./Menu.svelte\";\n\n\timport { clickOutside, calculatePosition } from \"@svar-ui/lib-dom\";\n\timport { onMount } from \"svelte\";\n\n\timport MenuOption from \"./MenuOption.svelte\";\n\timport { prepareMenuData } from \"../helpers\";\n\n\tlet {\n\t\toptions,\n\t\tleft = 0,\n\t\ttop = 0,\n\t\tat = \"bottom\",\n\t\tparent = null,\n\t\tmount = null,\n\t\tcontext = null,\n\t\tcss = \"\",\n\t\tonclick,\n\t} = $props();\n\n\tlet x = $state(-10000);\n\tlet y = $state(-10000);\n\tlet z = $state(20);\n\tlet width = $state();\n\n\tlet self = $state();\n\tlet showSub = $state(false);\n\tlet activeOption = $state(null);\n\n\tfunction updatePosition() {\n\t\tconst result = calculatePosition(self, parent, at, left, top);\n\t\tif (result) {\n\t\t\tx = result.x;\n\t\t\ty = result.y;\n\t\t\tz = result.z;\n\t\t\twidth = result.width;\n\t\t}\n\t}\n\n\t// unfortunately svelte doesn't guarantee that afterUpdate of child component\n\t// will be called after onMount in the parent one, so to be sure that Portal is already\n\t// moved menu to the correct parent we are registering single time handler\n\tif (mount) mount(updatePosition);\n\tonMount(updatePosition);\n\n\tfunction onLeave() {\n\t\tshowSub = false;\n\t}\n\tfunction cancel() {\n\t\t//[deprecated] action will be deprecated in 3.0\n\t\tonclick && onclick({ action: null, option: null });\n\t}\n\tfunction onshow(id, el) {\n\t\tshowSub = id;\n\t\tactiveOption = el;\n\t}\n\n\tconst finalOptions = $derived(prepareMenuData(options));\n\t$effect(() => {\n\t\tupdatePosition(parent);\n\t});\n</script>\n\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<div\n\tuse:clickOutside={{ callback: cancel, modal: true }}\n\tbind:this={self}\n\tdata-wx-menu=\"true\"\n\tclass=\"wx-menu {css}\"\n\tstyle=\"position:absolute;top:{y}px;left:{x}px;width:{width};z-index:{z}\"\n\tonmouseleave={onLeave}\n>\n\t{#each finalOptions as option (option.id)}\n\t\t{#if option.comp === \"separator\"}\n\t\t\t<div class=\"wx-separator\"></div>\n\t\t{:else}\n\t\t\t<MenuOption\n\t\t\t\t{option}\n\t\t\t\t{onshow}\n\t\t\t\tonclick={ev => {\n\t\t\t\t\tif (!option.data && !ev.defaultPrevented) {\n\t\t\t\t\t\t//[deprecated] action will be deprecated in 3.0\n\t\t\t\t\t\tconst pack = {\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\taction: option,\n\t\t\t\t\t\t\toption,\n\t\t\t\t\t\t\tevent: ev,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (option.handler) option.handler(pack);\n\t\t\t\t\t\tonclick && onclick(pack);\n\n\t\t\t\t\t\t// it is a rare case when we need to stop event bubbling\n\t\t\t\t\t\t// clicking on menu is isolated action which must not affect any other elements on the page\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t{/if}\n\t\t{#if option.data && showSub === option.id}\n\t\t\t<Menu\n\t\t\t\t{css}\n\t\t\t\toptions={option.data}\n\t\t\t\tat=\"right-overlap\"\n\t\t\t\tparent={activeOption}\n\t\t\t\t{context}\n\t\t\t\t{onclick}\n\t\t\t/>\n\t\t{/if}\n\t{/each}\n</div>\n\n<style>\n\t.wx-menu {\n\t\tposition: absolute;\n\t\tbox-shadow: var(--wx-shadow-light);\n\n\t\tmin-width: 125px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tz-index: 20;\n\t\tborder-radius: var(--wx-border-radius);\n\t\tbackground-color: var(--wx-background);\n\t\tpadding: 4px 0;\n\t}\n\n\t.wx-separator {\n\t\twidth: 100%;\n\t\tborder-top: var(--wx-border-medium);\n\t}\n</style>\n", "<script>\n\timport { Portal } from \"@svar-ui/svelte-core\";\n\timport { id } from \"@svar-ui/lib-dom\";\n\timport Menu from \"./Menu.svelte\";\n\timport { filterMenu } from \"../helpers\";\n\n\tlet {\n\t\toptions,\n\t\tat = \"bottom\",\n\t\tresolver = null,\n\t\tdataKey = \"contextId\",\n\t\tfilter = null,\n\t\tcss = \"\",\n\t\tchildren,\n\t\tonclick,\n\t} = $props();\n\n\tvar filteredOptions = $derived.by(() => {\n\t\tif (item !== null && filter) {\n\t\t\treturn filterMenu(options, v => filter(v, item));\n\t\t}\n\t\treturn options;\n\t});\n\n\tvar item = $state(null);\n\tvar parent = $state(null);\n\tlet left = $state(0),\n\t\ttop = $state(0);\n\n\tfunction onClick(ev) {\n\t\tparent = null;\n\t\tonclick && onclick(ev);\n\t}\n\tfunction getDataAttr(node, name) {\n\t\tlet v = null;\n\t\twhile (node && node.dataset && !v) {\n\t\t\tv = node.dataset[name];\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn v ? id(v) : null;\n\t}\n\n\texport function show(ev, obj) {\n\t\tif (!ev) {\n\t\t\tparent = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif (ev.defaultPrevented) return;\n\n\t\tconst target = ev.target;\n\t\tif (target && target.dataset && target.dataset.menuIgnore) return;\n\n\t\tleft = ev.clientX + 1;\n\t\ttop = ev.clientY + 1;\n\n\t\titem = typeof obj !== \"undefined\" ? obj : getDataAttr(target, dataKey);\n\t\tif (resolver) {\n\t\t\titem = resolver(item, ev);\n\t\t\tif (!item) return;\n\t\t}\n\n\t\tparent = target;\n\n\t\tev.preventDefault();\n\t}\n\n\t// about #key in markup below\n\t// we need to be sure that menu is closed before it is shown again\n\t// its the only way to reinit click-outside\n\t// otherwise, the menu will be hidden as click-ouside occurs after show call\n</script>\n\n{#if children}\n\t<!-- svelte-ignore a11y_click_events_have_key_events -->\n\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t<span onclick={show} data-menu-ignore=\"true\">\n\t\t{@render children?.()}\n\t</span>\n{/if}\n\n{#if parent}\n\t<Portal>\n\t\t{#snippet children({ mount })}\n\t\t\t{#key parent}\n\t\t\t\t<Menu\n\t\t\t\t\t{css}\n\t\t\t\t\t{at}\n\t\t\t\t\t{top}\n\t\t\t\t\t{left}\n\t\t\t\t\t{mount}\n\t\t\t\t\t{parent}\n\t\t\t\t\tcontext={item}\n\t\t\t\t\tonclick={onClick}\n\t\t\t\t\toptions={filteredOptions}\n\t\t\t\t/>\n\t\t\t{/key}\n\t\t{/snippet}\n\t</Portal>\n{/if}\n", "<script>\n\timport ActionMenu from \"./ActionMenu.svelte\";\n\timport { prepareMenuData } from \"../helpers\";\n\n\tlet menu;\n\tlet { css = \"\", menuCss = \"\", options, onclick } = $props();\n\n\tconst finalOptions = $derived(prepareMenuData(options));\n\n\tlet active = $state(false);\n\tlet menuOptions = $state([]);\n\n\tfunction doClick(ev) {\n\t\tactive = null;\n\t\tonclick && onclick(ev);\n\t}\n\n\tfunction setMenu(ev, option, trigger) {\n\t\t// if the option has a submenu, show it and enable hover mode\n\t\tif (option.data && option.data.length) {\n\t\t\tif (active && trigger) {\n\t\t\t\t// second click on option with submenu disables hover mode\n\t\t\t\tactive = null;\n\t\t\t} else {\n\t\t\t\tmenuOptions = option.data;\n\t\t\t\tactive = option.id;\n\t\t\t\tmenu.show(ev, option);\n\t\t\t}\n\t\t} else {\n\t\t\t// hide the submenu\n\t\t\tmenu.show(null);\n\t\t\t// if it was the click action, dispatch it and end hover mode\n\t\t\tif (trigger) {\n\t\t\t\t//[deprecated] action will be deprecated in 3.0\n\t\t\t\tonclick && onclick({ action: option, option });\n\t\t\t\tactive = null;\n\t\t\t} else {\n\t\t\t\t// do not remove active flag, to preserve the hover mode\n\t\t\t\tactive = -1;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onHover(ev, option) {\n\t\tif (active) setMenu(ev, option);\n\t}\n</script>\n\n<div class=\"wx-menubar {css}\">\n\t{#each finalOptions as option (option.id)}\n\t\t<button\n\t\t\tclass=\"wx-option {active === option.id ? 'wx-active' : ''}\"\n\t\t\tclass:wx-disabled={option.disabled}\n\t\t\tonmouseenter={ev => onHover(ev, option)}\n\t\t\tonclick={ev => setMenu(ev, option, true)}>{option.text}</button\n\t\t>\n\t{/each}\n</div>\n\n<ActionMenu\n\tcss={menuCss}\n\tonclick={doClick}\n\toptions={menuOptions}\n\tbind:this={menu}\n/>\n\n<style>\n\t.wx-menubar {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\twidth: -moz-fit-content;\n\t\twidth: fit-content;\n\t}\n\n\t.wx-option {\n\t\tbackground-color: transparent;\n\t\tborder: none;\n\t\tcolor: var(--wx-color-font);\n\t\tbox-sizing: border-box;\n\t\theight: 36px;\n\t\tline-height: 30px;\n\t\tpadding: 2px 12px;\n\t\tfont-family: var(--wx-font-family);\n\t\tfont-weight: var(--wx-font-weight);\n\t\tfont-size: var(--wx-font-size);\n\n\t\tcursor: pointer;\n\t\toutline: none;\n\t\twhite-space: nowrap;\n\t}\n\n\t.wx-active,\n\t.wx-option:hover {\n\t\tbackground-color: var(--wx-background-alt);\n\t\tborder-radius: var(--wx-button-border-radius);\n\t}\n\t.wx-disabled {\n\t\tpointer-events: none;\n\t}\n\t.wx-disabled {\n\t\tcolor: var(--wx-color-font-disabled);\n\t}\n</style>\n", "<script>\n\timport { Portal } from \"@svar-ui/svelte-core\";\n\timport Menu from \"./Menu.svelte\";\n\n\tlet { options, at = \"bottom\", css = \"\", children, onclick } = $props();\n\n\texport function show(ev) {\n\t\tparent = ev.target;\n\t\tev.preventDefault();\n\t}\n\n\tvar parent = $state(null);\n\tfunction onClick(ev) {\n\t\tparent = null;\n\t\tonclick && onclick(ev);\n\t}\n\tfunction showAt(ev) {\n\t\tlet target = ev.target;\n\t\twhile (!target.dataset.menuIgnore) {\n\t\t\tparent = target;\n\t\t\ttarget = target.parentNode;\n\t\t}\n\t}\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_no_static_element_interactions -->\n<span onclick={showAt} data-menu-ignore=\"true\">\n\t{@render children?.()}\n</span>\n{#if parent}\n\t<Portal>\n\t\t{#snippet children({ mount })}\n\t\t\t{#key parent}\n\t\t\t\t<Menu {css} {at} {mount} {parent} {options} onclick={onClick} />\n\t\t\t{/key}\n\t\t{/snippet}\n\t</Portal>\n{/if}\n", "<script>\n\timport ActionMenu from \"./ActionMenu.svelte\";\n\n\t// svelte-ignore non_reactive_update\n\tlet menu = null;\n\texport function show(ev, obj) {\n\t\tmenu.show(ev, obj);\n\t}\n\n\tlet {\n\t\toptions,\n\t\tat = \"bottom\",\n\t\tresolver = null,\n\t\tdataKey = \"contextId\",\n\t\tfilter = null,\n\t\tcss = \"\",\n\t\tchildren,\n\t\tonclick,\n\t} = $props();\n</script>\n\n{#if children}\n\t<!-- svelte-ignore a11y_no_static_element_interactions -->\n\t<span oncontextmenu={show} data-menu-ignore=\"true\">\n\t\t{@render children?.()}\n\t</span>\n{/if}\n\n<ActionMenu\n\t{css}\n\t{at}\n\t{options}\n\t{resolver}\n\t{dataKey}\n\t{filter}\n\tbind:this={menu}\n\t{onclick}\n/>\n", "export default {\n\tfilter: {\n\t\t\"Add filter\": \"Add filter\",\n\t\t\"Add group\": \"Add group\",\n\t\tEdit: \"Edit\",\n\t\tDelete: \"Delete\",\n\n\t\t\"Select all\": \"Select all\",\n\t\t\"Unselect all\": \"Unselect all\",\n\n\t\tCancel: \"Cancel\",\n\t\tApply: \"Apply\",\n\n\t\tand: \"and\",\n\t\tor: \"or\",\n\t\tin: \"in\",\n\n\t\tequal: \"equal\",\n\t\t\"not equal\": \"not equal\",\n\t\tcontains: \"contains\",\n\t\t\"not contains\": \"not contains\",\n\t\t\"begins with\": \"begins with\",\n\t\t\"not begins with\": \"not begins with\",\n\t\t\"ends with\": \"ends with\",\n\t\t\"not ends with\": \"not ends with\",\n\n\t\tgreater: \"greater\",\n\t\t\"greater or equal\": \"greater or equal\",\n\t\tless: \"less\",\n\t\t\"less or equal\": \"less or equal\",\n\t\tbetween: \"between\",\n\t\t\"not between\": \"not between\",\n\n\t\t\"Click to select\": \"Click to select\",\n\t\tNone: \"None\",\n\t\t\"filter by\": \"filter by\",\n\t},\n};\n", "var N=new Date().valueOf(),_=()=>N++,B=class{constructor(t){const e={id:0,$level:0,data:[],parent:null},s=new Map;s.set(0,e),this._pool=s,t&&t.length&&this.parse(t,0)}parse(t,e){const s=this._pool;for(let n=0;n<t.length;n++){const r=t[n];r.parent=r.parent||e,r.data=null,s.set(r.id,r)}for(let n=0;n<t.length;n++){const r=t[n],a=s.get(r.parent);a&&(a.data||(a.data=[]),a.data.push(r))}const i=s.get(e);this.setLevel(i,i.$level+1,!1)}add(t,e){const s=this._pool.get(t.parent||0);t.$level=s.$level+1,this._pool.set(t.id,t),s.data?e===-1?s.data=[...s.data,t]:x(s,e,t):s.data=[t]}addAfter(t,e){if(!e)return this.add(t,-1);const s=this.byId(e),i=this.byId(s.parent),n=g(i,s.id)+1;t.parent=i.id,t.$level=i.$level+1,this.add(t,n)}remove(t){const e=this._pool.get(t);this._remove(e);const s=this._pool.get(e.parent);s.data=s.data.filter(i=>i.id!=t),this._clearBranch(s)}_remove(t){t.data&&t.data.forEach(e=>this._remove(e)),this._pool.delete(t.id)}update(t,e){let s=this._pool.get(t);const i=this._pool.get(s.parent),n=g(i,s.id);s={...s,...e},i&&n>=0&&(i.data[n]=s,i.data=[...i.data]),this._pool.set(s.id,s)}move(t,e,s){const i=this._pool.get(t),n=e===\"child\",r=this._pool.get(s),a=r.$level+(n?1:0);if(!i||!r)return;const l=this._pool.get(i.parent),d=n?r:this._pool.get(r.parent);d.data||(d.data=[]);const o=g(l,i.id);z(l,o);const p=n?d.data.length:g(d,r.id)+(e===\"after\"?1:0);if(x(d,p,i),l.id===d.id&&o===p)return null;i.parent=d.id,i.$level!==a&&(i.$level=a,this.setLevel(i,a+1,!0)),this.update(i.id,i),this._clearBranch(l)}_clearBranch(t){t.data&&!t.data.length&&(t.open&&delete t.open,this.update(t.id,{data:null}))}toArray(){const t=[],e=this._pool.get(0).data;return e&&S(e,t),t}byId(t){return this._pool.get(t)}getBranch(t){return this._pool.get(t).data}forEach(t){this._pool.forEach((e,s)=>{s!==0&&t(e)})}eachChild(t,e){const s=this.byId(e);!s||!s.data||s.data.forEach((i,n)=>{t(this.byId(i.id),n),this.eachChild(t,i.id)})}setLevel(t,e,s){t.data&&(t.data=t.data.map(i=>(s&&(i={...i},this._pool.set(i.id,i)),i.$level=e,i.data&&this.setLevel(i,e+1,s),i)))}};function S(t,e){t.forEach(s=>{e.push(s),s.open===!0&&S(s.data,e)})}function z(t,e){const s=[...t.data];s.splice(e,1),t.data=s}function x(t,e,s){const i=[...t.data];i.splice(e,0,s),t.data=i}function g(t,e){return t?.data.findIndex(s=>s.id===e)}var m=2,M=class{constructor(t){t&&(this._writable=t.writable,this._async=t.async),this._values={},this._state={}}setState(t,e=0){const s={};return this._wrapProperties(t,this._state,this._values,\"\",s,e),s}getState(){return this._values}getReactive(){return this._state}_wrapProperties(t,e,s,i,n,r){for(const a in t){const l=e[a],d=s[a],o=t[a];if(l&&(d===o&&typeof o!=\"object\"||o instanceof Date&&d instanceof Date&&d.getTime()===o.getTime()))continue;const p=i+(i?\".\":\"\")+a;l?(l.__parse(o,p,n,r)&&(s[a]=o),r&m?n[p]=l.__trigger:l.__trigger()):(o&&o.__reactive?e[a]=this._wrapNested(o,o,p,n):e[a]=this._wrapWritable(o),s[a]=o),n[p]=n[p]||null}}_wrapNested(t,e,s,i){const n=this._wrapWritable(t);return this._wrapProperties(t,n,e,s,i,0),n.__parse=(r,a,l,d)=>(this._wrapProperties(r,n,e,a,l,d),!1),n}_wrapWritable(t){const e=[],s=function(){for(let i=0;i<e.length;i++)e[i](t)};return{subscribe:i=>(e.push(i),this._async?setTimeout(i,1,t):i(t),()=>{const n=e.indexOf(i);n>=0&&e.splice(n,1)}),__trigger:()=>{e.length&&(this._async?setTimeout(s,1):s())},__parse:function(i){return t=i,!0}}}},R=class{constructor(t,e,s,i){typeof t==\"function\"?this._setter=t:this._setter=t.setState.bind(t),this._routes=e,this._parsers=s,this._prev={},this._triggers=new Map,this._sources=new Map,this._routes.forEach(n=>{n.in.forEach(r=>{const a=this._triggers.get(r)||[];a.push(n),this._triggers.set(r,a)}),n.out.forEach(r=>{const a=this._sources.get(r)||{};n.in.forEach(l=>a[l]=!0),this._sources.set(r,a)})}),this._routes.forEach(n=>{n.length=Math.max(...n.in.map(r=>O(r,this._sources,1)))}),this._bus=i}init(t){const e={};for(const s in t)if(this._prev[s]!==t[s]){const i=this._parsers[s];e[s]=i?i(t[s]):t[s]}this._prev=this._prev?{...this._prev,...t}:{...t},this.setState(e),this._bus&&this._bus.exec(\"init-state\",e)}setStateAsync(t){const e=this._setter(t,m);return this._async?Object.assign(this._async.signals,e):this._async={signals:e,timer:setTimeout(this._applyState.bind(this),1)},e}_applyState(){const t=this._async;if(t){this._async=null,this._triggerUpdates(t.signals,[]);for(const e in t.signals){const s=t.signals[e];s&&s()}}}setState(t,e=[]){const s=this._setter(t);return this._triggerUpdates(s,e),s}_triggerUpdates(t,e){const s=Object.keys(t),i=!e.length;e=e||[];for(let n=0;n<s.length;n++){const r=s[n],a=this._triggers.get(r);a&&a.forEach(l=>{e.indexOf(l)==-1&&e.push(l)})}i&&this._execNext(e)}_execNext(t){for(;t.length;){t.sort((s,i)=>s.length<i.length?1:-1);const e=t[t.length-1];t.splice(t.length-1),e.exec(t)}}};function O(t,e,s){const i=e.get(t);if(!i)return s;const n=Object.keys(i).map(r=>O(r,e,s+1));return Math.max(...n)}var W=class{constructor(){this._nextHandler=null,this._handlers={},this._tag=new WeakMap,this.exec=this.exec.bind(this)}on(t,e,s){let i=this._handlers[t];i?s&&s.intercept?i.unshift(e):i.push(e):i=this._handlers[t]=[e],s&&s.tag&&this._tag.set(e,s.tag)}intercept(t,e,s){this.on(t,e,{...s,intercept:!0})}detach(t){for(const e in this._handlers){const s=this._handlers[e];for(let i=s.length-1;i>=0;i--)this._tag.get(s[i])===t&&s.splice(i,1)}}async exec(t,e){const s=this._handlers[t];if(s)for(let i=0;i<s.length;i++){const n=s[i](e);if(n===!1||n&&n.then&&await n===!1)return}return this._nextHandler&&await this._nextHandler.exec(t,e),e}setNext(t){return this._nextHandler=t}};const h=\"number\",u=\"text\",c=\"date\",f=\"tuple\",y=[{id:\"greater\",label:\"greater\",short:\">\",type:[h,c,f],handler:(t,e)=>t>e},{id:\"less\",label:\"less\",short:\"<\",type:[h,c,f],handler:(t,e)=>t<e},{id:\"greaterOrEqual\",label:\"greater or equal\",short:\">=\",type:[h,c,f],handler:(t,e)=>t>=e},{id:\"lessOrEqual\",label:\"less or equal\",short:\"<=\",type:[h,c,f],handler:(t,e)=>t<=e},{id:\"equal\",label:\"equal\",short:\"=\",type:[h,f],handler:(t,e)=>t==e},{id:\"equal\",label:\"equal\",short:\"=\",type:[u],handler:(t,e)=>t.toLowerCase()===e.toLowerCase()},{id:\"equal\",label:\"equal\",short:\"=\",default:!0,type:[c],handler:(t,e)=>!t||!e?!1:t.valueOf()===e.valueOf()},{id:\"notEqual\",label:\"not equal\",short:\"!=\",type:[h,f],handler:(t,e)=>t!=e},{id:\"notEqual\",label:\"not equal\",short:\"!=\",type:[u],handler:(t,e)=>t.toLowerCase()!==e.toLowerCase()},{id:\"notEqual\",label:\"not equal\",short:\"!=\",type:[c],handler:(t,e)=>!t||!e?!0:t.valueOf()!==e.valueOf()},{id:\"contains\",label:\"contains\",default:!0,type:[h,u],handler:(t,e)=>t.toString().toLowerCase().indexOf(e.toString().toLowerCase())!==-1},{id:\"notContains\",label:\"not contains\",type:[h,u],handler:(t,e)=>t.toString().toLowerCase().indexOf(e.toString().toLowerCase())===-1},{id:\"beginsWith\",label:\"begins with\",type:[h,u],handler:(t,e)=>(t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t.lastIndexOf(e,0)===0)},{id:\"notBeginsWith\",label:\"not begins with\",type:[h,u],handler:(t,e)=>(t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t.lastIndexOf(e,0)!==0)},{id:\"endsWith\",label:\"ends with\",type:[h,u],handler:(t,e)=>(t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t.indexOf(e,t.length-e.length)!==-1)},{id:\"notEndsWith\",label:\"not ends with\",type:[h,u],handler:(t,e)=>(t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t.indexOf(e,t.length-e.length)===-1)},{id:\"between\",label:\"between\",range:!0,type:[c],handler:(t,e)=>(!e.start||t>e.start)&&(!e.end||t<e.end)},{id:\"notBetween\",label:\"not between\",range:!0,type:[c],handler:(t,e)=>!e.start||t<=e.start||!e.end||t>=e.end}];function v(t){return typeof t>\"u\"?y:y.filter(e=>e.type.indexOf(t)!==-1)}function b(t,e){e=e||u;let s=y.filter(i=>i.id===t);return s.length>1&&(s=s.filter(i=>i.type.indexOf(e)!==-1)),s[0]}class F extends B{constructor(e){super(),this.parseRules(e)}getRoot(){return this.getBranch(0)[0]}parseRules(e){this.parse(A(e),0)}remove(e){let s=this.byId(e);for(super.remove(e);s.parent;)s=this.byId(s.parent),s.parent&&!s.data&&super.remove(s.id)}serialize(){const e=this.getBranch(0)[0];return E(e)}}function A(t){const e=[];return C([t],0,e),e}function C(t,e,s){t.forEach(i=>{const n={...i,parent:e,id:_(),$level:0};s.push(n),i.rules&&C(i.rules,n.id,s)})}function E(t){if(t.data&&t.data.length)return{glue:t.glue,rules:t.data.map(E).filter(e=>e!==null)};{const e={field:t.field};if(t.filter&&(e.filter=t.filter,e.value=t.value,e.type=t.type),t.includes&&(e.includes=[...t.includes]),t.predicate&&(e.predicate=t.predicate),t.filter&&(!t.includes||!t.includes.length)){const s=b(t.filter,t.type);if(!j(t.value,s.type))return null}return e}}const D={[h]:P,[c]:T,[u]:()=>!0,[f]:()=>!0};function j(t,e){for(let s=0;s<e.length;s++)if(D[e[s]](t))return!0;return!1}function P(t){return!isNaN(parseFloat(t))}function T(t){return t&&(t.start||t)instanceof Date}class H extends M{in;_router;constructor(e){super({writable:e,async:!1});const s=this.in=new W;this._router=new R(super.setState.bind(this),[],{value:i=>new F(i)}),s.on(\"edit-rule\",({id:i})=>{const{value:n,_editor:r}=this.getState();if(r&&(!i||i!=r.id)){const a=n.byId(r.id);(a.$temp||!a.includes&&!a.value)&&(n.remove(r.id),this.setState({value:n}))}i?this.setState({_editor:{id:i}}):this.setState({_editor:null})}),s.on(\"delete-rule\",({id:i})=>{const{value:n}=this.getState();n.byId(i)&&(n.remove(i),this.onChange(n),this.setState({value:n}))}),s.on(\"add-rule\",({after:i,rule:n,edit:r})=>{const{value:a}=this.getState();!i&&!n.parent&&(n.parent=a.getBranch(0)[0].id),a.addAfter(this._fixRule(n),i),this.setState({value:a}),r&&s.exec(\"edit-rule\",{id:n.id})}),s.on(\"add-group\",({after:i,rule:n,edit:r})=>{const{value:a}=this.getState(),l={id:_(),glue:\"and\"};a.addAfter(l,i),n=this._fixRule(n),n.parent=l.id,a.add(n,0),this.setState({value:a}),r&&s.exec(\"edit-rule\",{id:n.id})}),s.on(\"toggle-glue\",({id:i})=>{const{value:n}=this.getState();n.update(i,{glue:n.byId(i).glue===\"and\"?\"or\":\"and\"}),this.onChange(n),this.setState({value:n})}),s.on(\"update-rule\",({id:i,rule:n})=>{const{value:r}=this.getState();n.$temp=!1,r.update(i,n),this.onChange(r),this.setState({value:r})})}onChange(e){const s=e.serialize();this.in.exec(\"change\",{value:s})}init(e){e.value=this.normalizeValue(e.value,e.fields),e.options=this.normalizeOptions(e.options),this._router.init({_editor:null,...e})}setState(e,s){return this._router.setState(e,s)}getValue(){return this.getState().value.serialize()}normalizeOptions(e){return typeof e==\"function\"?e:e&&typeof e==\"object\"?s=>e[s]||[]:null}normalizeValue(e,s){return{glue:e.glue||\"and\",rules:e.rules?e.rules.map(i=>{if(i.field){const n=i,r={...n};if(!r.type||!r.predicate){const a=s.find(l=>l.id===n.field);r.type=n.type??a.type,a.predicate&&(r.predicate=a.predicate)}return r.includes=n.includes?[...n.includes]:[],r.filter=n.filter??v(r.type).find(a=>a.default).id,r}return i.rules?this.normalizeValue(i,s):i}):[]}}_fixRule(e){const{fields:s}=this.getState();e.id=e.id||_(),e.field||(e.field=s[0].id);const i=s.find(({id:n})=>n===e.field);if(e.filter||(e.filter=v(i.type).find(n=>n.default).id,e.type=i.type,e.value=\"\"),!e.predicate){const n=s.find(r=>r.id===e.field).predicate;n&&(e.predicate=n)}return e.includes||(e.includes=[]),e}}const L=t=>t,q=(t,e)=>t-e,I={month:t=>t.getMonth(),year:t=>t.getFullYear()};function V(t){return e=>{for(let s=0;s<t.length;s++)if(t[s](e))return!0;return!1}}function k(t){return e=>{for(let s=0;s<t.length;s++)if(!t[s](e))return!1;return!0}}const U={or:V,and:k};function Y(t,e){const s=w(t,{orNull:!0});return s===null?e&&e.orNull?null:i=>i:i=>i.filter(s)}function w(t,e){let s=[];return t&&t.rules&&(t.rules.forEach(i=>{i.rules?s.push(w(i)):s.push(G(i))}),s=s.filter(i=>i!==null)),s.length?U[t.glue||\"and\"](s):e&&e.orNull?null:()=>!0}function G(t){const e=I[t.predicate]||L;if(t.includes&&t.includes.length)return s=>t.includes.includes(e(s[t.field]));if(t.filter){const s=b(t.filter,t.type).handler;return i=>s(e(i[t.field]),t.value)}return null}function J(t,e,s){return s?{glue:\"or\",rules:t.map(i=>({field:i.id,type:i.type||\"text\",filter:e,value:s}))}:null}function $(t,e,s){const i=new Set,n=[],r=s&&s.predicate?I[s.predicate]:L;if(t.forEach(a=>{const l=r(a[e]);(l||l===0)&&(i.has(l)||(i.add(l),n.push(l)))}),!s||s.sort!==!1){let a;s?a=s.sort||(s.type===\"date\"||s.type===\"number\"?q:null):n.length&&(typeof n[0]==\"number\"||n[0]instanceof Date)&&(a=q),typeof a==\"function\"?n.sort(a):n.sort()}return n}function K(t,e){const s={};if(!e&&!t.length)return s;if(!e){e=[];for(const i in t[0])e.push({id:i})}return e.forEach(i=>{Object.defineProperty(s,i.id,{get:()=>$(t,i.id.toString(),i)})}),s}export{H as DataStore,Y as createArrayFilter,w as createFilter,J as createFilterRule,b as getFilter,v as getFilters,$ as getOptions,K as getOptionsMap};\n", "<script>\n\t/* eslint-disable no-bitwise */\n\n\timport {\n\t\tRichSelect,\n\t\tText,\n\t\tButton,\n\t\tDatePicker,\n\t\tCheckbox,\n\t\tDateRangePicker,\n\t\tCombo,\n\t} from \"@svar-ui/svelte-core\";\n\timport { getFilters, getFilter } from \"@svar-ui/filter-store\";\n\timport { dateToString } from \"@svar-ui/lib-dom\";\n\timport { getContext, setContext, onMount, untrack } from \"svelte\";\n\n\tlet {\n\t\tfields = null,\n\t\tfieldsSelector = true,\n\t\tfield = null,\n\t\tbuttons = true,\n\t\toptions = null,\n\t\tincludes = null,\n\t\ttype = \"text\",\n\t\tfilter = \"\",\n\t\tvalue = \"\",\n\t\tformat = null,\n\t\tpredicate = null,\n\t\tonapply,\n\t\toncancel,\n\t\tonchange,\n\t} = $props();\n\n\tconst locale = getContext(\"wx-i18n\");\n\tconst l = locale.getRaw();\n\tconst f = l.filter?.dateFormat || l.formats?.dateFormat;\n\tconst dateFormat = dateToString(f, l.calendar);\n\tconst _ = locale.getGroup(\"filter\");\n\n\tsetContext(\"wx-input-id\", null);\n\n\t// signal constants for each kind of modification\n\tconst ACTION_FIELD_CHANGE = 1;\n\tconst ACTION_FILTER_CHANGE = 2;\n\tconst ACTION_VALUE_CHANGE = 4;\n\tconst ACTION_INCLUDES_CHANGE = 8;\n\tconst ACTION_TYPE_CHANGE = 16;\n\tconst ACTION_CHANGE = 32;\n\tconst ACTION_OPTIONS_CHANGE = 64;\n\n\tlet _filter = $state(),\n\t\t_field = $state(),\n\t\t_type = $state(),\n\t\t_value = $state(),\n\t\t_includes = $state([]),\n\t\t_options = $state(),\n\t\t_format = $state(),\n\t\t_predicate = $state(),\n\t\tready = $state(false),\n\t\ts = 0;\n\n\tlet providedOptions = $state(null);\n\tasync function loadOptions(field) {\n\t\tif (!options || typeof options !== \"function\") return;\n\n\t\tconst result = await options(field);\n\t\tprovidedOptions = result || [];\n\t}\n\n\t// trigger recalculation on change of incoming parameters\n\t$effect(() => {\n\t\tfield;\n\t\tif (ready)\n\t\t\tuntrack(() => execSignal(setState(ACTION_FIELD_CHANGE, field)));\n\t});\n\t$effect(() => {\n\t\ttype;\n\t\tif (ready)\n\t\t\tuntrack(() => execSignal(setState(ACTION_TYPE_CHANGE, type)));\n\t});\n\t$effect(() => {\n\t\tfilter;\n\t\tif (ready)\n\t\t\tuntrack(() => execSignal(setState(ACTION_FILTER_CHANGE, filter)));\n\t});\n\t$effect(() => {\n\t\tvalue;\n\t\tif (ready) untrack(() => setState(ACTION_VALUE_CHANGE, value));\n\t});\n\t$effect(() => {\n\t\tincludes;\n\t\tif (ready)\n\t\t\tuntrack(() =>\n\t\t\t\texecSignal(setState(ACTION_INCLUDES_CHANGE, includes))\n\t\t\t);\n\t});\n\t$effect(() => {\n\t\tconst currOptions = Array.isArray(options) ? options : providedOptions;\n\t\tif (ready)\n\t\t\tuntrack(() =>\n\t\t\t\texecSignal(setState(ACTION_OPTIONS_CHANGE, currOptions))\n\t\t\t);\n\t});\n\t$effect(() => {\n\t\tif (format && !fields) _format = format;\n\t\tif (predicate && !fields) _predicate = predicate;\n\t});\n\n\t// delay recalculation till the component fully ready\n\t// without it the request-options signal will be ignored\n\tonMount(() => {\n\t\tready = true;\n\t});\n\n\t// bind new values to local vars\n\t// store the signal for the next recalculation\n\tconst arr2str = v => (v ? v.toString() : \"\");\n\tfunction setState(signal, value) {\n\t\tswitch (signal) {\n\t\t\tcase ACTION_FIELD_CHANGE:\n\t\t\t\tif (_field !== value) {\n\t\t\t\t\t_field = value;\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ACTION_TYPE_CHANGE:\n\t\t\t\tif (_type !== value) {\n\t\t\t\t\t_type = value;\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ACTION_FILTER_CHANGE:\n\t\t\t\tif (_filter !== value) {\n\t\t\t\t\t_filter = value;\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ACTION_VALUE_CHANGE:\n\t\t\t\tif (_value !== value) {\n\t\t\t\t\t_value = value;\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ACTION_INCLUDES_CHANGE:\n\t\t\t\tif (arr2str(_includes) != arr2str(value)) {\n\t\t\t\t\t_includes = value || [];\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase ACTION_OPTIONS_CHANGE:\n\t\t\t\tif (_options !== value) {\n\t\t\t\t\t_options = value || [];\n\t\t\t\t\treturn signal;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\treturn 0;\n\t}\n\n\t// collect signal values, recalculate and dispatch\n\tlet timer = null;\n\tfunction execSignal(signal) {\n\t\ts = s | signal;\n\t\tif (!timer) {\n\t\t\t// use a delay to collect all changes from incoming parameters\n\t\t\ttimer = setTimeout(() => {\n\t\t\t\tconst v = s;\n\t\t\t\ttimer = null;\n\t\t\t\ts = 0;\n\t\t\t\trunSignal(v);\n\t\t\t});\n\t\t}\n\t}\n\n\tlet allSelected = $state(),\n\t\tvisibleValues = $state([]),\n\t\trule = $state(),\n\t\trules = $state();\n\n\tfunction runSignal(s) {\n\t\tif (s & ACTION_FIELD_CHANGE) {\n\t\t\t// if fields are defined, get field type\n\t\t\tif (fields) {\n\t\t\t\t_options = null;\n\t\t\t\tconst nextField = fields.find(a => a.id === _field);\n\t\t\t\tconst isDate =\n\t\t\t\t\t_value instanceof Date ||\n\t\t\t\t\t(_value && typeof _value === \"object\");\n\t\t\t\tconst isTuple = nextField.type === \"tuple\" || _type == \"tuple\";\n\t\t\t\tif (\n\t\t\t\t\t(isDate && nextField.type !== \"date\") ||\n\t\t\t\t\t(!isDate && nextField.type == \"date\") ||\n\t\t\t\t\t(isNaN(_value) && nextField.type == \"number\") ||\n\t\t\t\t\tisTuple\n\t\t\t\t) {\n\t\t\t\t\t_value = null;\n\t\t\t\t} else if (\n\t\t\t\t\tnextField.type === \"text\" &&\n\t\t\t\t\ttypeof _value !== \"string\"\n\t\t\t\t) {\n\t\t\t\t\t_value = _value || _value === 0 ? _value.toString() : \"\";\n\t\t\t\t}\n\t\t\t\t_format = nextField.format;\n\t\t\t\t_predicate = nextField.predicate;\n\n\t\t\t\ts = s | setState(ACTION_TYPE_CHANGE, nextField.type || \"text\");\n\n\t\t\t\tloadOptions(_field);\n\t\t\t}\n\t\t}\n\n\t\tif (s & ACTION_TYPE_CHANGE) {\n\t\t\t// set list of filtering rules for current type\n\t\t\trules = getFilters(_type).map(a => ({\n\t\t\t\tid: a.id,\n\t\t\t\tlabel: _(a.label || a.id),\n\t\t\t}));\n\t\t\t// validate if current filter is applicable for current type\n\t\t\t// if not, reset filter to null to trigger default filter selection\n\t\t\tif (!rules.some(rule => rule?.id === _filter)) {\n\t\t\t\t_filter = null;\n\t\t\t}\n\t\t}\n\n\t\tif (s & ACTION_TYPE_CHANGE || s & ACTION_FILTER_CHANGE) {\n\t\t\t// actualize rule\n\t\t\t// same id can result in different rules for different types\n\t\t\trule = getFilter(_filter, _type);\n\t\t\tif (!rule) {\n\t\t\t\trule = getFilters(_type).find(a => a.default);\n\t\t\t\ts = s | setState(ACTION_FILTER_CHANGE, rule.id);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof _value === \"object\" &&\n\t\t\t\t!(_value instanceof Date) &&\n\t\t\t\t!rule.range\n\t\t\t) {\n\t\t\t\ts =\n\t\t\t\t\ts |\n\t\t\t\t\tsetState(ACTION_VALUE_CHANGE, _type === \"date\" ? null : \"\");\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\ts & ACTION_FILTER_CHANGE ||\n\t\t\ts & ACTION_VALUE_CHANGE ||\n\t\t\ts & ACTION_OPTIONS_CHANGE\n\t\t) {\n\t\t\tif (_options) {\n\t\t\t\t// build match option function\n\t\t\t\tconst handler =\n\t\t\t\t\t_value || _value === 0\n\t\t\t\t\t\t? v => rule.handler(v, _value || \"\")\n\t\t\t\t\t\t: null;\n\n\t\t\t\t// list of matching options\n\t\t\t\tvisibleValues =\n\t\t\t\t\t_filter && handler ? _options.filter(handler) : _options;\n\n\t\t\t\t// if we have list of includes, ensure that they are in the list\n\t\t\t\tlet nextIncs = _includes;\n\t\t\t\tif (_includes.length) {\n\t\t\t\t\tnextIncs = _includes.filter(x => visibleValues.includes(x));\n\t\t\t\t}\n\n\t\t\t\tif (nextIncs.length) {\n\t\t\t\t\t// not all options in the list, update includes\n\t\t\t\t\tif (nextIncs.length !== _includes.length) {\n\t\t\t\t\t\ts = s | setState(ACTION_INCLUDES_CHANGE, nextIncs);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// there are no includes, switch back to select all visible values\n\t\t\t\t\ts =\n\t\t\t\t\t\ts |\n\t\t\t\t\t\tsetState(ACTION_INCLUDES_CHANGE, [...visibleValues]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvisibleValues = [];\n\t\t\t}\n\t\t}\n\n\t\tif (s & ACTION_INCLUDES_CHANGE) {\n\t\t\t// correct all-selected button state\n\t\t\tallSelected = _includes.length === visibleValues.length;\n\t\t}\n\n\t\tif (s & ACTION_CHANGE) {\n\t\t\t// dispatch change signal when any of the parameters changed through UI\n\t\t\tconst rule = getRule();\n\t\t\tonchange && onchange({ value: rule });\n\t\t}\n\t}\n\n\t// is all options checked or not\n\tfunction doApply() {\n\t\tconst rule = getRule();\n\t\tonapply && onapply({ value: rule });\n\t}\n\n\tfunction doCancel() {\n\t\toncancel && oncancel();\n\t}\n\n\t// select-all button clicked\n\tfunction toggleAll() {\n\t\tallSelected = !allSelected;\n\t\texecSignal(\n\t\t\tsetState(\n\t\t\t\tACTION_INCLUDES_CHANGE,\n\t\t\t\tallSelected ? [...visibleValues] : []\n\t\t\t) | ACTION_CHANGE\n\t\t);\n\t}\n\n\t// click on option in the list\n\tfunction handleChange(ev) {\n\t\tconst { inputValue, value } = ev;\n\t\tconst next = value\n\t\t\t? [..._includes, inputValue]\n\t\t\t: _includes.filter(a => a != inputValue);\n\t\texecSignal(setState(ACTION_INCLUDES_CHANGE, next) | ACTION_CHANGE);\n\t}\n\n\t// text value changed\n\tfunction changeValue({ value }) {\n\t\tif (value === \"$empty\") value = \"\";\n\t\texecSignal(setState(ACTION_VALUE_CHANGE, value) | ACTION_CHANGE);\n\t}\n\n\t// different field selected\n\tfunction changeField({ value }) {\n\t\texecSignal(setState(ACTION_FIELD_CHANGE, value) | ACTION_CHANGE);\n\t}\n\n\t// different filter selected\n\tfunction changeFilter({ value }) {\n\t\texecSignal(setState(ACTION_FILTER_CHANGE, value) | ACTION_CHANGE);\n\t}\n\n\t// collect info and return new config object\n\tfunction getRule() {\n\t\tconst out = {\n\t\t\tfilter: _filter,\n\t\t\tvalue: _value,\n\t\t\ttype: _type,\n\t\t};\n\n\t\tif (_predicate) out.predicate = _predicate;\n\n\t\tif (_field) out.field = _field;\n\n\t\tif (\n\t\t\t_includes &&\n\t\t\t_includes.length &&\n\t\t\t_includes.length !== visibleValues.length\n\t\t)\n\t\t\tout.includes = [..._includes];\n\t\telse out.includes = [];\n\n\t\treturn out;\n\t}\n\n\tfunction getLabel(v) {\n\t\tif (_format && typeof _format == \"function\") return _format(v);\n\t\tif (v instanceof Date)\n\t\t\treturn _format\n\t\t\t\t? dateToString(_format, l.calendar)(v)\n\t\t\t\t: dateFormat(v);\n\t\treturn typeof v === \"string\" ? v : v.toString();\n\t}\n\tfunction getComboOptions(options) {\n\t\tlet arr = options\n\t\t\t? options.map(op => ({ id: op, label: getLabel(op) }))\n\t\t\t: [];\n\t\treturn [{ id: \"$empty\", label: \"\", emptyLabel: _(\"None\") }].concat(arr);\n\t}\n\n\tlet input = $state();\n\t$effect(() => {\n\t\tif (_field && input) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tinput.querySelector(\"input\").focus();\n\t\t\t}, 1);\n\t\t}\n\t});\n</script>\n\n<div class=\"wx-filter-editor\">\n\t{#if fields && fieldsSelector}\n\t\t<RichSelect onchange={changeField} options={fields} value={_field} />\n\t{/if}\n\t<div class=\"wx-wrapper\">\n\t\t<div class=\"wx-cell\">\n\t\t\t<RichSelect\n\t\t\t\tonchange={changeFilter}\n\t\t\t\toptions={rules}\n\t\t\t\tvalue={_filter}\n\t\t\t\tplaceholder={_(\"Click to select\")}\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"wx-cell\" bind:this={input}>\n\t\t\t{#if _type === \"date\"}\n\t\t\t\t{#if _filter == \"between\" || _filter == \"notBetween\"}\n\t\t\t\t\t<DateRangePicker\n\t\t\t\t\t\tformat={f}\n\t\t\t\t\t\tvalue={_value}\n\t\t\t\t\t\tbuttons={[\"done\", \"clear\", \"today\"]}\n\t\t\t\t\t\tonchange={changeValue}\n\t\t\t\t\t/>\n\t\t\t\t{:else}\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tformat={f}\n\t\t\t\t\t\tvalue={_value}\n\t\t\t\t\t\tonchange={changeValue}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\t\t\t{:else if _type === \"number\"}\n\t\t\t\t<Text value={_value} onchange={changeValue} type=\"number\" />\n\t\t\t{:else if _type === \"tuple\"}\n\t\t\t\t<Combo\n\t\t\t\t\tvalue={_value}\n\t\t\t\t\toptions={getComboOptions(_options)}\n\t\t\t\t\tonchange={changeValue}\n\t\t\t\t>\n\t\t\t\t\t{#snippet children({ option })}\n\t\t\t\t\t\t{option.emptyLabel || option.label}\n\t\t\t\t\t{/snippet}\n\t\t\t\t</Combo>\n\t\t\t{:else}\n\t\t\t\t<Text value={_value} onchange={changeValue} />\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n\n\t<Button onclick={toggleAll}>\n\t\t{allSelected ? _(\"Unselect all\") : _(\"Select all\")}\n\t</Button>\n\t<div class=\"wx-list\" role=\"listbox\">\n\t\t{#each visibleValues as option, i}\n\t\t\t<!-- svelte-ignore a11y_role_has_required_aria_props -->\n\t\t\t<div class=\"wx-item\" tabindex={i ? -1 : 0} role=\"option\">\n\t\t\t\t<Checkbox\n\t\t\t\t\tlabel={getLabel(option)}\n\t\t\t\t\tinputValue={option}\n\t\t\t\t\tvalue={_includes && _includes.includes(option)}\n\t\t\t\t\tonchange={handleChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n\n\t{#if buttons}\n\t\t<div class=\"wx-wrapper\">\n\t\t\t<Button type={\"secondary\"} onclick={doCancel}>{_(\"Cancel\")}</Button>\n\t\t\t<Button type={\"primary\"} onclick={doApply}>{_(\"Apply\")}</Button>\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.wx-filter-editor {\n\t\t--wx-input-border: var(--wx-filter-border);\n\t}\n\t.wx-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: right;\n\t\tgap: 10px;\n\t\talign-items: center;\n\t\tmargin: 8px 0;\n\t}\n\n\t.wx-cell {\n\t\tflex: 1;\n\t}\n\n\t.wx-list {\n\t\theight: 150px;\n\t\toverflow-y: auto;\n\t\tmargin: 8px 0;\n\t\tborder: var(--wx-filter-border);\n\t}\n\n\t.wx-item {\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t\tpadding: 8px 12px;\n\t\tborder-bottom: var(--wx-filter-border);\n\t}\n\n\t.wx-item :global(label > span + span) {\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n</style>\n", "<script>\n\timport { Locale } from \"@svar-ui/svelte-core\";\n\timport { en } from \"@svar-ui/filter-locales\";\n\timport Layout from \"./Layout.svelte\";\n\n\tlet { ...props } = $props();\n</script>\n\n<Locale words={en} optional={true}>\n\t<Layout {...props} />\n</Locale>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport FilterEditor from \"./FilterEditor.svelte\";\n\n\tlet { rule, type } = $props();\n\n\tconst includes =\n\t\trule.includes && rule.includes.length ? rule.includes : null;\n\tconst filter = rule.filter || \"contains\";\n\tconst value = rule.value || \"\";\n\tconst field = rule.field;\n\tconst id = rule.id;\n\n\tconst api = getContext(\"filter-store\");\n\n\tconst { fields, options } = api.getReactiveState();\n\n\tfunction doApply({ value }) {\n\t\tapi.exec(\"update-rule\", { id, rule: value });\n\t\tdoCancel();\n\t}\n\n\tfunction doCancel() {\n\t\tapi.exec(\"edit-rule\", {});\n\t}\n\n\tfunction doChange({ value }) {\n\t\tapi.exec(\"change-rule\", { id, rule: value });\n\t}\n</script>\n\n<div class=\"wx-panel\">\n\t<FilterEditor\n\t\tfieldsSelector={type !== \"simple\"}\n\t\tfields={$fields}\n\t\t{field}\n\t\toptions={$options}\n\t\t{includes}\n\t\t{filter}\n\t\t{value}\n\t\tonapply={doApply}\n\t\toncancel={doCancel}\n\t\tonchange={doChange}\n\t/>\n</div>\n\n<style>\n\t.wx-panel {\n\t\tpadding-top: 15px;\n\t}\n</style>\n", "<script>\n\timport { getFilter } from \"@svar-ui/filter-store\";\n\timport { dateToString } from \"@svar-ui/lib-dom\";\n\timport { getContext } from \"svelte\";\n\n\tlet { filter, field, type = \"list\", action = \"menu\" } = $props();\n\n\tconst noChange = v => v;\n\tconst locale = getContext(\"wx-i18n\");\n\tconst l = locale.getRaw();\n\tconst f = field?.format || l.filter?.dateFormat || l.formats.dateFormat;\n\n\tlet _format = $derived(\n\t\ttypeof f === \"function\"\n\t\t\t? f\n\t\t\t: field.type === \"date\"\n\t\t\t\t? dateToString(f, l.calendar)\n\t\t\t\t: noChange\n\t);\n\n\tconst _ = locale.getGroup(\"filter\");\n\n\tlet rule = $state(),\n\t\tfilterValue = $state();\n\t$effect(() => {\n\t\tfilterValue = filter.value;\n\t\trule = filter.filter ? getFilter(filter.filter, filter.type) : null;\n\t});\n</script>\n\n<!-- svelte-ignore a11y_no_noninteractive_tabindex -->\n<div class=\"wx-rule wx-{type}\" data-id={filter.id}>\n\t<span class=\"wx-filter\">\n\t\t<span class=\"wx-field\">{field.label}</span>\n\t\t{#if filter.includes && filter.includes.length}\n\t\t\t{_(\"in\")}\n\t\t\t{#each filter.includes as value, i (value)}\n\t\t\t\t<span class=\"wx-value\">{_format(value)}</span>\n\t\t\t\t{#if i < filter.includes.length - 1}\n\t\t\t\t\t,&nbsp;\n\t\t\t\t{/if}\n\t\t\t{/each}\n\t\t{:else if filter.filter && (filterValue || filterValue === 0)}\n\t\t\t{_(rule.short || rule.label) || rule.id}\n\t\t\t{#if field.type === \"date\"}\n\t\t\t\t{#if filterValue.start}\n\t\t\t\t\t<span class=\"wx-value\">{_format(filterValue.start)}</span>\n\t\t\t\t\t{_(\"and\")}\n\t\t\t\t\t<span class=\"wx-value\">{_format(filterValue.end)}</span>\n\t\t\t\t{:else}<span class=\"wx-value\">{_format(filterValue)}</span>{/if}\n\t\t\t{:else}<span class=\"wx-value\">{_format(filterValue)}</span>{/if}\n\t\t{/if}\n\t</span>\n\t<i\n\t\tclass=\"wxi-{action === 'menu' ? 'dots-v' : action} wx-menu-icon\"\n\t\trole=\"button\"\n\t\tdata-action={action}\n\t></i>\n</div>\n\n<style>\n\t.wx-rule {\n\t\tbackground: var(--wx-background-alt);\n\t\tborder-radius: var(--wx-border-radius);\n\t\twhite-space: nowrap;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.wx-rule.wx-list {\n\t\tpadding: 12px 8px;\n\t\tmargin: 10px 0;\n\t}\n\t.wx-rule.wx-line {\n\t\theight: 36px;\n\t\tpadding: 8px;\n\t}\n\n\t.wx-field {\n\t\tfont-weight: var(--wx-font-weight-md);\n\t}\n\n\t.wx-filter {\n\t\tdisplay: inline-block;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmargin-right: 45px;\n\t}\n\n\t.wx-value {\n\t\tcolor: var(--wx-filter-value-color);\n\t}\n\n\t.wx-menu-icon {\n\t\tposition: absolute;\n\t\tright: 8px;\n\t\tcursor: pointer;\n\t\twidth: var(--wx-line-height);\n\t\theight: var(--wx-line-height);\n\t\tline-height: var(--wx-line-height);\n\t\ttext-align: center;\n\t\tborder-radius: var(--wx-line-height);\n\t}\n\n\t.wx-menu-icon.wxi-dots-h {\n\t\tbackground: var(--wx-background);\n\t}\n\n\t.wx-menu-icon:hover {\n\t\tbackground-image: linear-gradient(\n\t\t\trgba(0, 0, 0, 0.1) 0%,\n\t\t\trgba(0, 0, 0, 0.1) 100%\n\t\t);\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\n\tconst _ = getContext(\"wx-i18n\").getGroup(\"filter\");\n\tconst api = getContext(\"filter-store\");\n\n\tlet { mode = \"and\", id } = $props();\n\n\tfunction toggleGlue() {\n\t\tapi.exec(\"toggle-glue\", { id });\n\t}\n</script>\n\n<!-- svelte-ignore a11y_click_events_have_key_events -->\n<!-- svelte-ignore a11y_interactive_supports_focus -->\n<div class=\"wx-glue wx-{mode}\" role=\"button\" onclick={toggleGlue}>\n\t{_(mode)}\n</div>\n\n<style>\n\t.wx-glue {\n\t\tcursor: pointer;\n\t\tborder-radius: var(--wx-line-height);\n\t\tdisplay: inline-block;\n\t\tline-height: var(--wx-line-height);\n\t\twidth: 40px;\n\t\ttext-align: center;\n\t\t-webkit-user-select: none;\n\t\t   -moz-user-select: none;\n\t\t        user-select: none;\n\t}\n\n\t.wx-glue:hover {\n\t\tbackground-image: linear-gradient(\n\t\t\trgba(0, 0, 0, 0.1) 0%,\n\t\t\trgba(0, 0, 0, 0.1) 100%\n\t\t);\n\t}\n\n\t.wx-and {\n\t\tbackground-color: var(--wx-filter-and-background);\n\t\tcolor: var(--wx-filter-and-font-color);\n\t}\n\n\t.wx-or {\n\t\tbackground-color: var(--wx-filter-or-background);\n\t\tcolor: var(--wx-filter-or-font-color);\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\timport { delegateClick } from \"@svar-ui/lib-dom\";\n\timport { Portal, Popup } from \"@svar-ui/svelte-core\";\n\timport Self from \"./List.svelte\";\n\n\timport Panel from \"./Panel.svelte\";\n\timport Rule from \"./Rule.svelte\";\n\timport Glue from \"./Glue.svelte\";\n\n\tlet { group, type, onshowmenu } = $props();\n\n\tconst api = getContext(\"filter-store\");\n\n\tconst { value, fields, _editor: editor } = api.getReactiveState();\n\n\tlet filters = $derived($value.getBranch(group.id) || []);\n\n\tlet cssType = $derived(type == \"simple\" ? \"line\" : type);\n\tlet groupCss = $derived(group.$level == 1 ? \"top\" : \"inner\");\n\n\tconst handlers = {\n\t\tdblclick: id => api.exec(\"edit-rule\", { id }),\n\t\tmenu: (id, ev) => onshowmenu && onshowmenu({ id, ev }),\n\t\tdelete: id => {\n\t\t\tapi.exec(\"edit-rule\", {});\n\t\t\tapi.exec(\"delete-rule\", { id });\n\t\t},\n\t};\n\n\tconst getField = id => $fields.find(a => a.id == id);\n\n\t// line\n\tlet root = $state(),\n\t\truleBox = $state(),\n\t\truleEditor = $state();\n\t$effect(() => {\n\t\tif ($editor && ruleEditor === $editor.id) return;\n\n\t\tif (\n\t\t\t$editor &&\n\t\t\ttype !== \"list\" &&\n\t\t\tfilters.find(a => a.id === $editor.id)\n\t\t) {\n\t\t\tconst rootNode = root.querySelector(`[data-id='${$editor.id}']`);\n\t\t\tif (rootNode) {\n\t\t\t\truleBox = rootNode.getBoundingClientRect();\n\t\t\t\truleEditor = $editor.id;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\truleBox = ruleEditor = null;\n\t});\n\n\tfunction cancel() {\n\t\truleBox = ruleEditor = null;\n\t\tapi.exec(\"edit-rule\", {});\n\t}\n</script>\n\n<div\n\tbind:this={root}\n\tclass=\"wx-group wx-{groupCss} wx-{cssType}\"\n\tuse:delegateClick={handlers}\n>\n\t{#each filters as rule, i (rule.id)}\n\t\t{#if type === \"list\" && $editor && $editor.id == rule.id}\n\t\t\t<Panel {rule} />\n\t\t{:else if rule.data}\n\t\t\t<Self {type} group={rule} {onshowmenu} />\n\t\t{:else}\n\t\t\t<div class=\"wx-rule-wrapper\">\n\t\t\t\t<Rule\n\t\t\t\t\taction={type == \"simple\" ? \"delete\" : \"menu\"}\n\t\t\t\t\ttype={cssType}\n\t\t\t\t\tfilter={rule}\n\t\t\t\t\tfield={getField(rule.field)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{/if}\n\n\t\t{#if type !== \"simple\" && i < filters.length - 1}\n\t\t\t<div class=\"wx-glue-wrapper\">\n\t\t\t\t<Glue mode={group.glue} id={group.id} />\n\t\t\t</div>\n\t\t{/if}\n\t{/each}\n</div>\n\n{#if $editor && ruleBox}\n\t<Portal>\n\t\t<Popup\n\t\t\ttop={ruleBox.top + ruleBox.height}\n\t\t\tleft={ruleBox.left + ruleBox.width / 2}\n\t\t\toncancel={cancel}\n\t\t>\n\t\t\t<div class=\"wx-editor-wrapper\">\n\t\t\t\t<Panel {type} rule={$value.byId($editor.id)} />\n\t\t\t</div>\n\t\t</Popup>\n\t</Portal>\n{/if}\n\n<style>\n\t.wx-group.wx-inner.wx-list {\n\t\tmargin-left: 20px;\n\t\tpadding: 4px 0 0 8px;\n\t\tborder-left: var(--wx-border);\n\t}\n\n\t/* line */\n\t.wx-group.wx-inner.wx-line:before,\n\t.wx-group.wx-inner.wx-line:after {\n\t\tcontent: \"(\";\n\t\tmargin: 0 2px 0 -4px;\n\t\tdisplay: inline-flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransform: scaleX(0.75);\n\t\tfont-size: 30px;\n\t\tposition: relative;\n\t\ttop: -2px;\n\t}\n\t.wx-group.wx-inner.wx-line:after {\n\t\tcontent: \")\";\n\t\tmargin: 0 -4px 0 2px;\n\t}\n\t.wx-group.wx-line {\n\t\tdisplay: flex;\n\t\tgap: 10px;\n\t\tpadding: 4px;\n\t}\n\n\t.wx-line .wx-rule-wrapper,\n\t.wx-line .wx-glue-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t}\n\n\t.wx-editor-wrapper {\n\t\tpadding: 0 10px;\n\t\tmin-width: 280px;\n\t\tmax-width: 320px;\n\t}\n\t/*date picker within filter*/\n\t:global(.wx-popup):has(.wx-editor-wrapper) {\n\t\toverflow: visible !important;\n\t\tposition: absolute !important;\n\t}\n</style>\n", "<script>\n\timport { getContext } from \"svelte\";\n\n\timport { Button } from \"@svar-ui/svelte-core\";\n\timport { DropDownMenu, ContextMenu } from \"@svar-ui/svelte-menu\";\n\timport List from \"./editor/List.svelte\";\n\n\tlet { type } = $props();\n\n\tconst api = getContext(\"filter-store\");\n\tconst _ = getContext(\"wx-i18n\").getGroup(\"filter\");\n\n\tconst { value, fields } = api.getReactiveState();\n\n\tlet group = $derived($value.getBranch(0)[0]);\n\n\tfunction addFilter(data) {\n\t\tapi.exec(\"add-rule\", { rule: { $temp: true, ...data }, edit: true });\n\t}\n\n\tlet newFilterOptions = $derived.by(() => {\n\t\tconst now = {};\n\t\t$value.forEach(x => (now[x.field] = true));\n\t\treturn $fields\n\t\t\t.filter(c => !now[c.id])\n\t\t\t.map(o => ({ id: o.id, text: o.label }));\n\t});\n\n\tfunction selectNewFilter(ev) {\n\t\tconst action = ev.action;\n\t\tif (action) {\n\t\t\taddFilter({ field: action.id });\n\t\t}\n\t}\n\n\tlet menuOptions = [\n\t\t{\n\t\t\tid: \"edit-rule\",\n\t\t\ttext: _(\"Edit\"),\n\t\t\ticon: \"wxi-edit-outline\",\n\t\t},\n\t\t{\n\t\t\tid: \"add-rule\",\n\t\t\ttext: _(\"Add filter\"),\n\t\t\ticon: \"wxi-filter-plus-outline\",\n\t\t\tresolver: item => ({\n\t\t\t\tafter: item,\n\t\t\t\trule: { $temp: true },\n\t\t\t\tedit: true,\n\t\t\t}),\n\t\t},\n\t\t{\n\t\t\tid: \"add-group\",\n\t\t\ttext: _(\"Add group\"),\n\t\t\ticon: \"wxi-filter-multiple-outline\",\n\t\t\tresolver: item => ({\n\t\t\t\tafter: item,\n\t\t\t\trule: { $temp: true },\n\t\t\t\tedit: true,\n\t\t\t}),\n\t\t},\n\t\t{ type: \"separator\" },\n\t\t{\n\t\t\tid: \"delete-rule\",\n\t\t\ttext: _(\"Delete\"),\n\t\t\ticon: \"wxi-delete-outline\",\n\t\t},\n\t];\n\n\tlet menu = $state();\n\n\tconst menuAction = ev => {\n\t\tconst { context: item, action } = ev;\n\t\tif (action) {\n\t\t\tconst data = action.resolver ? action.resolver(item) : { id: item };\n\t\t\tapi.exec(action.id, data);\n\t\t}\n\t};\n\n\tconst onshowmenu = ({ ev, id }) => {\n\t\tmenu.show(ev, id);\n\t};\n</script>\n\n<div class=\"wx-filter-builder wx-{type}\">\n\t{#if type === \"list\"}\n\t\t<div class=\"wx-toolbar wx-{type}\">\n\t\t\t<Button type={\"primary\"} onclick={addFilter}>\n\t\t\t\t{_(\"Add filter\")}\n\t\t\t</Button>\n\t\t</div>\n\t\t<List {type} {group} {onshowmenu} />\n\t{:else if type === \"line\"}\n\t\t<div class=\"wx-toolbar wx-{type}\">\n\t\t\t<div class=\"wx-filters\">\n\t\t\t\t<List {type} {group} {onshowmenu} />\n\t\t\t</div>\n\n\t\t\t<div class=\"wx-button\">\n\t\t\t\t<Button type={\"primary\"} onclick={addFilter}>\n\t\t\t\t\t{_(\"Add filter\")}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t{:else if type === \"simple\"}\n\t\t<div class=\"wx-toolbar wx-{type}\">\n\t\t\t<div class=\"wx-button\">\n\t\t\t\t<DropDownMenu\n\t\t\t\t\toptions={newFilterOptions}\n\t\t\t\t\tonclick={selectNewFilter}\n\t\t\t\t>\n\t\t\t\t\t<Button disabled={!newFilterOptions.length} type={\"primary\"}\n\t\t\t\t\t\t>{_(\"Add filter\")}</Button\n\t\t\t\t\t>\n\t\t\t\t</DropDownMenu>\n\t\t\t</div>\n\n\t\t\t<div class=\"wx-filters\">\n\t\t\t\t<List {type} {group} {onshowmenu} />\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n</div>\n{#if type !== \"simple\"}\n\t<ContextMenu options={menuOptions} onclick={menuAction} bind:this={menu} />\n{/if}\n\n<style>\n\t.wx-filter-builder {\n\t\tbackground-color: var(--wx-background);\n\t}\n\t.wx-filter-builder.wx-list {\n\t\tpadding: 0;\n\t\tmax-width: 470px;\n\t}\n\n\t/* line */\n\t.wx-button {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t}\n\n\t.wx-toolbar.wx-line,\n\t.wx-toolbar.wx-simple {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tgap: 20px;\n\t\theight: 67px;\n\t}\n\n\t.wx-toolbar.wx-line {\n\t\tjustify-content: space-between;\n\t}\n\n\t.wx-filters {\n\t\toverflow-x: auto;\n\t\tdisplay: flex;\n\t}\n</style>\n", "<script>\n\t// svelte core\n\timport { setContext } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\n\t// components\n\timport Layout from \"./Layout.svelte\";\n\n\t// core widgets lib\n\timport { Locale } from \"@svar-ui/svelte-core\";\n\timport { en } from \"@svar-ui/filter-locales\";\n\n\t// stores\n\timport { EventBusRouter } from \"@svar-ui/lib-state\";\n\timport { DataStore } from \"@svar-ui/filter-store\";\n\n\tlet {\n\t\tvalue = { glue: \"and\", rules: [] },\n\t\tfields = [],\n\t\toptions = null,\n\t\ttype = \"list\",\n\t\tinit = null,\n\t\t...restProps\n\t} = $props();\n\n\t// init stores\n\tconst dataStore = new DataStore(writable);\n\n\t// define event route\n\tlet firstInRoute = dataStore.in;\n\n\tconst dash = /-/g;\n\tlet lastInRoute = new EventBusRouter((a, b) => {\n\t\tconst name = \"on\" + a.replace(dash, \"\");\n\t\tif (restProps[name]) {\n\t\t\trestProps[name](b);\n\t\t}\n\t});\n\tfirstInRoute.setNext(lastInRoute);\n\n\t// public API\n\texport const // state\n\t\tgetState = dataStore.getState.bind(dataStore),\n\t\tgetReactiveState = dataStore.getReactive.bind(dataStore),\n\t\tgetStores = () => ({ data: dataStore }),\n\t\t// events\n\t\texec = firstInRoute.exec,\n\t\tsetNext = ev => (lastInRoute = lastInRoute.setNext(ev)),\n\t\tintercept = firstInRoute.intercept.bind(firstInRoute),\n\t\ton = firstInRoute.on.bind(firstInRoute),\n\t\tdetach = firstInRoute.detach.bind(firstInRoute),\n\t\tgetValue = dataStore.getValue.bind(dataStore);\n\n\tconst api = {\n\t\texec,\n\t\tsetNext,\n\t\tintercept,\n\t\ton,\n\t\tdetach,\n\t\tgetState,\n\t\tgetReactiveState,\n\t\tgetStores,\n\t\tgetValue,\n\t};\n\n\t// common API available in components\n\tsetContext(\"filter-store\", {\n\t\tgetState: dataStore.getState.bind(dataStore),\n\t\tgetReactiveState: dataStore.getReactive.bind(dataStore),\n\t\texec: firstInRoute.exec.bind(firstInRoute),\n\t});\n\n\tlet init_once = true;\n\tconst reinitStore = () => {\n\t\tdataStore.init({\n\t\t\tvalue,\n\t\t\tfields,\n\t\t\toptions,\n\t\t});\n\n\t\tif (init_once && init) {\n\t\t\tinit(api);\n\t\t\tinit_once = false;\n\t\t}\n\t};\n\treinitStore();\n\t$effect(reinitStore);\n</script>\n\n<Locale words={en} optional={true}>\n\t<Layout {type} />\n</Locale>\n", "<script>\n\timport { getContext, untrack } from \"svelte\";\n\timport {\n\t\tRichSelect,\n\t\tText,\n\t\tDatePicker,\n\t\tDateRangePicker,\n\t} from \"@svar-ui/svelte-core\";\n\timport { createFilterRule } from \"@svar-ui/filter-store\";\n\n\tlet { fields = [], debounce = 300, onchange } = $props();\n\n\tlet lastField = $state(),\n\t\ttimer = $state(),\n\t\tlastValue = $state({});\n\n\tconst locale = getContext(\"wx-i18n\");\n\tconst l = locale.getRaw();\n\tconst f = l.filter?.dateFormat || l.formats?.dateFormat;\n\tconst _ = locale.getGroup(\"filter\");\n\n\tlet normalizedFields = $derived(normalizeFields(fields));\n\n\t$effect.pre(() => {\n\t\tnormalizedFields;\n\t\t// prepare lastField and lastValue\n\t\tuntrack(() => {\n\t\t\tconst values = {};\n\t\t\tnormalizedFields.forEach(field => {\n\t\t\t\tif (field.type === \"dynamic\") {\n\t\t\t\t\tfield.by.forEach(f => {\n\t\t\t\t\t\tif (typeof f.value !== \"undefined\")\n\t\t\t\t\t\t\tvalues[f.id] = f.value;\n\t\t\t\t\t});\n\t\t\t\t\tlastField = field.by[0].id;\n\t\t\t\t} else if (field.type === \"all\") {\n\t\t\t\t\tvalues[field.type] = field.value ?? \"\";\n\t\t\t\t} else if (typeof field.value !== \"undefined\") {\n\t\t\t\t\tvalues[field.id] = field.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tlastValue = values;\n\t\t});\n\t});\n\n\tlet filters = $derived.by(() => {\n\t\treturn normalizedFields.map(field => {\n\t\t\tlet base = {\n\t\t\t\tfield: field.type,\n\t\t\t\tlabel: field.label,\n\t\t\t\tplaceholder: field.placeholder,\n\t\t\t};\n\n\t\t\tif (field.type === \"dynamic\") {\n\t\t\t\tbase.dynamicField = true;\n\t\t\t\tbase.field = lastField;\n\n\t\t\t\tconst currentField = field.by.find(f => f.id === base.field);\n\t\t\t\tif (currentField) {\n\t\t\t\t\tbase = {\n\t\t\t\t\t\t...currentField,\n\t\t\t\t\t\t...base,\n\t\t\t\t\t\tplaceholder:\n\t\t\t\t\t\t\tcurrentField.placeholder ?? base.placeholder,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else if (field.type !== \"all\") {\n\t\t\t\tbase = { ...base, ...field, field: field.id };\n\t\t\t}\n\n\t\t\tif (field.by) base.optionsBy = getDynamicOptions(field.by);\n\t\t\tbase.value = lastValue[base.field];\n\n\t\t\treturn { type: \"text\", filter: \"contains\", ...base };\n\t\t});\n\t});\n\n\tfunction updateValue(value, field, delay) {\n\t\tlastValue[field] = value === \"$empty\" ? \"\" : value;\n\n\t\tdispatchChange(delay);\n\t}\n\n\tfunction updateFiltersField(value) {\n\t\tif (lastField !== value) {\n\t\t\tif (lastField) {\n\t\t\t\tlastValue = { ...lastValue, [lastField]: \"\" };\n\t\t\t}\n\t\t\tlastField = value;\n\t\t}\n\n\t\tdispatchChange();\n\t}\n\n\tfunction dispatchChange(delay) {\n\t\tif (timer) clearTimeout(timer);\n\t\ttimer = setTimeout(() => {\n\t\t\tonchange && onchange({ value: getRules() });\n\t\t}, delay || debounce);\n\t}\n\n\tfunction getRules() {\n\t\tconst rules = filters.map(f => getRule(f)).filter(a => !!a);\n\t\tif (rules.length === 1 && rules[0]?.glue === \"or\") return rules[0];\n\t\treturn {\n\t\t\tglue: \"and\",\n\t\t\trules,\n\t\t};\n\t}\n\n\tfunction getRule(filter) {\n\t\tif (filter.field === \"all\")\n\t\t\treturn createFilterRule(\n\t\t\t\tfilter.optionsBy,\n\t\t\t\t\"contains\",\n\t\t\t\tlastValue[filter.field]\n\t\t\t);\n\t\tconst value = lastValue[filter.field];\n\t\tif (!value) return null;\n\n\t\treturn {\n\t\t\tfield: filter.field,\n\t\t\tfilter: filter.filter,\n\t\t\ttype: filter.type,\n\t\t\tvalue,\n\t\t};\n\t}\n\n\tfunction normalizeFields(fields) {\n\t\treturn fields.map(field => {\n\t\t\tif (field.type === \"all\" || field.type === \"dynamic\") {\n\t\t\t\treturn {\n\t\t\t\t\t...field,\n\t\t\t\t\tby: field.by.map(b => normalizeField(b)),\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn normalizeField(field);\n\t\t});\n\t}\n\n\tfunction normalizeField(field) {\n\t\tif (typeof field === \"string\")\n\t\t\treturn { id: field, type: \"text\", filter: \"contains\" };\n\t\treturn {\n\t\t\t...field,\n\t\t\tfilter: field.filter || (field.options ? \"equal\" : \"contains\"),\n\t\t\toptions:\n\t\t\t\tfield.type !== \"date\" &&\n\t\t\t\tfield.options &&\n\t\t\t\tgetFieldOptions(field),\n\t\t};\n\t}\n\n\tfunction getFieldOptions(field) {\n\t\tconst options = field.options.map(a => {\n\t\t\tif (typeof a === \"string\" || typeof a === \"number\") {\n\t\t\t\treturn { id: a, label: a };\n\t\t\t}\n\t\t\treturn a;\n\t\t});\n\n\t\toptions.unshift({ id: \"$empty\", label: _(\"None\") });\n\n\t\treturn options;\n\t}\n\n\tfunction getDynamicOptions(arr) {\n\t\treturn arr.map(a => ({ id: a.id, label: a.id }));\n\t}\n</script>\n\n<div class=\"wx-filter-bar\">\n\t{#each filters as filter, i}\n\t\t{#if filter.label}\n\t\t\t<div class=\"wx-label\">\n\t\t\t\t{filter.label}\n\t\t\t</div>\n\t\t{/if}\n\t\t{#if filter.dynamicField}\n\t\t\t<div class=\"wx-select\">\n\t\t\t\t<RichSelect\n\t\t\t\t\tvalue={filter.field}\n\t\t\t\t\toptions={filter.optionsBy}\n\t\t\t\t\tonchange={({ value }) => updateFiltersField(value, i)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{/if}\n\t\t{#if filter.options}\n\t\t\t<div class=\"wx-select\">\n\t\t\t\t<RichSelect\n\t\t\t\t\tvalue={filter.value}\n\t\t\t\t\tplaceholder={filter.placeholder ??\n\t\t\t\t\t\t`${_(\"filter by\")} ${filter.field}`}\n\t\t\t\t\toptions={filter.options}\n\t\t\t\t\tonchange={({ value }) =>\n\t\t\t\t\t\tupdateValue(value, filter.field, 1)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{:else if filter.type === \"text\" || filter.type === \"number\"}\n\t\t\t<div class=\"wx-text\">\n\t\t\t\t<Text\n\t\t\t\t\tvalue={filter.value}\n\t\t\t\t\tplaceholder={filter.placeholder ??\n\t\t\t\t\t\t`${_(\"filter by\")} ${filter.field} (${_(filter.filter)})`}\n\t\t\t\t\tonchange={({ value, input }) => {\n\t\t\t\t\t\tif (input) updateValue(value, filter.field, 0);\n\t\t\t\t\t}}\n\t\t\t\t\ttype={filter.type}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t{:else if filter.type === \"date\"}\n\t\t\t<div class=\"wx-date\">\n\t\t\t\t{#if filter.filter === \"between\" || filter.filter === \"notBetween\"}\n\t\t\t\t\t<DateRangePicker\n\t\t\t\t\t\tvalue={filter.value}\n\t\t\t\t\t\tformat={f}\n\t\t\t\t\t\tbuttons={[\"done\", \"clear\", \"today\"]}\n\t\t\t\t\t\tplaceholder={filter.placeholder ??\n\t\t\t\t\t\t\t`${_(\"filter by\")} ${filter.field} (${_(filter.filter)})`}\n\t\t\t\t\t\tonchange={({ value }) =>\n\t\t\t\t\t\t\tupdateValue(value, filter.field, 1)}\n\t\t\t\t\t/>\n\t\t\t\t{:else}\n\t\t\t\t\t<DatePicker\n\t\t\t\t\t\tvalue={filter.value}\n\t\t\t\t\t\tformat={f}\n\t\t\t\t\t\tplaceholder={filter.placeholder ??\n\t\t\t\t\t\t\t`${_(\"filter by\")} ${filter.field} (${_(filter.filter)})`}\n\t\t\t\t\t\tonchange={({ value }) =>\n\t\t\t\t\t\t\tupdateValue(value, filter.field, 1)}\n\t\t\t\t\t/>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t{/each}\n</div>\n\n<style>\n\t.wx-filter-bar {\n\t\tdisplay: flex;\n\t\tpadding: 14px 2px;\n\t\twidth: 610px;\n\t\tgap: 10px;\n\t}\n\n\t.wx-label {\n\t\tfont-family: var(--wx-label-font-family);\n\t\tfont-size: var(--wx-label-font-size);\n\t\tline-height: var(--wx-label-line-height);\n\t\tfont-weight: var(--wx-label-font-weight);\n\t\tcolor: var(--wx-label-font-color);\n\t\talign-content: center;\n\t\tmax-width: 160px;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t.wx-select {\n\t\tflex: 1;\n\t}\n\n\t.wx-text,\n\t.wx-date {\n\t\tflex: 2;\n\t}\n</style>\n", "<script>\n\timport { Locale } from \"@svar-ui/svelte-core\";\n\timport { en } from \"@svar-ui/filter-locales\";\n\timport Layout from \"./Layout.svelte\";\n\n\tlet { ...props } = $props();\n</script>\n\n<Locale words={en} optional={true}>\n\t<Layout {...props} />\n</Locale>\n", "<script>\n\timport { Material } from \"@svar-ui/svelte-core\";\n\tlet { fonts = true, children } = $props();\n</script>\n\n{#if children}\n\t<Material {fonts}>{@render children()}</Material>\n{:else}\n\t<Material {fonts} />\n{/if}\n\n<style>\n\t:global(.wx-material-theme) {\n\t\t--wx-filter-value-color: var(--wx-color-primary);\n\t\t--wx-filter-and-background: #ffc975;\n\t\t--wx-filter-or-background: #00d19a;\n\t\t--wx-filter-and-font-color: var(--wx-color-font);\n\t\t--wx-filter-or-font-color: var(--wx-color-font);\n\t\t--wx-filter-border: var(--wx-border);\n\t}\n</style>\n", "<script>\n\timport { Willow } from \"@svar-ui/svelte-core\";\n\tlet { fonts = true, children } = $props();\n</script>\n\n{#if children}\n\t<Willow {fonts}>{@render children()}</Willow>\n{:else}\n\t<Willow {fonts} />\n{/if}\n\n<style>\n\t:global(.wx-willow-theme) {\n\t\t--wx-filter-value-color: var(--wx-color-primary);\n\t\t--wx-filter-and-background: #fcba2e;\n\t\t--wx-filter-or-background: #77d257;\n\t\t--wx-filter-and-font-color: var(--wx-color-font);\n\t\t--wx-filter-or-font-color: var(--wx-color-font);\n\t\t--wx-filter-border: 1px solid #e6e6e6;\n\t}\n</style>\n", "<script>\n\timport { WillowDark } from \"@svar-ui/svelte-core\";\n\tlet { fonts = true, children } = $props();\n</script>\n\n{#if children}\n\t<WillowDark {fonts}>{@render children()}</WillowDark>\n{:else}\n\t<WillowDark {fonts} />\n{/if}\n\n<style>\n\t:global(.wx-willow-dark-theme) {\n\t\tcolor-scheme: dark;\n\n\t\t--wx-filter-value-color: #ac9eff;\n\t\t--wx-filter-and-background: #fcba2e;\n\t\t--wx-filter-or-background: #77d257;\n\t\t--wx-filter-and-font-color: #000000b3;\n\t\t--wx-filter-or-font-color: #000000b3;\n\t\t--wx-filter-border: var(--wx-border);\n\t}\n</style>\n", "import FilterBuilder from \"./components/FilterBuilder.svelte\";\nimport FilterEditor from \"./components/editor/FilterEditor.svelte\";\nimport FilterBar from \"./components/bar/FilterBar.svelte\";\n\nimport Material from \"./themes/Material.svelte\";\nimport Willow from \"./themes/Willow.svelte\";\nimport WillowDark from \"./themes/WillowDark.svelte\";\n\nexport {\n\tcreateArrayFilter,\n\tcreateFilter,\n\tgetOptions,\n\tgetOptionsMap,\n\tgetFilter,\n\tgetFilters,\n\tcreateFilterRule,\n} from \"@svar-ui/filter-store\";\n\nimport { setEnv } from \"@svar-ui/lib-dom\";\nimport { env } from \"@svar-ui/lib-svelte\";\nsetEnv(env);\n\nexport { FilterBuilder, FilterEditor, FilterBar, Material, Willow, WillowDark };\n"],
  "mappings": "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",
  "names": ["id", "event", "handlers", "node", "id", "action", "v", "pos", "z", "key", "hotkeys", "locale", "b", "data", "id", "get", "set", "text", "x", "root", "root", "root_1", "root", "$$anchor", "root_1", "width", "root", "root", "root_1", "$$anchor", "x", "y", "v", "g", "b", "h", "f", "q", "b", "_", "width", "h", "v", "root", "get", "set", "root", "root_1", "c", "index", "navIndex", "next", "id", "_", "root_2", "data", "$$anchor", "index", "text", "ready", "index", "id", "root", "root_1", "root_2", "$$anchor", "root", "root_1", "get", "set", "root_3", "root_4", "root_6", "calendar", "formats", "root", "root_1", "root_2", "root_3", "root_4", "root", "locale", "date", "days", "root", "$$anchor", "root_1", "root_2", "locale", "$$anchor", "root_1", "Button_default", "_", "years", "y", "year", "$$anchor", "root_1", "Button_default", "_", "root", "$$anchor", "root_1", "root_2", "Button_default", "v", "x", "width", "formats", "f", "v", "root", "v", "root_3", "width", "formats", "f", "v", "value", "root", "root", "root_3", "root_1", "root_2", "text", "id", "next", "remove", "index", "root", "tag", "$$anchor", "root_1", "root_4", "get", "set", "x", "y", "width", "root", "_", "v", "id", "root", "get", "set", "root", "root_1", "root", "$$anchor", "root_1", "ready", "id", "index", "root", "root_5", "root_7", "root_8", "$$anchor", "id", "root", "$$anchor", "root_1", "root_4", "root_5", "root", "$$anchor", "root_1", "root_2", "root_3", "root_4", "get", "set", "width", "root", "root_1", "event", "root", "root", "$$anchor", "root_1", "root_2", "root_3", "root", "get", "set", "root", "data", "root", "$$anchor", "_", "root", "root_3", "root_6", "$$anchor", "root_7", "v", "width", "id", "root", "root_2", "root_3", "text", "next", "formats", "v", "h", "m", "next", "zeroBased", "f", "root", "root_2", "$$anchor", "root_4", "root_5", "root", "root", "handlers", "h", "root", "root_1", "$$anchor", "root_3", "$$anchor", "root_3", "$$anchor", "root_3", "next", "event", "element", "data", "v", "env", "env", "data", "uid", "root", "root_1", "$$anchor", "root_3", "root_4", "root_5", "x", "y", "z", "width", "id", "root", "$$anchor", "root_2", "v", "root_1", "$$anchor", "$$anchor", "root_1", "$$anchor", "root_1", "en_default", "x", "y", "locale", "f", "_", "ready", "field", "v", "value", "s", "rule", "x", "next", "options", "root", "$$anchor", "root_12", "root_13", "en_default", "id", "value", "root", "action", "v", "locale", "f", "_", "root", "$$anchor", "root_8", "_", "root", "handlers", "id", "root", "$$anchor", "Panel_default", "root_6", "root_7", "_", "data", "x", "c", "action", "id", "root_4", "root_7", "b", "on", "init_once", "en_default", "Layout_default", "locale", "f", "_", "fields", "b", "root", "$$anchor", "root_2", "root_3", "root_4", "root_6", "root_8", "en_default", "Layout_default", "env"]
}
