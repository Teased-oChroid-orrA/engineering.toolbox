# STB-074: Orchestrator decomposition and module extraction

- Epic: Refactor
- Estimate: 8 points
- Dependencies: STB-073|STB-053

## Scope
Decompose `SurfaceOrchestrator.svelte` into smaller UI/controller modules to bring file size back under architecture soft limits and reduce effect-coupling risk.

## Acceptance Criteria
- `src/lib/components/surface/SurfaceOrchestrator.svelte` shrinks substantially and delegates major domains to extracted modules.
- New modules are registered in `src/lib/surface/SurfaceArchitectureManifest.ts` with correct dependency declarations.
- Warning/reaction effects are isolated so no `effect_update_depth_exceeded` regressions occur.
- Core Mode / anti-bloat behavior is unchanged.
- Surface toolbox verification gates still pass.

## Suggested Decomposition Targets
- Interaction/viewport controller slice
- Slicing/export + recommendation rail state slice
- Recipe + transaction runner slice
- Modal management slice (datums/create/healing/extrude)

## Test Checklist
- `npm run check`
- `npm run verify:surface-toolbox`
- `npm run verify:surface-smoke-e2e`

## Notes
- Preserve current UX behavior; this ticket is structural decomposition and risk reduction.
- Prefer extracting pure controllers/state shims before large UI rewrites.
